!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.VHDocSDK=e():t.VHDocSDK=e()}(window,(function(){return function(t){var e={};function A(r){if(e[r])return e[r].exports;var n=e[r]={i:r,l:!1,exports:{}};return t[r].call(n.exports,n,n.exports,A),n.l=!0,n.exports}return A.m=t,A.c=e,A.d=function(t,e,r){A.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},A.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},A.t=function(t,e){if(1&e&&(t=A(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(A.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)A.d(r,n,function(e){return t[e]}.bind(null,n));return r},A.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return A.d(e,"a",e),e},A.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},A.p="",A(A.s=472)}([function(t,e){t.exports={GraphType:{PEN:1,NITE_WHITE_PEN:2,SQUARE:3,CIRCLE:4,ARROW:5,TEXT:6,BITMAP:7,ISOSCELES_TRIANGLE:8,RIGHT_TRIANGLE:9,LINE:10,SINGLE_ARROW:11,DOUBLE_ARROW:12},GraphName:{PEN:"Path",NITE_WHITE_PEN:"Path",SQUARE:"Rect",CIRCLE:"Ellipse",ARROW:"Line",TEXT:"IText",BITMAP:"Image",TRIANGLE:"Triangle",RIGHT_TRIANGLE:"Path",LINE:"Line",SINGLE_ARROW:"Path",DOUBLE_ARROW:"Path"},CanvasEventType:{Add:"object:added",Remove:"object:removed",Modified:"object:modified",Selected:"selection:created",Deselected:"selection:cleared",SelectChanged:"selection:updated",MouseMove:"mouse:move",MouseDown:"mouse:down",MouseUp:"mouse:up",MouseWheel:"mouse:wheel",TextChanged:"text:changed",TouchGesture:"touch:gesture",TouchDrag:"touch:drag",TouchOrientation:"touch:orientation",TouchShake:"touch:shake",TouchLongPress:"touch:longpress",Drag:"drag",DragOver:"dragover",DragEnter:"dragenter",DragLeave:"dragleave"},MessageType:{Add:"*add",Remove:"*remove",RemoveAll:"*remove_all",Modify:"*modify",Selected:"*selected",Deselected:"*deselected",SelectChanged:"*select_changed",Undo:"*undo",Redo:"*redo"},CommandType:{Null:1,Eraser:2,Undo:3,Redo:4,RemoveAll:5,Zoom:6}}},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){var r=A(76);function n(t,e){for(var A=0;A<e.length;A++){var n=e[A];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),r(t,n.key,n)}}t.exports=function(t,e,A){return e&&n(t.prototype,e),A&&n(t,A),r(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){"use strict";A.d(e,"a",(function(){return y}));var r=A(1),n=A.n(r),i=A(2),o=A.n(i),s=A(77),a=A.n(s),c=A(37),u=A.n(c),h=A(6),l=A.n(h),f=A(7),d=A.n(f),p=function(t){l()(A,t);var e=d()(A);function A(t){var r;return n()(this,A),(r=e.call(this,t))._type="IllegalStateException",r}return o()(A)}(function(){function t(e){n()(this,t),this._msg=e,this._type="RuntimeException"}return o()(t,[{key:"type",get:function(){return this._type}},{key:"toString",value:function(){return"[".concat(this.type,"] ").concat(this._msg)}}]),t}()),g=a()("privateLog"),v=a()("privateInstance"),y=function(){function t(){if(n()(this,t),this[v])throw new p("Log should be a singleton Class");this[v]=this,this.logLevels={all:"debug|info|log|warn|error",off:"",debug:"debug|info|log|warn|error",info:"info|warn|error",warn:"warn|error",error:"error"},this.level="all"}return o()(t,[{key:"level",get:function(){return this._level},set:function(t){if("string"!=typeof t)return this.level;if(!this.logLevels.hasOwnProperty(t))throw new p("".concat(t," is not a valid log level, should be in [all, off, debug, info, warn, error]"));this._level=this.logLevels[t]}},{key:"info",value:function(){for(var t=arguments.length,e=new Array(t),A=0;A<t;A++)e[A]=arguments[A];this[g]("info",e)}},{key:"debug",value:function(){for(var t=arguments.length,e=new Array(t),A=0;A<t;A++)e[A]=arguments[A];this[g]("debug",e)}},{key:"warn",value:function(){for(var t=arguments.length,e=new Array(t),A=0;A<t;A++)e[A]=arguments[A];this[g]("warn",e)}},{key:"error",value:function(){for(var t=arguments.length,e=new Array(t),A=0;A<t;A++)e[A]=arguments[A];this[g]("error",e)}},{key:g,value:function(t,e){if(window.console){var A=window.console[t];A||"debug"!==t||(A=window.console.info||window.console.log),!A||this.level.split("|").indexOf(t)<0||A[u()(e)?"apply":"call"](window.console,e)}}}],[{key:"OBJ",get:function(){return this[v]||(this[v]=new t),this[v]}}]),t}()},function(t,e,A){var r=A(222),n=A(393);function i(e){return t.exports=i=r?n:function(t){return t.__proto__||n(t)},t.exports.__esModule=!0,t.exports.default=t.exports,i(e)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){var r=A(397),n=A(25),i=A(225);function o(){return"undefined"!=typeof Reflect&&r?(t.exports=o=r,t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=o=function(t,e,A){var r=i(t,e);if(r){var o=n(r,e);return o.get?o.get.call(arguments.length<3?t:A):o.value}},t.exports.__esModule=!0,t.exports.default=t.exports),o.apply(this,arguments)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){var r=A(390),n=A(76),i=A(221);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=r(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n(t,"prototype",{writable:!1}),e&&i(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){var r=A(164),n=A(4),i=A(223),o=A(396);t.exports=function(t){var e=i();return function(){var A,i=n(t);if(e){var s=n(this).constructor;A=r(i,arguments,s)}else A=i.apply(this,arguments);return o(this,A)}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){t.exports=A(417)},function(t,e,A){t.exports=A(284)},function(t,e,A){t.exports=A(345)},function(t,e,A){"use strict";A.d(e,"a",(function(){return c}));var r=A(1),n=A.n(r),i=A(2),o=A.n(i),s=A(63),a=A.n(s),c=function(){function t(){if(n()(this,t),this._instance)throw new Error("UndoManager is singlton");a()(this),this._instance=this,this._dataCache=[],this._currentIndex=0,t.MAX_CACHE_COUNT=10}return o()(t,[{key:"undo",value:function(){if(this.canUndo())return this._currentIndex-=1,this.emitStepChange(),this._dataCache[this._currentIndex]}},{key:"redo",value:function(){if(this.canRedo())return this._currentIndex+=1,this.emitStepChange(),this._dataCache[this._currentIndex]}},{key:"clear",value:function(){this._currentIndex=-1,this._dataCache=[]}},{key:"save",value:function(t){this._currentIndex=Math.min(this._currentIndex,this._dataCache.length-1),this._dataCache=this._dataCache.slice(0,this._currentIndex+1),this._dataCache.push(t),this._currentIndex+=1,this.emitStepChange()}},{key:"canUndo",value:function(){return this._currentIndex>-1}},{key:"canRedo",value:function(){return this._currentIndex<this._dataCache.length-1}},{key:"emitStepChange",value:function(){this.emit("undo_step_change",{undoStep:Math.max(this._currentIndex,0),redoStep:this._dataCache.length-1-this._currentIndex})}}],[{key:"getInstance",value:function(){return this._instance||(this._instance=new t),this._instance}}]),t}()},function(t,e,A){var r=A(30);function n(t,e,A,n,i,o,s){try{var a=t[o](s),c=a.value}catch(t){return void A(t)}a.done?e(c):r.resolve(c).then(n,i)}t.exports=function(t){return function(){var e=this,A=arguments;return new r((function(r,i){var o=t.apply(e,A);function s(t){n(o,r,i,s,a,"next",t)}function a(t){n(o,r,i,s,a,"throw",t)}s(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){t.exports=A(290)},function(t,e,A){t.exports=A(273)},function(t,e){var A=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=A)},function(t,e,A){var r=A(40),n=A(88);t.exports=function(t,e,A,i,o){var s={};return r(i).forEach((function(t){s[t]=i[t]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=A.slice().reverse().reduce((function(A,r){return r(t,e,A)||A}),s),o&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(o):void 0,s.initializer=void 0),void 0===s.initializer&&(n(t,e,s),s=null),s},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){var A=t.exports={version:"2.6.12"};"number"==typeof __e&&(__e=A)},function(t,e,A){var r=A(29),n=A(15),i=A(57),o=A(62),s=A(56),a=function(t,e,A){var c,u,h,l=t&a.F,f=t&a.G,d=t&a.S,p=t&a.P,g=t&a.B,v=t&a.W,y=f?n:n[e]||(n[e]={}),B=y.prototype,w=f?r:d?r[e]:(r[e]||{}).prototype;for(c in f&&(A=e),A)(u=!l&&w&&void 0!==w[c])&&s(y,c)||(h=u?w[c]:A[c],y[c]=f&&"function"!=typeof w[c]?A[c]:g&&u?i(h,r):v&&w[c]==h?function(t){var e=function(e,A,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,A)}return new t(e,A,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(h):p&&"function"==typeof h?i(Function.call,h):h,p&&((y.virtual||(y.virtual={}))[c]=h,t&a.R&&B&&!B[c]&&o(B,c,h)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,e,A){t.exports=A(446)},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){var r=A(88);function n(t,e){for(var A=0;A<e.length;A++){var n=e[A];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),r(t,n.key,n)}}t.exports=function(t,e,A){return e&&n(t.prototype,e),A&&n(t,A),r(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){var r=A(405),n=A(25),i=A(76),o=A(225),s=A(27);function a(t,e,A,c){return(a="undefined"!=typeof Reflect&&r?r:function(t,e,A,r){var a,c=o(t,e);if(c){if((a=n(c,e)).set)return a.set.call(r,A),!0;if(!a.writable)return!1}if(a=n(r,e)){if(!a.writable)return!1;a.value=A,i(r,e,a)}else s(r,e,A);return!0})(t,e,A,c)}t.exports=function(t,e,A,r,n){if(!a(t,e,A,r||t)&&n)throw new Error("failed to set property");return A},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){t.exports=A(400)},function(t,e,A){var r=A(35),n=A(17),i=A(54),o=A(60),s=A(64),a=function(t,e,A){var c,u,h,l=t&a.F,f=t&a.G,d=t&a.S,p=t&a.P,g=t&a.B,v=t&a.W,y=f?n:n[e]||(n[e]={}),B=y.prototype,w=f?r:d?r[e]:(r[e]||{}).prototype;for(c in f&&(A=e),A)(u=!l&&w&&void 0!==w[c])&&s(y,c)||(h=u?w[c]:A[c],y[c]=f&&"function"!=typeof w[c]?A[c]:g&&u?i(h,r):v&&w[c]==h?function(t){var e=function(e,A,r){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,A)}return new t(e,A,r)}return t.apply(this,arguments)};return e.prototype=t.prototype,e}(h):p&&"function"==typeof h?i(Function.call,h):h,p&&((y.virtual||(y.virtual={}))[c]=h,t&a.R&&B&&!B[c]&&o(B,c,h)))};a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},function(t,e,A){t.exports=A(334)},function(t,e,A){t.exports=A(348)},function(t,e,A){var r=A(76);t.exports=function(t,e,A){return e in t?r(t,e,{value:A,enumerable:!0,configurable:!0,writable:!0}):t[e]=A,t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){"use strict";A.d(e,"a",(function(){return KA}));var r=A(79),n=A.n(r),i=A(1),o=A.n(i),s=A(2),a=A.n(s),c=A(10),u=A.n(c),h=A(26),l=A.n(h),f=A(63),d=A.n(f),p="h5",g="jpg",v="board",y="document",B="vh-canvas-container",w="vh-canvas",m="vh-drag-area",C="setDoc",b="nextPage",_="prevPage",x="gotoPage",E="nextStep",F="prevStep",Q="gotoStep",U="removeDoc",S="scale",I="pageable",T="play",O="pause",k="setGraphic",D="setTool",H="setBackgroundColor",L="discardActiveObject",M="clear",P="clearCache",R="setOption",K="editable",j="setCurrentId",N="trigger",V="allData",G="cacheable",X="setSize",W="fitToOrigin",Y="setSizeByDraw",J="setCanvasSize",z="scale",q="setControlStyle",Z="SetWatermark",$="ClearWatermark",tt="SaveData",et="ClearData",At=1,rt={opacity:.5,angle:15,fontSize:12,color:"#000000"},nt=function(){function t(e){o()(this,t),this.container=e}return a()(t,[{key:"setGraphic",value:function(t){this.container.operateDoodle(k,t)}},{key:"setTool",value:function(t){this.container.operateDoodle(D,t)}},{key:"setBackgroundColor",value:function(t){this.container.operateDoodle(H,t)}},{key:"discardActiveObject",value:function(){this.container.operateDoodle(L)}},{key:"clear",value:function(){this.container.operateDoodle(M)}},{key:"setControlStyle",value:function(t){this.container.operateDoodle(q,t)}}]),t}(),it=A(34),ot=A.n(it),st=A(25),at=A.n(st),ct=A(115),ut=A.n(ct),ht=A(236),lt=A.n(ht),ft=A(51),dt=A.n(ft),pt=(A(80),A(98)),gt=A.n(pt);function vt(t,e){for(var A=arguments.length,r=new Array(A>2?A-2:0),n=2;n<A;n++)r[n-2]=arguments[n];var i,o=lt()(e,r),s=gt()(e.prototype),a=ut()(s);try{for(a.s();!(i=a.n()).done;){var c=i.value,u=o[c];"function"==typeof u&&"constructor"!==c&&(t[c]=u.bind(o))}}catch(t){a.e(t)}finally{a.f()}}Date.prototype.toLogDate=function(){return(new Date).Format("yyyy-MM-dd hh:mm:ss.S")},Date.prototype.Format=function(t){var e={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var A in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),e)new RegExp("("+A+")").test(t)&&(t=t.replace(RegExp.$1,1===RegExp.$1.length?e[A]:("00"+e[A]).substr((""+e[A]).length)));return t},Math.limitIn=function(t,e,A){return Math.max(Math.min(t,A),e)};var yt,Bt,wt,mt,Ct,bt,_t,xt,Et,Ft,Qt,Ut=A(3);function St(t){return function(e,A,r){var n=r.value;r.value=function(){if(this.container){var e=this.container.type;if(e===t){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n.apply(this,i)}Ut.a.OBJ.warn("无法在 ".concat(e," 实例上执行 ").concat(A," 方法，该方法存在于 ").concat(t," 实例上"))}else Ut.a.OBJ.error("无法执行".concat(A,"方法，容器实例为空"))}}}function It(){return function(t,e,A){var r=A.value;A.value=function(){if(this._vod){for(var A=arguments.length,n=new Array(A),i=0;i<A;i++)n[i]=arguments[i];return r.apply(this,n)}var o=t.constructor.name;Ut.a.OBJ.error("Method call failed, only used in Vod mode, before call method ".concat(e,", you should set ").concat(o," instance property: isVod to true."))}}}var Tt,Ot,kt,Dt,Ht,Lt,Mt,Pt=(yt=St(y),Bt=St(y),wt=St(y),mt=St(y),Ct=St(y),bt=St(y),_t=St(y),xt=St(y),Et=St(y),Ft=St(y),Qt=function(){function t(e,A){o()(this,t),this.container=e,this.store=A}return a()(t,[{key:"setDoc",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},A=arguments.length>2?arguments[2]:void 0;""!==t?this.container.operateDocument(C,t,e,A):Ut.a.OBJ.warn("empty hash")}},{key:"removeDoc",value:function(){this.container.operateDocument(U)}},{key:"nextPage",value:function(){var t=this.store.getKV("passThrough").userId;this.store.setKV("sender",t),this.container.operateDocument(b)}},{key:"prevPage",value:function(){var t=this.store.getKV("passThrough").userId;this.store.setKV("sender",t),this.container.operateDocument(_)}},{key:"gotoPage",value:function(t){var e=this.store.getKV("passThrough").userId;this.store.setKV("sender",e),this.container.operateDocument(x,t)}},{key:"nextStep",value:function(){var t=this.store.getKV("passThrough").userId;this.store.setKV("sender",t),this.container.operateDocument(E)}},{key:"prevStep",value:function(){var t=this.store.getKV("passThrough").userId;this.store.setKV("sender",t),this.container.operateDocument(F)}},{key:"gotoStep",value:function(t,e){var A=this.store.getKV("passThrough").userId;this.store.setKV("sender",A),this.container.operateDocument(Q,t,e)}},{key:"getThumbnailList",value:function(){return this.container.getThumbnailList()}},{key:"getDocInfo",value:function(){return this.container.pageInfo.doc}}]),t}(),ot()(Qt.prototype,"setDoc",[yt],at()(Qt.prototype,"setDoc"),Qt.prototype),ot()(Qt.prototype,"removeDoc",[Bt],at()(Qt.prototype,"removeDoc"),Qt.prototype),ot()(Qt.prototype,"nextPage",[wt],at()(Qt.prototype,"nextPage"),Qt.prototype),ot()(Qt.prototype,"prevPage",[mt],at()(Qt.prototype,"prevPage"),Qt.prototype),ot()(Qt.prototype,"gotoPage",[Ct],at()(Qt.prototype,"gotoPage"),Qt.prototype),ot()(Qt.prototype,"nextStep",[bt],at()(Qt.prototype,"nextStep"),Qt.prototype),ot()(Qt.prototype,"prevStep",[_t],at()(Qt.prototype,"prevStep"),Qt.prototype),ot()(Qt.prototype,"gotoStep",[xt],at()(Qt.prototype,"gotoStep"),Qt.prototype),ot()(Qt.prototype,"getThumbnailList",[Et],at()(Qt.prototype,"getThumbnailList"),Qt.prototype),ot()(Qt.prototype,"getDocInfo",[Ft],at()(Qt.prototype,"getDocInfo"),Qt.prototype),Qt),Rt=(Tt=It(),Ot=It(),kt=It(),Dt=It(),Ht=It(),Lt=It(),Mt=function(){function t(e){o()(this,t),this._vod=e}return a()(t,[{key:"vodTime",value:function(t){return this._vod.time(t)}},{key:"vodSetData",value:function(t){this._vod.data=t}},{key:"vodAllCids",value:function(){return this._vod.allCidInfos()}},{key:"vodAllActivatedCids",value:function(){return this._vod.allActivatedCids()}},{key:"vodAllWatchStatus",value:function(){return this._vod.allWatchStatus()}},{key:"vodIsUseCompat",value:function(){return this._vod.useCompat}}]),t}(),ot()(Mt.prototype,"vodTime",[Tt],at()(Mt.prototype,"vodTime"),Mt.prototype),ot()(Mt.prototype,"vodSetData",[Ot],at()(Mt.prototype,"vodSetData"),Mt.prototype),ot()(Mt.prototype,"vodAllCids",[kt],at()(Mt.prototype,"vodAllCids"),Mt.prototype),ot()(Mt.prototype,"vodAllActivatedCids",[Dt],at()(Mt.prototype,"vodAllActivatedCids"),Mt.prototype),ot()(Mt.prototype,"vodAllWatchStatus",[Ht],at()(Mt.prototype,"vodAllWatchStatus"),Mt.prototype),ot()(Mt.prototype,"vodIsUseCompat",[Lt],at()(Mt.prototype,"vodIsUseCompat"),Mt.prototype),Mt),Kt=A(174),jt=function(){function t(e){o()(this,t),d()(this),this.store=e,this.hammer=null,this.e={pan:this._pan.bind(this),pinch:this._pinch.bind(this),tap:this._tap.bind(this),pinchend:this._pinchend.bind(this),nextValue:function(t,e){var A=t.indexOf(e);return t.indexOf(e)<0&&(A=t.indexOf(1)),A+=1,t[A=Math.max(Math.min(A,t.length-1),0)]},prevValue:function(t,e){var A=t.indexOf(e);return t.indexOf(e)<0&&(A=t.indexOf(1)),A-=1,t[A=Math.max(Math.min(A,t.length-1),0)]},mouseWheelHandeler:this._mouseWheelHandeler.bind(this)},this._scale=1,this._oldScale=1,this._top=0,this._left=0}return a()(t,[{key:"zoom",value:function(t,e,A){this._left=0,this._top=0,this._updateTransform(),this.lastOffsetX=0,this.lastOffsetY=0,t>=this._scale?(this._scale=t,this._left+=e*(t-this._scale),this._top+=A*(t-this._scale)):(this._scale=t,this._left+=this._left*(t-this._scale),this._top+=this._top*(t-this._scale)),this._updateTransform(),this.store.setKV("scaleFactor",t),this._scaleTriggerEvent()}},{key:"destroy",value:function(){this.hammer&&this.hammer.destroy()}},{key:"reset",value:function(){if(this.hammer)if(this.hammer.element){if(this._scale=1,this._oldScale=1,0!=KA.rotateDeg){var t=this.hammer.element.getBoundingClientRect(),e=(t.x+t.width+t.x)/2,A=(t.y+t.height+t.y)/2,r=window.innerWidth/2-e,n=window.innerHeight/2-A;this._left=r+this.lastOffsetX,this._top=n+this.lastOffsetY,this.lastOffsetX=this._left,this.lastOffsetY=this._top}else this._left=0,this._top=0,this.lastOffsetX=0,this.lastOffsetY=0;this._updateTransform(),this._scaleTriggerEvent()}else Ut.a.OBJ.warn("gesture target: undefined");else Ut.a.OBJ.warn("gesture have not be initialized")}},{key:"install",value:function(t){t?(this.hammer&&(this.hammer.destroy(),this.hammer=null),this.hammer=new Hammer(t),this.hammer.get("pinch").set({enable:!0}),this.hammer.add(new Kt.Pan),this.hammer.add(new Kt.Pinch({threshold:.1})),this.hammer.on("panstart panmove panend",this.e.pan),this.hammer.on("pinch",this.e.pinch),this.hammer.on("pinchend",this.e.pinchend),this.hammer.on("tap",this.e.tap),this.lastOffsetX=0,this.lastOffsetY=0):Ut.a.OBJ.error("gesture install failed, root element is null")}},{key:"addMouseWheel",value:function(t){if(this.dragEl=t,!this.initHeight||!this.initWidth){var e=this.dragEl.getBoundingClientRect(),A=e.width,r=e.height;this.initWidth=A,this.initHeight=r}t.removeEventListener("mousewheel",this.e.mouseWheelHandeler),t.addEventListener("mousewheel",this.e.mouseWheelHandeler)}},{key:"_mouseWheelHandeler",value:function(t){this.dragEl.style.transformOrigin="0 0";var e=this.dragEl.parentElement,A=t.deltaY>0,r=t.x,n=t.y,i=this.dragEl.getBoundingClientRect(),o=i.height,s=i.width,a=e.getBoundingClientRect(),c=a.top,u=a.left,h=null,l=this.store.getKV("scaleFactor");h=A?this.e.prevValue(KA.zoomFactors,l):this.e.nextValue(KA.zoomFactors,l),this._scale=h,this.store.setKV("scaleFactor",h);var f=(n-c-this.lastOffsetY)/o,d=(r-u-this.lastOffsetX)/s,p=this.initWidth*h,g=f*(this.initHeight*h-o),v=d*(p-s);this._top=this.lastOffsetY-g,this._left=this.lastOffsetX-v,this.lastOffsetX=this._left,this.lastOffsetY=this._top,this._updateTransform(),this._scaleTriggerEvent(),t.preventDefault()}},{key:"_pan",value:function(t){this._left=t.deltaX+this.lastOffsetX,this._top=t.deltaY+this.lastOffsetY,"panend"===t.type&&(this.lastOffsetX=this._left,this.lastOffsetY=this._top),this._updateTransform()}},{key:"_pinch",value:function(t){this._scale=t.scale*this._oldScale,this._updateTransform()}},{key:"_pinchend",value:function(t){this._oldScale*=t.scale}},{key:"_tap",value:function(t){var e=t.srcEvent,A=e.offsetX||0,r=e.offsetY||0;this.emit("tap",{xPos:A,yPos:r})}},{key:"_updateTransform",value:function(){var t=this._scale,e=this._scale,A=this._left,r=this._top;if(this.hammer&&this.hammer.element){var n=this.hammer.element,i=KA.rotateDeg||0;n.style.transform="matrix(".concat(t,",0 ,0 ,").concat(e,",").concat(A,",").concat(r,") rotate(").concat(i,"deg)")}}},{key:"_scaleTriggerEvent",value:function(){this.store&&this.store.info&&this.store.info.ee&&this.store.info.ee.emitter.emit("scaleTriggerEvent",{cid:this.store.info.cid,scaleFactor:this.store.info.scaleFactor})}}]),t}(),Nt=function(){function t(e,A){var r=this;o()(this,t),this.container=e,this.store=A,this.doodleType=null,this.gesture=new jt(A),this.e={ZoomIn:function(t){var e=t.xPos,A=t.yPos,n=r.store.getKV("scaleFactor"),i=r.e.nextValue(KA.zoomFactors,n);r.store.setKV("scaleFactor",i),r.container.type,r.container.operateDoodle(z,i,e,A),r.gesture.zoom(i,e,A)},ZoomOut:function(t){var e=t.xPos,A=t.yPos,n=r.store.getKV("scaleFactor"),i=r.e.prevValue(KA.zoomFactors,n);r.store.setKV("scaleFactor",i),r.container.type,r.container.operateDoodle(z,i,e,A),r.gesture.zoom(i,e,A)},nextValue:function(t,e){var A=t.indexOf(e);return t.indexOf(e)<0&&(A=t.indexOf(1)),A+=1,t[A=Math.max(Math.min(A,t.length-1),0)]},prevValue:function(t,e){var A=t.indexOf(e);return t.indexOf(e)<0&&(A=t.indexOf(1)),A-=1,t[A=Math.max(Math.min(A,t.length-1),0)]}},this.startZoomMode=!1}return a()(t,[{key:"zoomIn",value:function(){this.startZoomMode||this.zoomStart();var t=this.store.getKV("dragId");document.getElementById(t).style.transformOrigin="center";var e=this.store.getKV("scaleFactor"),A=this.e.nextValue(KA.zoomFactors,e);this.store.setKV("scaleFactor",A),this.gesture.zoom(A,0,0)}},{key:"zoomOut",value:function(){this.startZoomMode||this.zoomStart();var t=this.store.getKV("dragId");document.getElementById(t).style.transformOrigin="center";var e=this.store.getKV("scaleFactor"),A=this.e.prevValue(KA.zoomFactors,e);this.store.setKV("scaleFactor",A),this.gesture.zoom(A,0,0)}},{key:"zoomMove",value:function(){this.startZoomMode||this.zoomStart(),this.gesture.off("tap",this.e.ZoomIn),this.gesture.off("tap",this.e.ZoomOut)}},{key:"zoomReset",value:function(){this.startZoomMode||this.zoomStart();this.store.setKV("scaleFactor",1),this.container.type===y&&this.container.operateDocument(S,1,0,0),this.container.operateDoodle(z,1,0,0),this.gesture.reset(),this.gesture.off("tap",this.e.ZoomIn),this.gesture.off("tap",this.e.ZoomOut)}},{key:"zoomStart",value:function(){this.doodleType=this.container.getDoodoleCurrentId(),this.container.editable=!1,this.container.operateDoodle(k,-1);var t=this.store.getKV("dragId"),e=document.getElementById(t);this.gesture&&(this.gesture.destroy(),this.gesture.install(e),this.gesture.addMouseWheel(e)),this.startZoomMode=!0}},{key:"zoomEnd",value:function(t){if(this.startZoomMode){this.gesture&&this.gesture.destroy();var e=t.editable;t.pageable,t.cacheable,t.zoomable;this.container.editable=e;var A=this.doodleType||-1;this.container.operateDoodle(k,A),this.startZoomMode=!1,this.doodleType=null}}}]),t}(),Vt=A(53),Gt=A.n(Vt),Xt=function(){function t(){o()(this,t),this.info={}}return a()(t,[{key:"setKV",value:function(t,e){this.info[t]=e}},{key:"getKV",value:function(t){return this.info[t]}},{key:"deleteKey",value:function(t){this.info.hasOwnProperty(t)&&delete this.info[t]}},{key:"reset",value:function(){this.info={}}},{key:"toString",value:function(){var t=this,e=Gt()(this.info),A="";return e.forEach((function(e){A+="".concat(e,":").concat(t.info[e]," ")})),A}}]),t}(),Wt=A(5),Yt=A.n(Wt),Jt=A(4),zt=A.n(Jt),qt=A(6),Zt=A.n(qt),$t=A(7),te=A.n($t),ee=A(23),Ae=A.n(ee),re="onStepChange",ne="onSlideChange",ie="ready",oe="playbackComplete",se="animationInfo",ae="*add",ce="*modify",ue="*remove",he="*remove_all",le="*selected",fe="*deselected",de="*selectchanged",pe="*undo",ge="*redo",ve={1:"path",2:"path",3:"rect",4:"ellipse",5:"",6:"textbox",7:"picture",8:"isotriangle",9:"righttriangle",10:"line",11:"singlearrow",12:"doublearrow"},ye=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;o()(this,t),this.store=e}return a()(t,[{key:"analyze",value:function(t){return Ut.a.OBJ.info("analyze message ".concat(t)),t}},{key:"parse",value:function(t){var e=this.store,A=e.getKV("info"),r={};r.hash=A.hash||"",r.uniqueID=Ae()(),r.currentPage=A.slideIndex||0,r.page=A.slidesTotal||0,r.currentStep=A.stepIndex||0,r.step=A.stepsTotal||0,r.cw=e.getKV("originW")||this._getWrapperSize().width,r.ch=e.getKV("originH")||this._getWrapperSize().height,r.width=1!==A.originWidth?A.originWidth:r.cw,r.height=1!==A.originHeight?A.originHeight:r.ch,r.cid=e.getKV("cid"),r.ext=e.getKV("ext"),r.coreVersion=KA.version,r.doc_type=e.getKV("docType")||1,r.command=t,0===t.length?r.flipOver=0:t[0].hasOwnProperty("event")&&t[0].event===ne?r.flipOver=1:r.flipOver=0;var n="special";if(t[0].hasOwnProperty("event"))switch(t[0].event){case"container":n=t[0].type;break;case ne:n="filpover";break;case re:n="stepupdate";break;case"doodle":n=this._getDoodleOp(t[0])}return t[0].op=n,t[0].is_board=e.getKV("type")===y?1:2,r}},{key:"_getWrapperSize",value:function(){var t=this.store.getKV("rootId");if(""===t||void 0===t)return{width:300,height:150};var e=document.getElementById(t);return{width:e.clientWidth,height:e.clientHeight}}},{key:"_getDoodleOp",value:function(t){var e="";switch(t.type){case ae:e=ve[t.data.gtype];break;case ce:e="modify";break;case ue:e="eraser";break;case he:e="clear";break;case le:e="select";break;case fe:e="deselect";break;case de:e="selectchange";break;case pe:e="undo";break;case ge:e="redo"}return e}}]),t}(),Be=A(78),we=function(){function t(){o()(this,t),this.emitter=new Be.EventEmitter}return a()(t,[{key:"dispatch",value:function(t,e){this.emitter.emit(t,e)}},{key:"addEventListener",value:function(t,e){var A=arguments.length>2&&void 0!==arguments[2]&&arguments[2];A?this.emitter.once(t,e):this.emitter.on(t,e)}},{key:"removeEventListener",value:function(t,e){this.emitter.removeListener(t,e)}},{key:"removeAllListeners",value:function(){this.emitter.removeAllListeners()}}]),t}(),me=function(){function t(){o()(this,t),this.CLASS_NAME=this.constructor.name}return a()(t,[{key:"destroy",value:function(){}},{key:"info",value:function(t){for(var e=arguments.length,A=new Array(e>1?e-1:0),r=1;r<e;r++)A[r-1]=arguments[r];Ut.a.OBJ[t]("[".concat(this.CLASS_NAME,"] ").concat(A))}}]),t}(),Ce=function(t){Zt()(A,t);var e=te()(A);function A(){var t,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return o()(this,A),(t=e.call(this)).store=r,t._ee=t.store.getKV("ee"),t._isRegistered=!1,t}return a()(A,[{key:"registMsg",value:function(t){this.poster=t,this.poster.store=this.store,this.parser=new ye(this.store),this._isRegistered=!0}},{key:"unregistMsg",value:function(){this.destroy()}},{key:"sendMessage",value:function(t){if(this.isRegistered){var e=this.parser.parse(t);this.store.getKV("pageable")||this.store.getKV("editable")||!1?this.poster.send(e):this.info("debug","No sendMessage. pageable: ".concat(this.store.getKV("pageable"),", editable: ").concat(this.store.getKV("editable")))}else this.info("warn","Have not been registered Poster or Parser, can not send message")}},{key:"sendMessageEvent",value:function(t,e){this.poster.sendEventToMobile(t,e)}},{key:"receiveMessage",value:function(t){if(this.poster){var e=this.parser.analyze(t);this._ee.dispatch("remote_message",e)}else this.info("warn","Have not been registered Poster or Parser, can not receive message")}},{key:"destroy",value:function(){Yt()(zt()(A.prototype),"destroy",this).call(this),this.poster=null,this.parser=null,this._isRegistered=!1}},{key:"isRegistered",get:function(){return this._isRegistered}}]),A}(me),be=A(32),_e=A.n(be),xe=function(){function t(){o()(this,t)}return a()(t,null,[{key:"ua",get:function(){return window.navigator&&window.navigator.userAgent||""}},{key:"isIPad",get:function(){return/iPad/i.test(this.ua)||/Mac/i.test(this.ua)}},{key:"isIPhone",get:function(){return/iPhone/i.test(this.ua)&&!this.isIPad}},{key:"isIPod",get:function(){return/iPod/i.test(this.ua)}},{key:"isIOS",get:function(){return this.isIPad||this.isIPhone||this.isIPod}},{key:"IOSVersion",get:function(){var t=this.ua.match(/OS (\d+)_/i);return t&&t[1]?t[1]:null}},{key:"isAndroid",get:function(){return/Android/i.test(this.ua)}},{key:"androidVersion",get:function(){var t=this.ua.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&_e()(t[1]),A=t[2]&&_e()(t[2]);return e&&A?_e()(t[1]+"."+t[2]):e||null}},{key:"isFirefox",get:function(){return/Firefox/i.test(this.ua)}},{key:"isEdge",get:function(){return/Edge/i.test(this.ua)}},{key:"isChrome",get:function(){return!this.isEdge&&(/Chrome/i.test(this.ua)||/CriOS/i.test(this.ua))}},{key:"isSafari",get:function(){return/Safari/i.test(this.ua)&&!this.isChrome&&!this.isAndroid&&!this.isEdge}},{key:"chromeVersion",get:function(){var t=this.ua.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?_e()(t[2]):null}},{key:"IEVersion",get:function(){var t=/MSIE\s(\d+)\.\d/.exec(this.ua),e=t&&_e()(t[1]);return!e&&/Trident\/7.0/i.test(this.ua)&&/rv:11.0/.test(this.ua)&&(e=11),e}}]),t}(),Ee=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;o()(this,t),this.cbk=e,this.store=null}return a()(t,[{key:"send",value:function(t){var e=l()(t),A=this.store.getKV("isMobileSDK")||!1;if(xe.isAndroid&&A)try{window.doodlesdk.toServer(e)}catch(t){Ut.a.OBJ.error(t)}else if(xe.isIOS&&A)try{window.webkit.messageHandlers.toServer.postMessage(e)}catch(t){Ut.a.OBJ.error(t)}else{var r=(new Date).toLogDate();Ut.a.OBJ.info("[sim] send ".concat(r," ").concat(e)),this.cbk&&this.cbk(e)}}},{key:"sendEventToMobile",value:function(t,e){var A={type:t,info:e},r=l()(A),n=this.store.getKV("isMobileSDK")||!1;if(xe.isAndroid&&n)try{window.doodlesdk.toServerEvent(r)}catch(t){Ut.a.OBJ.error(t)}if(xe.isIOS&&n)try{window.webkit.messageHandlers.toServerEvent.postMessage(r)}catch(t){Ut.a.OBJ.error(t)}}}]),t}(),Fe=A(22),Qe=A.n(Fe),Ue=function(){function t(){o()(this,t),this.calcType="landscape",this.originWidth=0,this.originHeight=0}return a()(t,[{key:"initContainer",value:function(t,e,A){var r=document.getElementById(t);return r.style.position="absolute",r.style.width="".concat(e,"px"),r.style.height="".concat(A,"px"),r.style.overflow="auto",r}},{key:"resizeContainer",value:function(t,e,A){var r=document.getElementById(t);return r.style.width="".concat(e,"px"),r.style.height="".concat(A,"px"),r}},{key:"layout",value:function(t,e,A,r,n){var i="IFRAME"===t.tagName;(e/A).toFixed(2)<(r/n).toFixed(2)?this.calcType="portrait":this.calcType="landscape","landscape"===this.calcType?(t.style.width="".concat(e,"px"),t.style.height="".concat(A,"px"),t.style.top="50%",t.style.left="0",t.style.transform="scale(".concat(r/e,") translate3d(0,-50%,0)"),t.style.transformOrigin="left top",this.originHeight=r/e*A):(t.style.height="".concat(A,"px"),t.style.width=i?"100%":"".concat(e,"px"),t.style.left="50%",t.style.top="0",t.style.transform="scale(".concat(n/A,") translate3d(-50%,0,0)"),t.style.transformOrigin="left top",this.originWidth=i?1:n*e/A);var o=document.getElementsByClassName("canvas-container")[0];o&&(o.style.position="absolute",o.style.top="0")}},{key:"scale",value:function(t,e,A,r){Ut.a.OBJ.info("布局设置缩放".concat(t,", ").concat(e,", ").concat(A,", ").concat(r))}}]),t}();function Se(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"div",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=document.createElement(t);return gt()(e).forEach((function(t){var A=e[t];r[t]=A})),gt()(A).forEach((function(t){r.setAttribute(t,A[t])})),r}function Ie(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t&&(t.parentNode&&t.parentNode.removeChild(t),e&&e())}function Te(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,A=document.getElementById(t);A&&(A.parentNode&&A.parentNode.removeChild(A),e&&e())}var Oe=function(){function t(){o()(this,t)}return a()(t,null,[{key:"convert",value:function(t){switch(t.hasOwnProperty("version")||(t.version="old"),t.version){case"1.0.0":break;case"old":var e={id:"0",event:"onSlideChange",params:{slidesTotal:t.page,stepsTotal:""===t.step?0:t.step,stepIndex:t.currentStep,slideIndex:Math.max(t.currentPage-1,0)}};t.command=[e]}return t}}]),t}(),ke=A(27),De=A.n(ke),He=A(237),Le=A.n(He),Me=function(t){Zt()(A,t);var e=te()(A);function A(){var t,r,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()(this,A),(r=e.call(this))._store=null,r._opts=n,r.e=(t={},De()(t,ae,(function(t){r._send(ae,JSON.parse(t))})),De()(t,ue,(function(t){r._send(ue,JSON.parse(t))})),De()(t,he,(function(t){r._send(he,JSON.parse(t))})),De()(t,ce,(function(t){r._send(ce,JSON.parse(t))})),De()(t,pe,(function(t){r._send(pe,JSON.parse(t))})),De()(t,ge,(function(t){r._send(ge,JSON.parse(t))})),De()(t,le,(function(t){})),De()(t,fe,(function(t){})),De()(t,de,(function(t){})),t),r}return a()(A,[{key:"destroy",value:function(){var t=this;Yt()(zt()(A.prototype),"destroy",this).call(this),this.doo&&(Gt()(this.e).forEach((function(e){t.doo.off(e,t.e[e])})),this.doo.destroy(),this.doo=null),Ie(this.canvas)}},{key:"initDoodle",value:function(t){this.info("debug","initDoodle, elId: ".concat(t)),this.destroy(),this.doo=new Le.a;var e=1e4+~~(89999*Math.random()),A="".concat(w,"-").concat(e);this.canvas=this.createEl(t,A),this.doo.init(A,this.viewOption),this.initEvent(),this.info("debug","initDoodle end, elId: ".concat(t))}},{key:"operateDoodle",value:function(t){if(this.doo){for(var e=arguments.length,A=new Array(e>1?e-1:0),r=1;r<e;r++)A[r-1]=arguments[r];this.info("debug","涂鸦收到消息：".concat(t,", 参数为：").concat(A.join(","))),this.doo&&this.doo.deselectAll();var n=this.store.getKV("editable")||!1;switch(t){case k:var i=n?A[0]:-1;this.doo.currentGraphic(i);break;case D:(n||3===A[0]||4===A[0])&&(this.doo.currentGraphic(-1),this.doo.currentTool(A[0]));break;case H:this.doo.setBackgroundColor(A[0]);break;case L:this.doo.deselectAll();break;case M:this.doo.clear();break;case P:this.doo.clearCache();break;case R:this.doo.option=A[0];break;case K:this.doo.mouseEnable(A[0]),this.store.setKV("editable",A[0]);break;case j:this.doo.currentId=A[0];break;case N:this.doo.trigger(A[0],A[1]);break;case V:var o=A[0];"object"===dt()(o)&&(o=l()(o)),this.doo.setAllData(o);break;case G:this.doo.cacheable=A[0],this.store.setKV("cacheable",A[0]);break;case X:this.store.setKV("cw",A[0]),this.store.setKV("ch",A[1]),this.doo.setSize(A[0],A[1]);break;case W:this.doo.fitToOrigin(A[0],A[1]);break;case Y:this.doo.setSizeByDraw(A[0],A[1]);break;case J:this.doo.setCanvasSize(A[0],A[1]);break;case z:break;case q:this.doo.setControlOption(A[0]);break;case Z:this.doo.setWatermark();break;case $:this.doo.clearWatermark();break;case et:this.doo.clearData();break;case tt:this.doo.saveData();break;default:this.info("warn","Unidentified command type: ".concat(t))}}else this.info("error","Doodle haven't be initialized")}},{key:"getDoodoleCurrentId",value:function(){return this.doo.getCurrentGraphicId()}},{key:"createEl",value:function(t,e){var A=document.getElementById(t),r=Se("canvas",{id:e},{style:"position:absolute; z-index:2;"});return A.appendChild(r),r}},{key:"initEvent",value:function(){this.doo?(this.doo.on(ae,this.e[ae]),this.doo.on(ce,this.e[ce]),this.doo.on(ue,this.e[ue]),this.doo.on(he,this.e[he]),this.doo.on(pe,this.e[pe]),this.doo.on(ge,this.e[ge])):this.info("error","Doodle haven't be initialized")}},{key:"_send",value:function(t,e){this._ee.dispatch("doodle_events",{id:this.id,type:t,data:e,stamp:Ae()().toString()})}},{key:"viewOption",get:function(){return this._opts}},{key:"option",get:function(){return this.doo.option},set:function(t){this.doo.option=t}},{key:"allData",get:function(){return this.doo.getAllData()}},{key:"currentId",get:function(){return this.doo.currentId}},{key:"store",get:function(){return this._store},set:function(t){this._store=t,this._ee=this._store.getKV("ee")}}]),A}(me),Pe=function(t){Zt()(A,t);var e=te()(A);function A(t,r,n){var i;o()(this,A),i=e.call(this),Ut.a.OBJ.debug("AbstractContainer constructor"),i.type="",i._id=r,i._root=t,i._editable=!1,i._cacheable=!1,i.selected=!1,i.allData=[],i.doo=null,i._store=null,i.layout=new Ue,"string"==typeof n&&(n=JSON.parse(n)),i._opts=function t(e,A){for(var r in A)"object"===dt()(A[r])?(e[r]=e[r]||{},t(e[r],A[r])):e[r]=A[r];return e}(i.defaultOption,n);var s=1e4+~~(89999*Math.random()),a="".concat(m,"-").concat(s);return i.dragAreaId=a,i._initDoodle(),Ut.a.OBJ.debug("AbstractContainer constructor end"),i}return a()(A,[{key:"operateDoodle",value:function(t){var e;if(this.doo){Ut.a.OBJ.debug("AbstractContainer operateDoodle");for(var A=arguments.length,r=new Array(A>1?A-1:0),n=1;n<A;n++)r[n-1]=arguments[n];(e=this.doo).operateDoodle.apply(e,[t].concat(r)),Ut.a.OBJ.debug("AbstractContainer operateDoodle end")}}},{key:"getDoodoleCurrentId",value:function(){return this.doo?this.doo.getDoodoleCurrentId():-1}},{key:"resize",value:function(t,e){this.layout.resizeContainer(this.root,t,e),this.layout.resizeContainer(this.dragAreaId,t,e),this.doo&&this.doo.operateDoodle("setSize",t,e)}},{key:"destroy",value:function(){Yt()(zt()(A.prototype),"destroy",this).call(this),this.doo&&(this.doo.destroy(),this.doo=null),Te(this.dragAreaId)}},{key:"setSelected",value:function(t){this.selected=t,t&&(this.operateDoodle(et),this.operateDoodle(tt))}},{key:"_initContainer",value:function(){var t=Se("div",{id:this.dragAreaId},{width:"100%",height:"100%"});document.getElementById(this.root).appendChild(t),this.dragArea=t;var e=this.option.basic.width||200,A=this.option.basic.height||150;this.option.basic.width=e,this.option.basic.height=A,this.layout.initContainer(this.root,e,A),t.style.width="100%",t.style.height="100%",t.style.position="absolute",t.style.overflow="hidden"}},{key:"_initDoodle",value:function(){this.destroy(),Te("".concat(B,"-").concat(this.id)),this.doo=new Me(this.option),this._initContainer(),this.doo.initDoodle(this.dragAreaId)}},{key:"data",set:function(t){var e=this;Ut.a.OBJ.info("收到数据 set data, ".concat(t)),Ut.a.OBJ.info("收到数据 set data, ".concat(this.doo.currentId)),"string"==typeof t&&(t=JSON.parse(t));var A=Oe.convert(t);A.cid===this.id&&A.command.forEach((function(t){switch(t.event){case"doodle":var A=e.store.getKV("cw"),r=e.store.getKV("ch"),n=t.data;if(n.pageId&&e.doo.currentId&&n.pageId!==e.doo.currentId)break;e.operateDoodle(J,n.cw,n.ch),e.operateDoodle(N,t.type,l()(n)),e.operateDoodle(X,A,r)}}))}},{key:"setAllData",value:function(t){this.allData=t}},{key:"option",get:function(){return this._opts}},{key:"root",get:function(){return this._root}},{key:"id",get:function(){return this._id}},{key:"board",get:function(){return this.doo}},{key:"pageInfo",get:function(){var t={};return t.doodle=this.doo&&this.doo.allData||{},t}},{key:"editable",get:function(){return this._editable},set:function(t){Ut.a.OBJ.debug("set editable, v: ".concat(t)),this._editable=t,this.operateDoodle(K,t),Ut.a.OBJ.debug("set editable end")}},{key:"cacheable",get:function(){return this._cacheable},set:function(t){this._cacheable=t,this.operateDoodle(G,t)}},{key:"store",get:function(){return this._store},set:function(t){this._store=t,this.doo&&(this.doo.store=t),this.store.setKV("cid",this.id),this.store.setKV("originW",this.option.basic.width),this.store.setKV("originH",this.option.basic.height),this.store.setKV("cw",this.option.basic.width),this.store.setKV("ch",this.option.basic.height),this.store.setKV("rootId",this.root),this.store.setKV("type",this.type),this.store.setKV("dragId",this.dragAreaId)}},{key:"defaultOption",get:function(){return{control:{},advance:{multiTouch:!1,zoomOption:{maxZoom:4,minZoom:1}},basic:{width:500,height:500,backgroundColor:"#ffc0f000",uploadBase:"//upload.vhall.com/"}}}}]),A}(me),Re=function(){function t(){o()(this,t)}return a()(t,[{key:"exec",value:function(t){if(0===t.length)return[];for(var e=[];t.length;){var A=t.shift();if(""!==A.hash){var r=A.command||[];if(0!==r.length){var n=r[0];"ready"!==n.event&&"onStepChange"!==n.event&&e.push(A)}}}return e}},{key:"execBoard",value:function(t){if(0===t.length)return[];for(var e=[];t.length;){var A=t.shift(),r=A.command||[];if(0!==r.length)"*remove_all"===r[0].type&&(e=[]),e.push(A)}return e}}]),t}(),Ke=function(t){Zt()(A,t);var e=te()(A);function A(t,r,n){var i;return o()(this,A),(i=e.call(this,t,r,n)).type=v,i}return a()(A,[{key:"setAllData",value:function(t){Yt()(zt()(A.prototype),"setAllData",this).call(this,t);var e=t;"string"==typeof t&&(e=JSON.parse(t));for(var r=(new Re).execBoard(e);r.length;){var n=r.shift();this.data=l()(n)}this.allData=[]}},{key:"store",get:function(){return this._store},set:function(t){Qe()(zt()(A.prototype),"store",t,this,!0);var e={hash:"",slideIndex:0,slidesTotal:0,stepIndex:0,stepsTotal:0,originWidth:1,originHeight:1};this.store.setKV("info",e)}}]),A}(Pe),je="postMessage"in window;function Ne(t,e,A){var r="";if(arguments.length<2?r="target error - target and name are both required":"string"!=typeof e&&(r="target error - target name must be string type"),r)throw new Error(r);this.target=t,this.name=e,this.prefix=A}function Ve(t,e){this.targets={},this.name=t,this.listenFunc=[],this.prefix=e||"[PROJECT_NAME]",this.initListen()}Ne.prototype.send=je?function(t){this.target.postMessage(this.prefix+"|"+this.name+"__Messenger__"+t,"*")}:function(t){var e=window.navigator[this.prefix+this.name];if("function"!=typeof e)throw new Error("target callback function is not defined");e(this.prefix+t,window)},Ve.prototype.addTarget=function(t,e){this.targets[e]=new Ne(t,e,this.prefix)},Ve.prototype.initListen=function(){var t=this,e=function(e){if("object"===dt()(e)&&e.data&&(e=e.data),"string"==typeof e)for(var A=e.split("__Messenger__"),r=A[1],n=A[0].split("|"),i=n[0],o=n[1],s=0;s<t.listenFunc.length;s++)i+o===t.prefix+t.name&&t.listenFunc[s](r)};je?"addEventListener"in document?window.addEventListener("message",e,!1):"attachEvent"in document&&window.attachEvent("onmessage",e):window.navigator[this.prefix+this.name]=e},Ve.prototype.listen=function(t){for(var e=0,A=this.listenFunc.length,r=!1;e<A;e++)if(this.listenFunc[e]===t){r=!0;break}r||this.listenFunc.push(t)},Ve.prototype.clear=function(){this.listenFunc=[]},Ve.prototype.send=function(t){var e,A=this.targets;for(e in A)A.hasOwnProperty(e)&&A[e].send(t)},Ve.prototype.reset=function(){this.listenFunc=[],this.targets={}};var Ge=Ve,Xe=A(118),We=function(){function t(){o()(this,t)}return a()(t,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._opts=t,this._reset(),this._docType="",this._ext=t.ext,this._hash=t.hash||"";var e=this.store.getKV("passThrough"),A=e.docId,r=e.userId;this._info={slidesTotal:t.slidesTotal||t.page||t.converted_page||0,slideIndex:t.slideIndex||t.show_page||0,stepIndex:t.stepIndex||t.show_step||0,pageHash:"".concat(this._hash,"/").concat(t.show_page)||"",hash:t.hash||"",userId:r,docId:A}}},{key:"createEl",value:function(t){}},{key:"nextPage",value:function(){this.currentPageId+=1,this.currentPageId=Math.min(this.currentPageId,this.totalPage-1)}},{key:"prevPage",value:function(){this.currentPageId-=1,this.currentPageId=Math.max(0,this.currentPageId)}},{key:"gotoPage",value:function(t){this.currentPageId=Math.limitIn(t,0,this.totalPage-1)}},{key:"prevStep",value:function(){}},{key:"nextStep",value:function(){}},{key:"gotoStep",value:function(){}},{key:"play",value:function(){}},{key:"pause",value:function(){}},{key:"resize",value:function(t,e){}},{key:"destroy",value:function(){this._reset()}},{key:"setSelected",value:function(t){}},{key:"_reset",value:function(){this._imgSize={width:0,height:0},this._info={slidesTotal:0,slideIndex:0,stepIndex:0,pageHash:"",stepsAll:[],hash:""},this._ext="",this._inited=!1}},{key:"hash",get:function(){return this._info.hash},set:function(t){this._info.hash=t}},{key:"cid",get:function(){return this._cid},set:function(t){this._cid=t}},{key:"currentPageHash",get:function(){var t="".concat(this.info.hash,"/").concat(this.info.slideIndex);return this._info.pageHash=t,t}},{key:"info",get:function(){return this._info}},{key:"ext",get:function(){return this._ext}},{key:"opts",get:function(){return this._opts}},{key:"inited",get:function(){return this._inited},set:function(t){this._inited=t}},{key:"initCompleteCallBK",get:function(){return this._initCompleteCallBK},set:function(t){this._initCompleteCallBK=t}},{key:"imageSize",get:function(){return this._imgSize},set:function(t){this._imgSize=t}},{key:"docType",get:function(){return this._docType}},{key:"totalPage",get:function(){return this.info.slidesTotal}},{key:"currentPageId",get:function(){return this.info.slideIndex},set:function(t){this.info.slideIndex=t}},{key:"store",get:function(){return this._store},set:function(t){this._store=t,this._ee=this.store.getKV("ee")}}]),t}(),Ye=function(t){Zt()(A,t);var e=te()(A);function A(){var t;return o()(this,A),(t=e.call(this))._ext="pptx",t.prevPageId=-1,t.inited=!1,t}return a()(A,[{key:"init",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Yt()(zt()(A.prototype),"init",this).call(this,e),this._docType=p,this._info.docType=this._docType,this._info.hash=e.hash,this._info.slideIndex=e.slideIndex||0,this._info.slidesTotal=e.slidesTotal,this._info.stepIndex=e.stepIndex||0,this._info.stepsTotal=e.stepsTotal||0,this._info.pageHash="".concat(this.info.hash,"/").concat(this.info.slideIndex)||"",this._info.docId=e.docId||e.document_id||"",this.msger||(this.msger=new Ge("parent","vhall-paas-doc-".concat(this.info.docId)),this.msger.listen((function(e){t.fromIFrame(e)}))),this.store.setKV("docType",1);var r=this.store.getKV("isVod");this._deferQueue=new Xe.a(r?0:350)}},{key:"addIFrameTarget",value:function(t,e){Ut.a.OBJ.info("register iframe to Messager, name: ".concat(e)),this.msger.addTarget(t.contentWindow,e)}},{key:"createEl",value:function(t,e){var r=this;Yt()(zt()(A.prototype),"createEl",this).call(this,t);var n=document.getElementById(t),i=Se("iFrame",{id:"vh-iframe-"+e,scrolling:"no",frameborder:"0",border:"0"},{style:"display:block;position: absolute;border:none; width: 100%; height: 100%;"});n.appendChild(i),this.iframe=i,i.onload=function(){r.addIFrameTarget(i,"presentation"),i.onload=null},this.addIFrameTarget(i,"presentation"),this.node=i}},{key:"nextPage",value:function(){if(Ut.a.OBJ.info("DocAdapter nextPage"),Yt()(zt()(A.prototype),"nextPage",this).call(this),this.prevPageId!==this.currentPageId){var t=this.store.getKV("sender");this.prevPageId=this.currentPageId;var e={event:"nextSlide",params:"",senderId:t};this.privateAdapterFire(e)}}},{key:"prevPage",value:function(){if(Ut.a.OBJ.info("DocAdapter prevPage"),Yt()(zt()(A.prototype),"prevPage",this).call(this),this.prevPageId!==this.currentPageId){var t=this.store.getKV("sender");this.prevPageId=this.currentPageId;var e={event:"preSlide",params:"",senderId:t};this.privateAdapterFire(e)}}},{key:"gotoPage",value:function(t){if(Ut.a.OBJ.info("DocAdapter gotoPage, ".concat(t)),Yt()(zt()(A.prototype),"gotoPage",this).call(this,t),this.prevPageId!==this.currentPageId){var e=this.store.getKV("sender");this.prevPageId=this.currentPageId;var r={event:"jumpSlide",params:this.currentPageId,senderId:e};this.privateAdapterFire(r)}}},{key:"gotoStep",value:function(){if(Ut.a.OBJ.info("DocAdapter gotoStep, slideIndex: ".concat(arguments.length<=0?void 0:arguments[0],", stepIndex: ").concat(arguments.length<=1?void 0:arguments[1])),(arguments.length<=0?void 0:arguments[0])!==this.info.slideIndex||(arguments.length<=1?void 0:arguments[1])!==this.info.stepIndex){var t=Math.limitIn(arguments.length<=0?void 0:arguments[0],0,this.info.slidesTotal-1);this.info.slideIndex=t,this.info.stepIndex=arguments.length<=1?void 0:arguments[1],this.store.setKV("info",this.info);var e=this.store.getKV("sender"),A={event:"jumpStep",params:{slideIndex:t,stepIndex:arguments.length<=1?void 0:arguments[1]},senderId:e};this.privateAdapterFire(A)}}},{key:"nextStep",value:function(){Ut.a.OBJ.info("DocAdapter nextStep");var t={event:"nextStep",params:"",senderId:this.store.getKV("sender")};this.privateAdapterFire(t)}},{key:"prevStep",value:function(){Ut.a.OBJ.info("DocAdapter prevStep");var t={event:"preStep",params:"",senderId:this.store.getKV("sender")};this.privateAdapterFire(t)}},{key:"play",value:function(){Ut.a.OBJ.info("DocAdapter play");var t={event:"play",params:"",senderId:this.store.getKV("sender")};this.privateAdapterFire(t)}},{key:"pause",value:function(){Ut.a.OBJ.info("DocAdapter pause");var t={event:"pause",params:"",senderId:this.store.getKV("sender")};this.privateAdapterFire(t)}},{key:"resize",value:function(t,e){Ut.a.OBJ.info("DocAdapter resize, w: ".concat(t,", h: ").concat(e)),Yt()(zt()(A.prototype),"resize",this).call(this,t,e);var r={event:"setSize",params:{width:t,height:e},senderId:this.store.getKV("sender")};this.privateAdapterFire(r)}},{key:"destroy",value:function(){if(Yt()(zt()(A.prototype),"destroy",this).call(this),this.msger&&(this.msger.clear(),this.msger=null),this.node){try{this.node.src="about:blank"}catch(t){}Ie(this.node)}this.inited=!1}},{key:"fromIFrame",value:function(t){Ut.a.OBJ.info("DocAdapter fromIFrame, ".concat(t));var e={cid:this.cid,stamp:Ae()().toString(),doc_type:this.store.getKV("docType")||1};"string"==typeof t&&u()(e,JSON.parse(t));var A=e.event,r=e.params;if(this.info.docId==r.docId){switch(A){case ie:u()(this._info,r),this._initCompleteCallBK&&this._initCompleteCallBK();break;case re:case ne:u()(this._info,r),this.prevPageId=r.slideIndex}this.store.setKV("info",this.info);var n=r.senderId;n!=this.store.getKV("passThrough").userId&&A!=ie&&A!=se&&""!=n||this._ee.dispatch("doc_events",e),[ne,re].indexOf(A)>=0&&this._ee.dispatch("report_doc_events",e)}}},{key:"hash",get:function(){return Yt()(zt()(A.prototype),"hash",this)},set:function(t){Qe()(zt()(A.prototype),"hash",t,this,!0);var e=this.info,r=e.docId,n=e.userId,i=this.store.getKV("sender")||n;this.node.src="".concat(this.opts.urlBase).concat(t,"/presentation2.html?docId=").concat(r,"&userId=").concat(n,"&s=").concat(Ae()(),"&sender=").concat(i)}},{key:"privateAdapterFire",value:function(t){var e=this;if(this._selected||!this.inited){this._deferQueue.push(l()(t),(function(t){return e.msger.send(t)}))}}},{key:"setSelected",value:function(t){Yt()(zt()(A.prototype),"setSelected",this).call(this,t),this._selected=t}}]),A}(We),Je=A(12),ze=A.n(Je),qe=A(8),Ze=A.n(qe),$e=A(30),tA=A.n($e),eA=function(t){Zt()(r,t);var e,A=te()(r);function r(){var t;return o()(this,r),(t=A.call(this)).prevPageId=-1,t._ext="jpg",t.prevPageId=-1,t.inited=!1,t}return a()(r,[{key:"init",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Yt()(zt()(r.prototype),"init",this).call(this,t),this._info.hash=t.hash,this._docType=g,this._info.docType=this._docType,this._info.docId=t.docId||"",this._info.originWidth=t.width||0,this._info.originHeight=t.height||0,this._info.s=Ae()().toString(),this.store.setKV("docType",2)}},{key:"createEl",value:(e=ze()(Ze.a.mark((function t(e,A){var n,i,o,s,a,c,u;return Ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Yt()(zt()(r.prototype),"createEl",this).call(this,e),n=document.getElementById(e),i=Se("img",{id:"vh-image-"+A},{style:"display:block;position: absolute;border:none;"}),n.appendChild(i),this.node=i,o=this.getCurrentPageURL(),s=new AA,t.next=9,s.fetch(o);case 9:a=t.sent,c=a.width,u=a.height,this.info.originWidth=c,this.info.originHeight=u,this.dispatchEvent(ie),this._initCompleteCallBK&&this._initCompleteCallBK();case 15:case"end":return t.stop()}}),t,this)}))),function(t,A){return e.apply(this,arguments)})},{key:"nextPage",value:function(){Yt()(zt()(r.prototype),"nextPage",this).call(this),Yt()(zt()(r.prototype),"currentPageId",this)===Yt()(zt()(r.prototype),"totalPage",this)-1&&this.dispatchEvent(oe),this.prevPageId!==this.currentPageId&&(this.prevPageId=this.currentPageId,this.loadFile(),this.dispatchEvent())}},{key:"prevPage",value:function(){Yt()(zt()(r.prototype),"prevPage",this).call(this),this.prevPageId!==this.currentPageId&&(this.prevPageId=this.currentPageId,this.loadFile(),this.dispatchEvent())}},{key:"gotoPage",value:function(t){Yt()(zt()(r.prototype),"gotoPage",this).call(this,t),this.prevPageId!==this.currentPageId&&(this.prevPageId=this.currentPageId,this.loadFile(),this.dispatchEvent())}},{key:"nextStep",value:function(){Yt()(zt()(r.prototype),"nextStep",this).call(this),this.nextPage()}},{key:"prevStep",value:function(){Yt()(zt()(r.prototype),"prevStep",this).call(this),this.prevPage()}},{key:"gotoStep",value:function(){for(var t=arguments.length,e=new Array(t),A=0;A<t;A++)e[A]=arguments[A];Yt()(zt()(r.prototype),"gotoStep",this).call(this,e),this.gotoPage(e[0])}},{key:"getCurrentPageURL",value:function(){var t=this.opts.urlBase,e=this.opts.hash,A=Number(this.currentPageId)||0;return"".concat(t).concat(e,"/").concat(A+1,".jpg")}},{key:"loadFile",value:function(){if(this.node){var t=this.node.src,e=this.getCurrentPageURL();t!==e&&(this.node.src=e)}else Ut.a.OBJ.warn("image element have not beed inited")}},{key:"dispatchEvent",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,e={};e.event=t,e.stamp=Ae()().toString(),e.cid=this.cid,e.doc_type=this.store.getKV("docType")||2;var A=this.store.getKV("passThrough"),r=A.userId,i=A.docId;this.store.setKV("info",u()(this.info,{docId:i,duration:1})),e.params=n()(n()({},this.info),{},{duration:1,docId:i});var o=this.store.getKV("sender");o!==r&&t!==ie&&""!==o&&t!==oe||this._ee.dispatch("doc_events",e),t===ne&&this._ee.dispatch("report_doc_events",e)}},{key:"destroy",value:function(){Yt()(zt()(r.prototype),"destroy",this).call(this),this.node&&Ie(this.node),this.inited=!1}}]),r}(We),AA=function(){function t(){o()(this,t)}var e;return a()(t,[{key:"fetch",value:(e=ze()(Ze.a.mark((function t(e){return Ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new tA.a((function(t,A){var r={},n=new Image;n.onload=function(e){r.width=n.width,r.height=n.height,t(r)},n.onerror=function(e){r.width=540,r.height=860,t(r)},n.src=e})));case 1:case"end":return t.stop()}}),t)}))),function(t){return e.apply(this,arguments)})}]),t}(),rA=function(){function t(){o()(this,t)}return a()(t,null,[{key:"createAdapter",value:function(t){return t.toLowerCase()===p?new Ye:new eA}}]),t}(),nA=function(t){Zt()(A,t);var e=te()(A);function A(t,r,n){var i;return o()(this,A),(i=e.call(this,t,r,n)).type=y,i.doc=null,i.lastData=null,i}return a()(A,[{key:"operateDocument",value:function(t){for(var e=arguments.length,A=new Array(e>1?e-1:0),r=1;r<e;r++)A[r-1]=arguments[r];this.info("info","operateDocument: ".concat(t,", 参数为: ").concat(A.join(","))),this.doo&&this.operateDoodle(L);var n=this.doc;switch(t){case C:if(!this._needChangeDoc(A[1]))return;this._setDocHandler(A[0],A[1],A[2]),this._initDoodleOperate(),this._setDoodlePage();break;case b:n.nextPage(),this._setDoodlePage();break;case _:n.prevPage(),this._setDoodlePage();break;case x:n.gotoPage(A[0]),this._setDoodlePage();break;case E:n.nextStep(),this._setDoodlePage();break;case F:n.prevStep(),this._setDoodlePage();break;case Q:n.gotoStep.apply(n,A),this._setDoodlePage();break;case U:n.removeDoc();break;case I:this.store.setKV("pageable",A[0]);break;case S:Ut.a.OBJ.info("文档缩放倍数".concat(A[0],", 横坐标:").concat(A[1],", 纵坐标:").concat(A[2]));var i=this.doc.node,o=A[0],s=A[1],a=A[2];this.layout.scale(i,o,s,a);break;case T:n.play();break;case O:n.pause();break;default:this.info("warn","Unidentified command type: ".concat(t,"."))}}},{key:"resize",value:function(t,e){if(Yt()(zt()(A.prototype),"resize",this).call(this,t,e),this.doc){this.doc.resize(t,e);var r=this.doc,n=r.node,i=r.imageSize;this.layout.layout(n,i.width,i.height,t,e)}}},{key:"destroy",value:function(){Yt()(zt()(A.prototype),"destroy",this).call(this),this.doc&&this.doc.destroy()}},{key:"setSelected",value:function(t){Yt()(zt()(A.prototype),"setSelected",this).call(this,t),this.doc&&this.doc.setSelected(t)}},{key:"_changeDoc",value:function(t){var e=JSON.parse(t),A={ext:e.ext,slideIndex:e.slideIndex||e.show_page||e.currentPage,slidesTotal:e.slidesTotal||e.page,hash:e.hash,stepIndex:e.stepIndex||e.show_step||e.currentStep,width:e.width,height:e.height,doc_type:e.doc_type,docId:e.docId};this.operateDocument(C,e.hash,l()(A))}},{key:"_needChangeDoc",value:function(t){var e=this.doc;if(!e)return!0;if((t="string"==typeof t?JSON.parse(t):t).doc_type){var A=1==t.doc_type?p:g;if(e.docType!=A)return!0}return e.hash!==t.hash}},{key:"_setDocHandler",value:function(t,e,A){var r=this;if(this.info("info","_setDocHandler",A),""!==this.option.basic.urlBase){if(1==t)return this.store.getKV("ee").dispatch("docNotExit",{docId:this.store.getKV("passThrough").docId,cid:this.store.getKV("cid")}),void Ut.a.OBJ.info("文档不存在或被删除");if(A)this.store.setKV("sender","vhallRemote");else{var n=this.store.getKV("passThrough").userId;this.store.setKV("sender",n)}this.doo&&this.doc&&this.doc.hash!==t&&(this.operateDoodle(P),this.operateDoodle(M));var i=JSON.parse(e);i.pageData&&(this.allData=i.pageData);var o=i.width,s=i.height;this.store.setKV("imageWidth",o),this.store.setKV("imageHeight",s),this.doc&&this.doc.destroy(),u()(i,this.option.basic);var a=p;if(i.doc_type){a=1==i.doc_type?p:g;var c=this.store.getKV("passThrough");c.docId=i.docId?i.docId:i.document_id?i.document_id:c.docId,this.store.setKV("passThrough",c)}else a=i.ext.indexOf("ppt")>=0?p:g;if(this.doc=rA.createAdapter(a),this.doc.setSelected(this.selected),this.doc.store=this.store,this.doc.init(i),this.doc.imageSize={width:o,height:s},this.doc.initCompleteCallBK=function(){r.info("info","initCompleteCallBK"),r.doc.setSelected(r.selected);var t=r.doc.docType==p?4e3:1e3,e=setTimeout((function(){if(r.info("info","isRemote: ".concat(A,", p: ").concat(l()(i))),A)r.store.setKV("sender","vhallRemote");else{var t=r.store.getKV("passThrough").userId;r.store.setKV("sender",t)}r.operateDocument(x,i.slideIndex||i.show_page||0),r.operateDoodle(j,r.doc.currentPageHash),r.lastData&&(r.data=r.lastData,r.lastData=null);var n=i.slideIndex||i.show_page||0,o=i.stepIndex||i.show_step||0;r.operateDocument(Q,n,o),r.operateDoodle(j,r.doc.currentPageHash),r.doc.inited=!0,r.allData&&r.setAllData(r.allData),r.operateDoodle(k,-1),0===n&&"h5"===r.doc._docType&&r.operateDocument(T),r.store.info.ee.dispatch("documentOnload",{cid:r.id}),clearTimeout(e)}),t)},this.doc.cid=this.id,this.doc.inited){var h=this.doc.initCompleteCallBK;h&&h(),h=null}else this.doc.createEl(this.dragAreaId,this.id);this.doc.hash=t;var f=this.doc,d=f.node,v=f.imageSize,y=this.store.getKV("cw"),B=this.store.getKV("ch");this.layout.layout(d,v.width,v.height,y,B),this.store.setKV("hash",t),this.store.setKV("ext",i.ext)}else this.info("error","Base doc url is empty, could not set doc by hash")}},{key:"_initDoodleOperate",value:function(){this.operateDoodle(G,this._cacheable),this.operateDoodle(K,this._editable)}},{key:"document",get:function(){return this.doc}},{key:"pageInfo",get:function(){var t=Yt()(zt()(A.prototype),"pageInfo",this);return t.doc=this.doc&&this.doc.info||{},t}},{key:"data",get:function(){return Yt()(zt()(A.prototype),"data",this)},set:function(t){var e=this;Ut.a.OBJ.info("收到文档数据 set data, ".concat(t)),Qe()(zt()(A.prototype),"data",t,this,!0);var r=JSON.parse(t);if(r.cid===this.id){if(!r.hasOwnProperty("hash"))return this.doc&&this.doc.destroy(),this.doo&&(this.operateDoodle(P),this.operateDoodle(M)),void Ut.a.OBJ.warn("warn","does not exist hash, destroy doc node and clear doodle");if(""!=r.hash){if(r=Oe.convert(r),this._needChangeDoc(r))return this.info("info","need change Doc"),this.lastData=t,void this._changeDoc(t);r.command.forEach((function(t){var A=t.params;switch(t.event){case re:e.store.setKV("sender",A.senderId),e.operateDocument(Q,A.slideIndex,A.stepIndex);break;case ne:var r=e.doc.currentPageHash;e.operateDoodle(j,r),e.store.setKV("sender",A.senderId),e.operateDocument(x,A.slideIndex)}}))}else Ut.a.OBJ.info("文件数据Hash为空，不处理： ".concat(t))}}},{key:"_setDoodlePage",value:function(){this.doc&&this.operateDoodle(j,this.doc.currentPageHash)}},{key:"getThumbnailList",value:function(){for(var t=this.option.basic.urlBase,e=this.doc.info,A=e.hash,r=e.slidesTotal,n=[],i=1;i<=r;i+=1)n.push("".concat(t).concat(A,"/").concat(i,"_s.jpg"));return n}},{key:"setAllData",value:function(t){if(Yt()(zt()(A.prototype),"setAllData",this).call(this,t),this.doc.inited){var e=t;"string"==typeof t&&(e=JSON.parse(t));for(var r=(new Re).exec(e);r.length;){var n=r.shift();n.doc_type=this.doc.docType===p?1:2,this.data=l()(n)}this.allData=[]}}},{key:"pageable",get:function(){return this._pageable},set:function(t){this._pageable=t,this.operateDocument(I,t)}},{key:"docInstance",get:function(){return this.doc}}]),A}(Pe),iA=function(){function t(){o()(this,t)}return a()(t,null,[{key:"parse",value:function(t){var e=[];return t.forEach((function(t){var A=t.content2;t.content2||(A=t.content);var r=JSON.parse(A),n={time:t.created_at,content:A,uid:+r.uniqueID,flipOver:+r.flipOver,cid:r.cid,hash:r.hash,currentPage:r.currentPage};e.push(n)})),e}}]),t}(),oA=function(){function t(){o()(this,t),this.CLASS_NAME=this.constructor.name,this.dbData=[],window.dataInstallComplete=!1}return a()(t,[{key:"init",value:function(t){}},{key:"install",value:function(t){this.info("info","start parse data."),this.dbData=iA.parse(t),this.info("info","db data parse complete."),this.info("info","here are ".concat(this.dbData.length," pieces of data.")),window.dataInstallComplete=!0}},{key:"destroy",value:function(){window.dataInstallComplete=!1}},{key:"info",value:function(t){for(var e=arguments.length,A=new Array(e>1?e-1:0),r=1;r<e;r++)A[r-1]=arguments[r];Ut.a.OBJ[t]("[".concat(this.CLASS_NAME,"] ").concat(A))}}]),t}(),sA=A(37),aA=A.n(sA),cA=A(71),uA=A.n(cA);function hA(t,e){var A=function(t){return t.toString().split(/\.|\[|\]/).filter((function(t){return!!t}))}(e);if(!A.length)return t;for(var r=t,n=0,i=A.length;n<i;n++){var o=A[n];if(void 0===r[o])return;r=r[o]}return r}function lA(t){var e=t.message;return t.message=-1===e.indexOf("[IndexedDB]")?"[IndexedDB]: "+e:e,t}var fA=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o()(this,t);var A=e.store,r=e.db;if("object"!==dt()(A)||!A.name||"string"!=typeof A.name)throw new Error("[DBStore]: options.store should be a store config object.");if(!(r instanceof dA))throw new Error("[DBStore]: options.db should be an instanceof DocModuleDB.");this.store=A,this.db=r,this.name=A.name,this.keyPath=A.isKeyValue?"key":A.keyPath}return a()(t,[{key:"transaction",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.name,A=t?"readwrite":"readonly";return this.db.connect().then((function(t){return t.transaction(e,A)}))}},{key:"objectStore",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.name;return this.transaction(t).then((function(t){return t.objectStore(e)}))}},{key:"request",value:function(t){var e=this,A=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return new tA.a((function(r,n){e.objectStore(A).then((function(e){var A=t(e);A.onsuccess=function(t){var e=t.target.result;r(e)},A.onerror=function(t){n(lA(t))}}))}))}},{key:"cursor",value:function(t){var e=t.index,A=t.range,r=t.direction,n=t.onTouch,i=t.onDone,o=t.onError,s=t.writable,a=void 0!==s&&s;return this.objectStore(a).then((function(t){var s=e?t.index(e):t,a=s.openCursor(A,r);a.onsuccess=function(t){var e=t.target.result;e?n(e,s):i(e,s)},a.onerror=function(t){o(lA(t))}}))}},{key:"iterate",value:function(t){var e=this,A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=A.writable,n=void 0!==r&&r,i=A.direction,o=void 0===i?"next":i;return new tA.a((function(A,r){e.cursor({writable:n,direction:o,onTouch:function(e,r){t(e,(function(){return e.continue()}),(function(){r.transaction.abort(),A()}))},onDone:function(){A()},onError:function(t){r(t)}})}))}},{key:"batch",value:function(t){var e=this,A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=A.writable,n=void 0===r||r;return this.transaction(n).then((function(A){var r=e.name,n=[];return t.forEach((function(t){var e=new tA.a((function(e,n){var i=A.objectStore(r),o=t(i);o.onsuccess=function(t){var A=t.target.result;e(A)},o.onerror=function(t){n(lA(t))}}));n.push(e)})),tA.a.all(n)}))}},{key:"get",value:function(t){if(!aA()(t))return this.request((function(e){return e.get(t)}));var e=t.map((function(t){return function(e){return e.get(t)}}));return this.batch(e,{writable:!1})}},{key:"keys",value:function(){var t=this.keyPath,e=[];return this.each((function(A){var r=hA(A,t);e.push(r)})).then((function(){return e}))}},{key:"all",value:function(){var t=[];return this.each((function(e){t.push(e)})).then((function(){return t}))}},{key:"count",value:function(){return this.request((function(t){return t.count()}))}},{key:"each",value:function(t){return this.iterate((function(e,A){var r=e.value;t(r),A()}))}},{key:"reverse",value:function(t){return this.iterate((function(e,A){var r=e.value;t(r),A()}),{direction:"prev"})}},{key:"some",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new tA.a((function(r,n){var i,o=[],s=0,a=A,c=A+e;A<0&&(i="prev",e=Math.min(e,-A),c=(a=-(A+e)||0)+e),t.iterate((function(t,e,A){s<a?(s+=1,e()):s<c?(o.push(t.value),s+=1,e()):A()}),{direction:i}).then((function(){A<0&&o.reverse(),r(o)})).catch(n)}))}},{key:"first",value:function(){return this.some(1).then((function(t){return t[0]}))}},{key:"last",value:function(){return this.some(1,-1).then((function(t){return t[0]}))}},{key:"find",value:function(t,e){return this.request((function(A){return A.index(t).get(e)}))}},{key:"query",value:function(t,e,A){var r=this,n=function(){switch(A){case">":return IDBKeyRange.lowerBound(e,!0);case">=":return IDBKeyRange.lowerBound(e);case"<":return IDBKeyRange.upperBound(e,!0);case"<=":return IDBKeyRange.upperBound(e);case"%":case"!=":case"in":return;default:return IDBKeyRange.only(e)}}(),i=[];return new tA.a((function(o,s){r.cursor({index:t,range:n,onTouch:function(t,r){var n=t.value,o=hA(n,r.keyPath);"!="===A?o!==e&&i.push(n):"%"===A?"string"==typeof o&&o.indexOf(e)>-1&&i.push(n):"in"===A?aA()(e)&&e.indexOf(o)>-1&&i.push(n):i.push(n),t.continue()},onDone:function(){o(i)},onError:function(t){s(t)}})}))}},{key:"select",value:function(t){var e=this.store.indexes||[],A={};e.forEach((function(t){var e=t.name,r=t.keyPath;A[e]=r}));for(var r=[],n=[],i=0,o=t.length;i<o;i+=1){var s=t[i],a=s.key,c=s.value,u=s.compare,h=s.optional,l=A[a]||a;h?r.push({keyPath:l,value:c,compare:u}):n.push({keyPath:l,value:c,compare:u})}var f=[];return this.each((function(t){(function(t){for(var e=function(t,e,A){if(void 0===t)return!1;switch(A){case">":return t>e;case">=":return t>=e;case"<":return t<e;case"<=":return t<=e;case"!=":return t!==e;case"%":return"string"==typeof t&&t.indexOf(e)>-1;case"in":return aA()(e)&&e.indexOf(t)>-1;default:return t===e}},A=0,i=n.length;A<i;A+=1){var o=n[A],s=o.keyPath,a=o.value,c=o.compare;if(!e(hA(t,s),a,c))return!1}for(var u=0,h=r.length;u<h;u+=1){var l=r[u],f=l.keyPath,d=l.value,p=l.compare;if(e(hA(t,f),d,p))return!0}return!1})(t)&&f.push(t)})).then((function(){return f}))}},{key:"add",value:function(t){if(!aA()(t))return this.request((function(e){return e.add(t)}),"readwrite");var e=t.map((function(t){return function(e){return e.add(t)}}));return this.batch(e)}},{key:"put",value:function(t){if(!aA()(t))return this.request((function(e){return e.put(t)}),"readwrite");var e=t.map((function(t){return function(e){return e.put(t)}}));return this.batch(e)}},{key:"delete",value:function(t){if(!aA()(t))return this.request((function(e){return e.delete(t)}),"readwrite");var e=t.map((function(t){return function(e){return e.delete(t)}}));return this.batch(e)}},{key:"remove",value:function(t){var e=this.keyPath;if(!aA()(t)){var A=hA(t,e);return this.delete(A)}var r=t.map((function(t){var A=hA(t,e);return function(t){return t.delete(A)}}));return this.batch(r)}},{key:"clear",value:function(){return this.request((function(t){return t.clear()}),"readwrite")}}]),t}(),dA=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o()(this,t);var A=e.name,r=e.version,n=void 0===r?1:r,i=e.stores;if(!A)throw new Error("[DocModuleDB]: you should pass `name` option.");if(!i||!aA()(i)||!i.length)throw new Error("[DocModuleDB]: you should pass `stores` option.");this.name=A,this.version=n,this.stores=i;var s=indexedDB.open(A,n);s.onupgradeneeded=function(t){var e=t.target.result,A=uA()(e.objectStoreNames),r=[];i.forEach((function(n){var i=null;if(A.indexOf(n.name)>-1)i=t.target.transaction.objectStore(n.name);else{var o=n.isKeyValue?"key":n.keyPath,s=!n.isKeyValue&&n.autoIncrement;i=e.createObjectStore(n.name,{keyPath:o,autoIncrement:s})}var a=i.indexNames;a&&a.length&&uA()(a).forEach((function(t){return i.deleteIndex(t)})),n.indexes&&n.indexes.length&&n.indexes.forEach((function(t){i.createIndex(t.name,t.keyPath||t.name,{unique:t.unique,multiEntry:aA()(t.keyPath)})})),r.push(n.name)})),A&&A.forEach((function(t){-1===r.indexOf(t)&&e.deleteObjectStore(t)}))},this.using={}}return a()(t,[{key:"connect",value:function(){var t=this;return new tA.a((function(e,A){var r=indexedDB.open(t.name,t.version);r.onerror=function(t){A(lA(t))},r.onsuccess=function(t){e(t.target.result)}}))}},{key:"use",value:function(t){var e=this.stores.find((function(e){return e.name===t}));if(!e)throw new Error("[DocModuleDB]: store ".concat(t," is not existing."));if(this.using[t])return this.using[t];var A=new fA({db:this,store:e});return e.isKeyValue&&(A.key=function(t){return A.keys().then((function(e){return e&&e[t]}))},A.getItem=function(t){return A.get(t).then((function(t){return t&&t.value}))},A.setItem=function(t,e){return A.put({key:t,value:e})},A.removeItem=function(t){return A.delete(t)}),this.using[t]=A,A}},{key:"close",value:function(){return this.using=null,this.stores=null,this.connect().then((function(t){t.close()}))}}]),t}(),pA=function(){function t(){o()(this,t),this.CLASS_NAME=this.constructor.name,this._db=null,this._dbStore=null,window.dataInstallComplete=!1}var e,A,r,n,i,s,c,u;return a()(t,[{key:"init",value:function(t){if(this.db)this.info("warn","DB had already initialized");else{this.info("info","DB init."),this._db=new dA(t),this.db.connect(),this._dbStore=this.db.use(t.use);var e=Ae()();this.dbStore.clear(),this.info("info","clear old data. cost: ".concat(Ae()()-e,"ms.")),this.info("info","DB init complete.")}}},{key:"install",value:(u=ze()(Ze.a.mark((function t(e){var A,r,n,i,o,s,a;return Ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.db){t.next=3;break}return this.info("error","DB have not been initialized."),t.abrupt("return");case 3:if(this.dbStore){t.next=6;break}return this.info("error","DB Store have not been selected."),t.abrupt("return");case 6:if(e){t.next=9;break}return this.info("error","DB data is empty."),t.abrupt("return");case 9:A=Ae()(),r=iA.parse(e),this.info("info","DB data parse. cost: ".concat(Ae()()-A,"ms.")),n=Ae()(),i=ut()(r),t.prev=14,i.s();case 16:if((o=i.n()).done){t.next=22;break}return s=o.value,t.next=20,this.dbStore.put(s);case 20:t.next=16;break;case 22:t.next=27;break;case 24:t.prev=24,t.t0=t.catch(14),i.e(t.t0);case 27:return t.prev=27,i.f(),t.finish(27);case 30:return this.info("info","DB data insert. cost: ".concat(Ae()()-n,"ms.")),t.next=33,this.dbStore.count();case 33:a=t.sent,this.info("info","There are ".concat(a," pieces data in DB.")),this.info("info","Data install complete."),window.dataInstallComplete=!0;case 37:case"end":return t.stop()}}),t,this,[[14,24,27,30]])}))),function(t){return u.apply(this,arguments)})},{key:"destroy",value:function(){this.dbStore&&(this.dbStore.clear(),this._dbStore=null),this.db&&(this.db.close(),this._db=null),window.dataInstallComplete=!1}},{key:"getData",value:(c=ze()(Ze.a.mark((function t(e){return Ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.dbStore.get(e));case 1:case"end":return t.stop()}}),t,this)}))),function(t){return c.apply(this,arguments)})},{key:"first",value:(s=ze()(Ze.a.mark((function t(){return Ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.dbStore.first());case 1:case"end":return t.stop()}}),t,this)}))),function(){return s.apply(this,arguments)})},{key:"last",value:(i=ze()(Ze.a.mark((function t(){return Ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.dbStore.last());case 1:case"end":return t.stop()}}),t,this)}))),function(){return i.apply(this,arguments)})},{key:"all",value:(n=ze()(Ze.a.mark((function t(){return Ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.dbStore.all());case 1:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"count",value:(r=ze()(Ze.a.mark((function t(){return Ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.dbStore.count());case 1:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})},{key:"query",value:(A=ze()(Ze.a.mark((function t(e,A,r){return Ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.dbStore.query(e,A,r));case 1:case"end":return t.stop()}}),t,this)}))),function(t,e,r){return A.apply(this,arguments)})},{key:"select",value:(e=ze()(Ze.a.mark((function t(){var e,A=arguments;return Ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==(e=A.length>0&&void 0!==A[0]?A[0]:[]).length){t.next=3;break}return t.abrupt("return",[]);case 3:return t.abrupt("return",this.dbStore.select(e));case 4:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"info",value:function(t){for(var e=arguments.length,A=new Array(e>1?e-1:0),r=1;r<e;r++)A[r-1]=arguments[r];Ut.a.OBJ[t]("[".concat(this.CLASS_NAME,"] ").concat(A))}},{key:"db",get:function(){return this._db}},{key:"dbStore",get:function(){return this._dbStore}}]),t}(),gA=[],vA=function(){function t(){o()(this,t),this.dbController=null,this.cid=""}var e;return a()(t,[{key:"query",value:(e=ze()(Ze.a.mark((function t(e,A){return Ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))),function(t,A){return e.apply(this,arguments)})},{key:"type",get:function(){return this.constructor.name}}]),t}(),yA=function(t){Zt()(A,t);var e=te()(A);function A(){return o()(this,A),e.call(this)}return a()(A,[{key:"query",value:function(t,e){var A=this,r=this.dbController.dbData,n=Array.prototype.slice.call(r).filter((function(t,r){return t.time<e&&t.cid===A.cid}));return Ut.a.OBJ.info("起始时间:".concat(t,", 终止时间:").concat(e,", 找到了").concat(n.length,"条数据")),n}}]),A}(vA),BA=function(t){Zt()(r,t);var e,A=te()(r);function r(){return o()(this,r),A.call(this)}return a()(r,[{key:"query",value:(e=ze()(Ze.a.mark((function t(e,A){var r,n;return Ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=this.dbController.dbData,n=[],Array.prototype.slice.call(r).filter((function(t,r){t.time>=e&&t.time<=A&&n.push(t)})),t.abrupt("return",n);case 4:case"end":return t.stop()}}),t,this)}))),function(t,A){return e.apply(this,arguments)})}]),r}(vA),wA=function(t){Zt()(r,t);var e,A=te()(r);function r(){return o()(this,r),A.call(this)}return a()(r,[{key:"query",value:(e=ze()(Ze.a.mark((function t(e,A){var r,n,i,o,s,a,c;return Ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=this.dbController.dbData,0!==(n=Array.prototype.slice.call(r).filter((function(t,e){return 1===t.flipOver&&t.time<=A}))).length){t.next=5;break}return Ut.a.OBJ.warn("no such flipOver data, start: ".concat(e,", end: ").concat(A)),t.abrupt("return",[]);case 5:return Ut.a.OBJ.info("一共找到了".concat(n.length,"条翻页消息")),Ut.a.OBJ.info("一共找到了".concat(n.length,"条翻页消息")),i=n.pop(),o=i.hash,s=i.currentPage,a=i.time,Ut.a.OBJ.info("基于".concat(e,"找到该文档最后一条翻页消息，文档hash:").concat(o," , page:").concat(s,", time:").concat(a)),Ut.a.OBJ.info("现在要找到数据时间介于".concat(a,"--").concat(A,", 文档hash:").concat(o,", 页码：").concat(s,", cid:").concat(i.cid,", flipOver:0, uid>0")),(c=Array.prototype.slice.call(r).filter((function(t,e){return t.time>=a&&t.time<=A&&t.hash===o&&t.currentPage===s&&t.cid===i.cid&&0===t.flipOver}))).unshift(i),Ut.a.OBJ.info("基于time: ".concat(a,"-").concat(A,", 共查询出").concat(c.length,"条数据，翻页距离结束共有").concat(A-a,"s.")),t.abrupt("return",c||[]);case 17:case"end":return t.stop()}}),t,this)}))),function(t,A){return e.apply(this,arguments)})}]),r}(vA),mA=function(t){Zt()(r,t);var e,A=te()(r);function r(){return o()(this,r),A.call(this)}return a()(r,[{key:"query",value:(e=ze()(Ze.a.mark((function t(e,A){var r;return Ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.dbController.select([{key:"uid",value:0,compare:">="},{key:"time",value:A,compare:"<",optional:!0},{key:"cid",value:this.cid,compare:"="}]);case 2:return r=t.sent,Ut.a.OBJ.info("起始时间:".concat(e,", 终止时间:").concat(A,", 找到了").concat(r.length,"条数据")),t.abrupt("return",r);case 5:case"end":return t.stop()}}),t,this)}))),function(t,A){return e.apply(this,arguments)})}]),r}(vA),CA=function(){function t(e){o()(this,t),this.controller=e,this.cid="",this._strategy=null}var e;return a()(t,[{key:"destroy",value:function(){this.controller=null,this._strategy=null}},{key:"execute",value:(e=ze()(Ze.a.mark((function t(e,A){var r;return Ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.strategy){t.next=3;break}return Ut.a.OBJ.warn("query strategy is null"),t.abrupt("return");case 3:if(this.controller){t.next=6;break}return Ut.a.OBJ.warn("dbController is null"),t.abrupt("return");case 6:return this.strategy.dbController=this.controller,this.strategy.cid=this.cid,t.next=10,this.strategy.query(e,A);case 10:return(r=t.sent).length>0&&Ut.a.OBJ.info("query strategy: ".concat(this.strategy.type,". start: ").concat(e,", end: ").concat(A)),t.abrupt("return",r);case 13:case"end":return t.stop()}}),t,this)}))),function(t,A){return e.apply(this,arguments)})},{key:"strategy",get:function(){return this._strategy},set:function(t){this._strategy=t}}]),t}(),bA=function(t){Zt()(r,t);var e,A=te()(r);function r(){return o()(this,r),A.call(this)}return a()(r,[{key:"query",value:(e=ze()(Ze.a.mark((function t(e,A){var r;return Ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.dbController.select([{key:"time",value:e,compare:">",optional:!0},{key:"time",value:A,compare:"<"},{key:"uid",value:0,compare:">="}]);case 2:return r=t.sent,t.abrupt("return",r||[]);case 4:case"end":return t.stop()}}),t,this)}))),function(t,A){return e.apply(this,arguments)})}]),r}(vA),_A=function(t){Zt()(r,t);var e,A=te()(r);function r(){return o()(this,r),A.call(this)}return a()(r,[{key:"query",value:(e=ze()(Ze.a.mark((function t(e,A){var r,n,i,o,s,a;return Ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Ut.a.OBJ.info("从开始时间".concat(e,"到结束时间").concat(A,"检索信息")),t.next=3,this.dbController.select([{key:"flipOver",value:1,compare:"="},{key:"time",value:A,compare:"<=",optional:!0},{key:"uid",value:0,compare:">="}]);case 3:if(0!==(r=t.sent).length){t.next=7;break}return Ut.a.OBJ.warn("no such flipOver data, time:".concat(e)),t.abrupt("return",[]);case 7:return Ut.a.OBJ.info("一共找到了".concat(r.length,"条翻页消息")),n=r.pop(),i=n.hash,o=n.currentPage,s=n.time,Ut.a.OBJ.info("基于".concat(e,"找到该文档最后一条翻页消息，文档hash:").concat(i," , page:").concat(o,", time:").concat(s)),Ut.a.OBJ.info("现在要找到数据时间介于".concat(s,"--").concat(A,", 文档hash:").concat(i,", 页码：").concat(o,", cid:").concat(n.cid,", flipOver:0, uid>0")),t.next=16,this.dbController.select([{key:"time",value:s,compare:">=",optional:!0},{key:"time",value:A,compare:"<="},{key:"hash",value:i,compare:"="},{key:"currentPage",value:o,compare:"="},{key:"cid",value:n.cid,compare:"="},{key:"flipOver",value:0,compare:"="},{key:"uid",value:0,compare:">="}]);case 16:return(a=t.sent).unshift(n),Ut.a.OBJ.info("基于time: ".concat(s,"-").concat(A,", 共查询出").concat(a.length,"条数据，翻页距离结束共有").concat(A-s,"s.")),t.abrupt("return",a||[]);case 20:case"end":return t.stop()}}),t,this)}))),function(t,A){return e.apply(this,arguments)})}]),r}(vA),xA=a()((function t(){o()(this,t),this.cid="",this.activatedTime=-1})),EA=function(){function t(e){o()(this,t),this.list=[],this.cidMaker=e}return a()(t,[{key:"make",value:function(t){var e=this;if(!t||0===t.length)return[];var A=[];return t.forEach((function(t){var r,n=t.content2;if(n||(n=t.content),r="string"==typeof n?JSON.parse(n):n,e.cidMaker.map.has(r.cid)){var i=r.command;i&&i.forEach((function(e){if("active"===e.type){var n=new xA;n.cid=r.cid,n.uniqueID=r.uniqueID,n.activatedTime=t.created_at,A.push(n)}if("onSlideChange"===e.event&&A.findIndex((function(t){return t.cid===r.cid}))<0){var i=new xA;i.cid=r.cid,i.uniqueID=r.uniqueID,i.activatedTime=t.created_at,A.push(i)}}))}})),A}}]),t}(),FA=A(117),QA=A.n(FA),UA=A(176),SA=A.n(UA),IA=function(){function t(){o()(this,t),this.cid="",this._create=-1,this._createUID=-1,this.destroy=SA.a,this.destroyUID=SA.a,this.type="",this.backgroundColor="",this.backgroundImage="",this.width=0,this.height=0}return a()(t,[{key:"toString",value:function(){return"容器id: ".concat(this.cid,",类型: ").concat(this.type,",创建时间: ").concat(this.create,",创建绝对时间: ").concat(this.createUID,",销毁时间: ").concat(this.destroy,",销毁绝对时间: ").concat(this.destroyUID)}},{key:"create",get:function(){return this._create},set:function(t){(this._create>t||-1===this._create)&&(this._create=t)}},{key:"createUID",get:function(){return this._createUID},set:function(t){(-1===this._createUID||this._createUID>t)&&(this._createUID=t)}},{key:"data",set:function(t){this._data=t;var e=this._data;if(e.hasOwnProperty("hash")){var A=e.hash;if(this.type=""===A?"Board":"Document",this.createUID=e.uniqueID,e.hasOwnProperty("command")){var r=e.command;if(r.length>0){var n=r[0];if(this.type=1===n.is_board?"Document":"Board",this.cid.indexOf("board")>-1?this.type="Board":this.type="Document","destroy"===n.type&&(this.destroy=this._origin.created_at,this.destroyUID=e.uniqueID),"create"===n.type){var i=n.data;this.backgroundColor=i.backgroundColor}}"Document"===this.type&&1===e.flipOver?(this.width=e.width,this.height=e.height):"Board"===this.type&&(this.width=e.cw,this.height=e.ch)}}else switch(e.type){case"create":this.createUID=e.uniqueID,this.type=e.container,this.backgroundColor=e.backgroundColor;break;case"destroy":this.destroyUID=e.uniqueID,this.destroy=this._origin&&this.origin.created_at}}},{key:"origin",set:function(t){this._origin=t}}]),t}(),TA=function(){function t(){o()(this,t),this.map=new QA.a}return a()(t,[{key:"make",value:function(t){var e=this;return this.map.clear(),t&&0!==t.length?(t.forEach((function(t){var A,r=t.content2;if(A="string"==typeof r?JSON.parse(r):r,!e.map.has(A.cid)){var n=new IA;n.cid=A.cid,e.map.set(n.cid,n)}try{var i=e.map.get(A.cid);i.origin=t,i.create=t.created_at,i.data=A}catch(t){}})),this.map.delete(""),this.map.forEach((function(t,A){t.destroy-t.create<=2&&e.map.delete(A)})),uA()(this.map.values())):[]}}]),t}(),OA=a()((function t(){o()(this,t),this.open=!1,this.uniqueId=0,this.createTime=0})),kA=function(){function t(e){o()(this,t),this.cidMaker=e}return a()(t,[{key:"make",value:function(t){if(!t||0===t.length)return[];var e,A=[];return t.forEach((function(t){var r,n=t.content2;if(n||(n=t.content),void 0!==(r="string"==typeof n?JSON.parse(n):n).switch&&r.switch!==e&&t.resend!==At){var i=new OA;i.open=r.switch,i.uniqueID=r.uniqueID,i.createTime=t.created_at,A.push(i),e=r.switch}var o=r.command;o&&o.forEach((function(e){if("switchon"===e.type||"switchoff"===e.type){var n=new OA;n.open="switchon"===e.type,n.uniqueID=r.uniqueID,n.createTime=t.created_at,A.push(n)}}))})),A}}]),t}(),DA=function(){function t(){o()(this,t),this.CLASS_NAME=this.constructor.name,this._data=null,this._store=null,this._time=0,this._allCid=[],this._allWatchStatus=[],this._allActivatedCids=[],this._controller=null,this.strategy=null,this.useCompat=!0,this.useCompat?(this._controller=new oA,this.strategy={normal:new BA,seek:new wA,boardSeek:new yA}):(this._controller=new pA,this._controller.init(t.defaultDBOption),this.strategy={normal:new bA,seek:new _A,boardSeek:new mA}),this.context=new CA(this.dbController),this._lostTime=0,this._lastQueryTime=0,this.type="",this.cid=""}var e,A;return a()(t,[{key:"destroy",value:function(){this.strategy=null,this.context.destroy(),this.context=null,this.dbController&&(this.dbController.destroy(),this._controller=null),this._allCid=[],this._allActivatedCids=[],this._allWatchStatus=[],this._lostTime=0}},{key:"mock",value:(A=ze()(Ze.a.mark((function t(){return Ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:this.data=gA;case 1:case"end":return t.stop()}}),t,this)}))),function(){return A.apply(this,arguments)})},{key:"time",value:(e=ze()(Ze.a.mark((function t(e){var A,r,n,i,o,s;return Ze.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(Ut.a.OBJ.debug("Vod async time"),window.dataInstallComplete){t.next=4;break}return this._lostTime=e,t.abrupt("return",[]);case 4:return A=e,0===this._lastQueryTime?A=-.1:A-this._lastQueryTime>=.3&&(A=this._lastQueryTime+.3),r=e+.3,0!==this._lostTime&&(A=-.1,this._lostTime=0),n=Math.abs(this._time-e),i=null,n>1||0===this._lastQueryTime?(i=this.type===y?this.strategy.seek:this.strategy.boardSeek,Ut.a.OBJ.info("seek 模式, queryTime: ".concat(A,", queryTimeEnd: ").concat(r)),this._ee.dispatch("clearDoodle")):i=this.strategy.normal,this._time=e,this.context.strategy=i,this.context.cid=this.cid,t.next=16,this.context.execute(A,r);case 16:return o=t.sent,s=[],o.length>0&&(o.forEach((function(t){return s.push(t.content)})),Ut.a.OBJ.info("外发回放查询结果 ".concat(s)),this._ee.dispatch("vod_event",s)),this._lastQueryTime=e,this._outputQueryResult(o,e,A,r),t.abrupt("return",s);case 22:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"info",value:function(t){for(var e=arguments.length,A=new Array(e>1?e-1:0),r=1;r<e;r++)A[r-1]=arguments[r];Ut.a.OBJ[t]("[".concat(this.CLASS_NAME,"] ").concat(A))}},{key:"store",get:function(){return this._store},set:function(t){this._store=t,this._ee=this.store.getKV("ee")}},{key:"data",get:function(){return this._data},set:function(t){var e=new TA;this._data=t,this._allCid=e.make(this._data),this._allActivatedCids=new EA(e).make(this._data),this._allWatchStatus=new kA(e).make(this._data),this.dbController.install(t)}},{key:"allCidInfos",value:function(){return this._allCid}},{key:"allActivatedCids",value:function(){return this._allActivatedCids}},{key:"allWatchStatus",value:function(){return this._allWatchStatus}},{key:"dbController",get:function(){return this._controller}},{key:"_outputQueryResult",value:function(t,e,A,r){if(t.length>0){var n="";t.forEach((function(t){n+=" createAt:".concat(t.time,"--- uniqueID:").concat(t.uid,";")})),this.info("info"," time: ".concat(e.toFixed(1),", count: ").concat(t.length,", result: ").concat(n,", queryString: [").concat(A,"-").concat(r,"]"))}else this.info("debug",e.toFixed(1))}}],[{key:"defaultDBOption",get:function(){return{name:"DocModuleDB",stores:[{name:"SHY",indexes:[{name:"uid"},{name:"time"},{name:"flipOver"},{name:"cid"},{name:"hash"},{name:"currentPage"}],autoIncrement:!0}],use:"SHY"}}}]),t}(),HA=function(){function t(e){o()(this,t),this.store=e}return a()(t,[{key:"passThrough",value:function(t){var e={userId:t.userId,docId:t.docId};this.store.setKV("passThrough",e)}},{key:"getPaasThrough",value:function(){return this.store.getKV("passThrough")}},{key:"isMobileSDK",value:function(t){this.store.setKV("isMobileSDK",t)}}]),t}();var LA=[.25,.33,.5,.66,1,1.2,1.4,1.6,1.8,2,3,4],MA=null,PA={},RA=0,KA=function(){function t(){o()(this,t),this.CLASS_NAME=this.constructor.name,Ut.a.OBJ.level="warn",d()(this),this._vod=null,this._currentContainer=null,this.store=new Xt,this._ee=new we,this.store.setKV("ee",this._ee),this.store.setKV("scaleFactor",1),vt(this,HA,this.store),this._inited=!0,this.lastPageInfo={slideIndex:null,stepIndex:null},this.log("info","init complete. ver:".concat(t.version))}return a()(t,[{key:"setWatermark",value:function(e){var A;(e||(e=u()({},t.watermarkOption)),A=e,"[object object]"===Object.prototype.toString.call(A).toLowerCase())&&(e.text&&"string"==typeof e.text&&e.text.trim().length?(e.text=e.text.slice(0,20),e.opacity>1&&(e.opacity=1),e.opacity<0&&(e.opacity=0),e.fontSize<12&&(e.fontSize=12),e.fontSize>48&&(e.fontSize=48),t.watermarkOption=e,this.container.operateDoodle(Z)):t.watermarkOption=e)}},{key:"clearWatermark",value:function(){this.container.operateDoodle($)}},{key:"scaleFactor",get:function(){return this.store.getKV("scaleFactor")}},{key:"createDocument",value:function(e,A){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.destroy(),r.watermarkOption&&(t.watermarkOption=r.watermarkOption),this.container=new nA(e,A,r),this._initMessageController(),this.container.store=this.store,r.container){var n=r.container;this.container.editable=n.editable,this.container.pageable=n.pageable,this.container.cacheable=!1,this.store.setKV("editable",n.editable),this.store.setKV("pageable",n.pageable)}return vt(this,Pt,this.container,this.store),vt(this,nt,this.container),vt(this,Nt,this.container,this.store),this._inited=!0,this.container}},{key:"createBoard",value:function(e,A){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(this.log("debug","createBoard. id:".concat(e)),this.destroy(),r.watermarkOption&&(t.watermarkOption=r.watermarkOption),this.container=new Ke(e,A,r),this._initMessageController(),this.container.store=this.store,r.container){var n=r.container;this.container.editable=n.editable,this.container.cacheable=!1,this.store.setKV("editable",n.editable)}return vt(this,nt,this.container),vt(this,Nt,this.container,this.store),this._inited=!0,this.log("debug","createBoard end. id:".concat(e)),this.container}},{key:"_initMessageController",value:function(){this._callBK&&(this.registMessager(this._callBK),this._callBK=null),this.initEvents()}},{key:"setData",value:function(t){this.container.data=t}},{key:"setAllData",value:function(t){this.container.setAllData(t)}},{key:"setSize",value:function(t,e){this.container.resize(t,e)}},{key:"getPageInfo",value:function(){return this.container.pageInfo}},{key:"resize",value:function(t,e){this.store.setKV("cw",t),this.store.setKV("ch",e),this.container.resize(t,e)}},{key:"modifyOriginSize",value:function(t,e){this.store.setKV("originW",t),this.store.setKV("originH",e),this.resize(t,e)}},{key:"registMessager",value:function(t){this._callBK=t;var e=new Ee(t);this.mc||(this.mc=new Ce(this.store)),this.mc.registMsg(e)}},{key:"unregistMessage",value:function(){this.mc.unregistMsg()}},{key:"openDebug",value:function(t){!function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"./plugin/",e=window.eruda;if(!e||!e._isInit){var A=document.createElement("script");A.src=t+"eruda.min.js",document.body.appendChild(A),A.onload=function(){eruda.init()}}}(t)}},{key:"createUUID",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"document",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7,A=new Array(e).fill("x").join(""),r=(new Date).getTime(),n=A.replace(/[xy]/g,(function(t){var e=(r+16*Math.random())%16|0;return r=Math.floor(r/16),("x"===t?e:3&e|8).toString(16)})),i=""!==t?"".concat(t,"-").concat(n):n;return i}},{key:"destroy",value:function(){this.container&&(this.container.destroy(),this._currentContainer=null),this.mc&&(this.mc.destroy(),this.mc=null),this._ee.removeAllListeners(),this.eventInitComplete=!1,this._vod&&(this._vod.destroy(),this._vod=null),this._inited=!1}},{key:"initEvents",value:function(){var t=this;this.eventInitComplete||(this._ee.addEventListener("docNotExit",(function(e){t.emit("documentOnload",e),t.container.selected&&t.emit("docNotExit",e)})),this._ee.addEventListener("documentOnload",(function(e){t.emit("documentOnload",e)})),this._ee.addEventListener("doc_events",(function(e){if(t.log("info","doc_events, ".concat(l()(e))),e.event!=se){if(t.container.selected){var A=t.container.doc;switch(e.event){case ne:var r=e.params,n=r.slideIndex,i=r.stepIndex;if(t.lastPageInfo.slideIndex==n&&t.lastPageInfo.stepIndex==i)return;t.lastPageInfo.slideIndex=n,t.lastPageInfo.stepIndex=i,t.container.operateDoodle(j,A.currentPageHash),t.emit("slideChange",e);break;case re:var o=e.params,s=o.slideIndex,a=o.stepIndex;if(t.lastPageInfo.slideIndex==s&&t.lastPageInfo.stepIndex==a)return;t.lastPageInfo.slideIndex=s,t.lastPageInfo.stepIndex=a,t.mc.sendMessageEvent("stepChange",A.info),t.emit("stepChange",e);break;case ie:return void t.emit("documentReady",A.info);case oe:return void t.emit("playbackComplete",A.info)}t.mc.sendMessage([e])}}else t.emit("animationInfo",e)})),this._ee.addEventListener("report_doc_events",(function(e){t.log("debug","report_doc_events, ".concat(l()(e)));var A=t.container.doc;if(t.mc.sendMessageEvent("pageChange",n()(n()({},A.info),{},{cid:A.cid})),"onSlideChange"===e.event){var r=A.info;t.emit("report_page_change",{doc:r,cid:A.cid})}})),this._ee.addEventListener("doodle_events",(function(e){t.store.getKV("isVod")||(e.event="doodle",t.mc.sendMessage([e]))})),this._ee.addEventListener("remote_message",(function(e){e.hasOwnProperty("id")&&(!t.container.id===e.id?t.container.data=e:t.log("warn","Doesn't container with id:".concat(e.id)))})),this._ee.addEventListener("vod_event",(function(e){t.container?e.forEach((function(e){t.container.data=e})):t.log("error","no container for operating or drawing.")})),this._ee.addEventListener("clearDoodle",(function(){t.container&&(t.container.operateDoodle(M),t.container.operateDoodle(P))})),this._ee.addEventListener("scaleTriggerEvent",(function(e){t.emit("scaleTrigger",e)})),this.store.setKV("ee",this._ee),this.eventInitComplete=!0)}},{key:"container",get:function(){return this._currentContainer},set:function(t){this._currentContainer=t}},{key:"containerInfos",get:function(){var t=this.container||{};return{type:t.type,option:t.option,root:t.root,id:t.id,pageInfo:t.pageInfo,editable:t.editable,cacheable:t.cacheable}}},{key:"editable",get:function(){return this.container.editable},set:function(t){this.container.editable=t,this.store.setKV("editable",t)}},{key:"cacheable",get:function(){return this.container.cacheable},set:function(t){this.container.cacheable=t}},{key:"option",set:function(t){if(this.container){var e=t;"string"==typeof t&&(e=JSON.parse(t)),this.container.operateDoodle(R,e)}}},{key:"containerElement",get:function(){if(!this.container)return null;var t=this.container.root;return document.getElementById(t)}},{key:"isVod",get:function(){return null!==this._vod},set:function(t){t&&(this._vod&&(this._vod.destroy(),this._vod=null),this._vod=new DA,vt(this,Rt,this._vod),this._vod.store=this.store,this.store.setKV("isVod",!0),this.container&&(this._vod.type=this.container.type,this._vod.cid=this.container.id,this.container.cacheable=!1,this.container.editable=!1),this.initEvents())}},{key:"id",get:function(){return this.container?this.container.id:null}},{key:"setSelected",value:function(t){this.container&&this.container.setSelected(t)}},{key:"log",value:function(t){for(var e=arguments.length,A=new Array(e>1?e-1:0),r=1;r<e;r++)A[r-1]=arguments[r];Ut.a.OBJ[t]("[".concat(this.CLASS_NAME,"] ").concat(A))}},{key:"resetUndoManagerData",value:function(){this.container.operateDoodle(et),this.container.operateDoodle(tt)}}],[{key:"version",get:function(){return"1.4.0"}},{key:"zoomFactors",get:function(){return LA},set:function(t){(function(t){var e=!0;if("[object Array]"==Object.prototype.toString.call(t)&&t.length)for(var A=0,r=0;r<t.length;r++){if(t[r]<.1||t[r]>10||t[r]<=A){e=!1;break}A=t[r]}return e})(t)&&(LA=t)}},{key:"watermarkOption",get:function(){return PA},set:function(t){PA=u()({},rt,t)}},{key:"watermarkImg",get:function(){return MA},set:function(t){MA=t}},{key:"rotateDeg",get:function(){return RA},set:function(t){RA=t}}]),t}()},function(t,e){var A=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=A)},function(t,e,A){t.exports=A(408)},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){t.exports=A(402)},function(t,e,A){var r=A(9);function n(t,e,A,n,i,o,s){try{var a=t[o](s),c=a.value}catch(t){return void A(t)}a.done?e(c):r.resolve(c).then(n,i)}t.exports=function(t){return function(){var e=this,A=arguments;return new r((function(r,i){var o=t.apply(e,A);function s(t){n(o,r,i,s,a,"next",t)}function a(t){n(o,r,i,s,a,"throw",t)}s(void 0)}))}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){var r=A(53),n=A(76);t.exports=function(t,e,A,i,o){var s={};return r(i).forEach((function(t){s[t]=i[t]})),s.enumerable=!!s.enumerable,s.configurable=!!s.configurable,("value"in s||s.initializer)&&(s.writable=!0),s=A.slice().reverse().reduce((function(A,r){return r(t,e,A)||A}),s),o&&void 0!==s.initializer&&(s.value=s.initializer?s.initializer.call(o):void 0,s.initializer=void 0),void 0===s.initializer&&(n(t,e,s),s=null),s},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){var A=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=A)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,A){t.exports=A(375)},function(t,e,A){var r=A(126)("wks"),n=A(99),i=A(35).Symbol,o="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=o&&i[t]||(o?i:n)("Symbol."+t))}).store=r},function(t,e,A){var r=A(149)("wks"),n=A(108),i=A(29).Symbol,o="function"==typeof i;(t.exports=function(t){return r[t]||(r[t]=o&&i[t]||(o?i:n)("Symbol."+t))}).store=r},function(t,e,A){t.exports=A(269)},function(t,e,A){t.exports=A(305)},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,A){var r=A(36);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,A){var r=A(88);t.exports=function(t,e,A){return e in t?r(t,e,{value:A,enumerable:!0,configurable:!0,writable:!0}):t[e]=A,t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){t.exports=!A(65)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,A){var r=A(43),n=A(205),i=A(152),o=Object.defineProperty;e.f=A(47)?Object.defineProperty:function(t,e,A){if(r(t),e=i(e,!0),r(A),n)try{return o(t,e,A)}catch(t){}if("get"in A||"set"in A)throw TypeError("Accessors not supported!");return"value"in A&&(t[e]=A.value),t}},function(t,e,A){t.exports=!A(58)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},function(t,e,A){var r=A(69),n=A(103),i=A(70),o=A(140);t.exports=function(t,e){var A=void 0!==r&&t[n]||t["@@iterator"];if(!A){if(i(t)||(A=o(t))||e&&t&&"number"==typeof t.length){A&&(t=A);var s=0,a=function(){};return{s:a,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,u=!0,h=!1;return{s:function(){A=A.call(t)},n:function(){var t=A.next();return u=t.done,t},e:function(t){h=!0,c=t},f:function(){try{u||null==A.return||A.return()}finally{if(h)throw c}}}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){var r=A(50),n=A(178),i=A(124),o=Object.defineProperty;e.f=A(45)?Object.defineProperty:function(t,e,A){if(r(t),e=i(e,!0),r(A),n)try{return o(t,e,A)}catch(t){}if("get"in A||"set"in A)throw TypeError("Accessors not supported!");return"value"in A&&(t[e]=A.value),t}},function(t,e,A){var r=A(42);t.exports=function(t){if(!r(t))throw TypeError(t+" is not an object!");return t}},function(t,e,A){var r=A(77),n=A(160);function i(e){return t.exports=i="function"==typeof r&&"symbol"==typeof n?function(t){return typeof t}:function(t){return t&&"function"==typeof r&&t.constructor===r&&t!==r.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,i(e)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){var r=A(40),n=A(271),i=A(14),o=A(275),s=A(279),a=A(88),c=A(44);function u(t,e){var A=r(t);if(n){var o=n(t);e&&(o=o.filter((function(e){return i(t,e).enumerable}))),A.push.apply(A,o)}return A}t.exports=function(t){for(var e=1;e<arguments.length;e++){var A=null!=arguments[e]?arguments[e]:{};e%2?u(Object(A),!0).forEach((function(e){c(t,e,A[e])})):o?s(t,o(A)):u(Object(A)).forEach((function(e){a(t,e,i(A,e))}))}return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){t.exports=A(327)},function(t,e,A){var r=A(66);t.exports=function(t,e,A){if(r(t),void 0===e)return t;switch(A){case 1:return function(A){return t.call(e,A)};case 2:return function(A,r){return t.call(e,A,r)};case 3:return function(A,r,n){return t.call(e,A,r,n)}}return function(){return t.apply(e,arguments)}}},function(t,e,A){var r=A(181),n=A(129);t.exports=function(t){return r(n(t))}},function(t,e){var A={}.hasOwnProperty;t.exports=function(t,e){return A.call(t,e)}},function(t,e,A){var r=A(68);t.exports=function(t,e,A){if(r(t),void 0===e)return t;switch(A){case 1:return function(A){return t.call(e,A)};case 2:return function(A,r){return t.call(e,A,r)};case 3:return function(A,r,n){return t.call(e,A,r,n)}}return function(){return t.apply(e,arguments)}}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e,A){(function(A){var r;e=t.exports=l,r="object"==typeof A&&Object({LOG_LEVEL:"warn",VERSION:"3.4.0",LIBNAME:"vhall-jssdk-doc",CORE_VERSION:"1.4.0"})&&Object({LOG_LEVEL:"warn",VERSION:"3.4.0",LIBNAME:"vhall-jssdk-doc",CORE_VERSION:"1.4.0"}).NODE_DEBUG&&/\bsemver\b/i.test(Object({LOG_LEVEL:"warn",VERSION:"3.4.0",LIBNAME:"vhall-jssdk-doc",CORE_VERSION:"1.4.0"}).NODE_DEBUG)?function(){var t=Array.prototype.slice.call(arguments,0);t.unshift("SEMVER")}:function(){},e.SEMVER_SPEC_VERSION="2.0.0";var n=Number.MAX_SAFE_INTEGER||9007199254740991,i=e.re=[],o=e.src=[],s=e.tokens={},a=0;function c(t){s[t]=a++}c("NUMERICIDENTIFIER"),o[s.NUMERICIDENTIFIER]="0|[1-9]\\d*",c("NUMERICIDENTIFIERLOOSE"),o[s.NUMERICIDENTIFIERLOOSE]="[0-9]+",c("NONNUMERICIDENTIFIER"),o[s.NONNUMERICIDENTIFIER]="\\d*[a-zA-Z-][a-zA-Z0-9-]*",c("MAINVERSION"),o[s.MAINVERSION]="("+o[s.NUMERICIDENTIFIER]+")\\.("+o[s.NUMERICIDENTIFIER]+")\\.("+o[s.NUMERICIDENTIFIER]+")",c("MAINVERSIONLOOSE"),o[s.MAINVERSIONLOOSE]="("+o[s.NUMERICIDENTIFIERLOOSE]+")\\.("+o[s.NUMERICIDENTIFIERLOOSE]+")\\.("+o[s.NUMERICIDENTIFIERLOOSE]+")",c("PRERELEASEIDENTIFIER"),o[s.PRERELEASEIDENTIFIER]="(?:"+o[s.NUMERICIDENTIFIER]+"|"+o[s.NONNUMERICIDENTIFIER]+")",c("PRERELEASEIDENTIFIERLOOSE"),o[s.PRERELEASEIDENTIFIERLOOSE]="(?:"+o[s.NUMERICIDENTIFIERLOOSE]+"|"+o[s.NONNUMERICIDENTIFIER]+")",c("PRERELEASE"),o[s.PRERELEASE]="(?:-("+o[s.PRERELEASEIDENTIFIER]+"(?:\\."+o[s.PRERELEASEIDENTIFIER]+")*))",c("PRERELEASELOOSE"),o[s.PRERELEASELOOSE]="(?:-?("+o[s.PRERELEASEIDENTIFIERLOOSE]+"(?:\\."+o[s.PRERELEASEIDENTIFIERLOOSE]+")*))",c("BUILDIDENTIFIER"),o[s.BUILDIDENTIFIER]="[0-9A-Za-z-]+",c("BUILD"),o[s.BUILD]="(?:\\+("+o[s.BUILDIDENTIFIER]+"(?:\\."+o[s.BUILDIDENTIFIER]+")*))",c("FULL"),c("FULLPLAIN"),o[s.FULLPLAIN]="v?"+o[s.MAINVERSION]+o[s.PRERELEASE]+"?"+o[s.BUILD]+"?",o[s.FULL]="^"+o[s.FULLPLAIN]+"$",c("LOOSEPLAIN"),o[s.LOOSEPLAIN]="[v=\\s]*"+o[s.MAINVERSIONLOOSE]+o[s.PRERELEASELOOSE]+"?"+o[s.BUILD]+"?",c("LOOSE"),o[s.LOOSE]="^"+o[s.LOOSEPLAIN]+"$",c("GTLT"),o[s.GTLT]="((?:<|>)?=?)",c("XRANGEIDENTIFIERLOOSE"),o[s.XRANGEIDENTIFIERLOOSE]=o[s.NUMERICIDENTIFIERLOOSE]+"|x|X|\\*",c("XRANGEIDENTIFIER"),o[s.XRANGEIDENTIFIER]=o[s.NUMERICIDENTIFIER]+"|x|X|\\*",c("XRANGEPLAIN"),o[s.XRANGEPLAIN]="[v=\\s]*("+o[s.XRANGEIDENTIFIER]+")(?:\\.("+o[s.XRANGEIDENTIFIER]+")(?:\\.("+o[s.XRANGEIDENTIFIER]+")(?:"+o[s.PRERELEASE]+")?"+o[s.BUILD]+"?)?)?",c("XRANGEPLAINLOOSE"),o[s.XRANGEPLAINLOOSE]="[v=\\s]*("+o[s.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+o[s.XRANGEIDENTIFIERLOOSE]+")(?:\\.("+o[s.XRANGEIDENTIFIERLOOSE]+")(?:"+o[s.PRERELEASELOOSE]+")?"+o[s.BUILD]+"?)?)?",c("XRANGE"),o[s.XRANGE]="^"+o[s.GTLT]+"\\s*"+o[s.XRANGEPLAIN]+"$",c("XRANGELOOSE"),o[s.XRANGELOOSE]="^"+o[s.GTLT]+"\\s*"+o[s.XRANGEPLAINLOOSE]+"$",c("COERCE"),o[s.COERCE]="(^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])",c("COERCERTL"),i[s.COERCERTL]=new RegExp(o[s.COERCE],"g"),c("LONETILDE"),o[s.LONETILDE]="(?:~>?)",c("TILDETRIM"),o[s.TILDETRIM]="(\\s*)"+o[s.LONETILDE]+"\\s+",i[s.TILDETRIM]=new RegExp(o[s.TILDETRIM],"g");c("TILDE"),o[s.TILDE]="^"+o[s.LONETILDE]+o[s.XRANGEPLAIN]+"$",c("TILDELOOSE"),o[s.TILDELOOSE]="^"+o[s.LONETILDE]+o[s.XRANGEPLAINLOOSE]+"$",c("LONECARET"),o[s.LONECARET]="(?:\\^)",c("CARETTRIM"),o[s.CARETTRIM]="(\\s*)"+o[s.LONECARET]+"\\s+",i[s.CARETTRIM]=new RegExp(o[s.CARETTRIM],"g");c("CARET"),o[s.CARET]="^"+o[s.LONECARET]+o[s.XRANGEPLAIN]+"$",c("CARETLOOSE"),o[s.CARETLOOSE]="^"+o[s.LONECARET]+o[s.XRANGEPLAINLOOSE]+"$",c("COMPARATORLOOSE"),o[s.COMPARATORLOOSE]="^"+o[s.GTLT]+"\\s*("+o[s.LOOSEPLAIN]+")$|^$",c("COMPARATOR"),o[s.COMPARATOR]="^"+o[s.GTLT]+"\\s*("+o[s.FULLPLAIN]+")$|^$",c("COMPARATORTRIM"),o[s.COMPARATORTRIM]="(\\s*)"+o[s.GTLT]+"\\s*("+o[s.LOOSEPLAIN]+"|"+o[s.XRANGEPLAIN]+")",i[s.COMPARATORTRIM]=new RegExp(o[s.COMPARATORTRIM],"g");c("HYPHENRANGE"),o[s.HYPHENRANGE]="^\\s*("+o[s.XRANGEPLAIN]+")\\s+-\\s+("+o[s.XRANGEPLAIN]+")\\s*$",c("HYPHENRANGELOOSE"),o[s.HYPHENRANGELOOSE]="^\\s*("+o[s.XRANGEPLAINLOOSE]+")\\s+-\\s+("+o[s.XRANGEPLAINLOOSE]+")\\s*$",c("STAR"),o[s.STAR]="(<|>)?=?\\s*\\*";for(var u=0;u<a;u++)r(u,o[u]),i[u]||(i[u]=new RegExp(o[u]));function h(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof l)return t;if("string"!=typeof t)return null;if(t.length>256)return null;if(!(e.loose?i[s.LOOSE]:i[s.FULL]).test(t))return null;try{return new l(t,e)}catch(t){return null}}function l(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof l){if(t.loose===e.loose)return t;t=t.version}else if("string"!=typeof t)throw new TypeError("Invalid Version: "+t);if(t.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof l))return new l(t,e);r("SemVer",t,e),this.options=e,this.loose=!!e.loose;var A=t.trim().match(e.loose?i[s.LOOSE]:i[s.FULL]);if(!A)throw new TypeError("Invalid Version: "+t);if(this.raw=t,this.major=+A[1],this.minor=+A[2],this.patch=+A[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");A[4]?this.prerelease=A[4].split(".").map((function(t){if(/^[0-9]+$/.test(t)){var e=+t;if(e>=0&&e<n)return e}return t})):this.prerelease=[],this.build=A[5]?A[5].split("."):[],this.format()}e.parse=h,e.valid=function(t,e){var A=h(t,e);return A?A.version:null},e.clean=function(t,e){var A=h(t.trim().replace(/^[=v]+/,""),e);return A?A.version:null},e.SemVer=l,l.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},l.prototype.toString=function(){return this.version},l.prototype.compare=function(t){return r("SemVer.compare",this.version,this.options,t),t instanceof l||(t=new l(t,this.options)),this.compareMain(t)||this.comparePre(t)},l.prototype.compareMain=function(t){return t instanceof l||(t=new l(t,this.options)),d(this.major,t.major)||d(this.minor,t.minor)||d(this.patch,t.patch)},l.prototype.comparePre=function(t){if(t instanceof l||(t=new l(t,this.options)),this.prerelease.length&&!t.prerelease.length)return-1;if(!this.prerelease.length&&t.prerelease.length)return 1;if(!this.prerelease.length&&!t.prerelease.length)return 0;var e=0;do{var A=this.prerelease[e],n=t.prerelease[e];if(r("prerelease compare",e,A,n),void 0===A&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===A)return-1;if(A!==n)return d(A,n)}while(++e)},l.prototype.compareBuild=function(t){t instanceof l||(t=new l(t,this.options));var e=0;do{var A=this.build[e],n=t.build[e];if(r("prerelease compare",e,A,n),void 0===A&&void 0===n)return 0;if(void 0===n)return 1;if(void 0===A)return-1;if(A!==n)return d(A,n)}while(++e)},l.prototype.inc=function(t,e){switch(t){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",e);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",e);break;case"prepatch":this.prerelease.length=0,this.inc("patch",e),this.inc("pre",e);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",e),this.inc("pre",e);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var A=this.prerelease.length;--A>=0;)"number"==typeof this.prerelease[A]&&(this.prerelease[A]++,A=-2);-1===A&&this.prerelease.push(0)}e&&(this.prerelease[0]===e?isNaN(this.prerelease[1])&&(this.prerelease=[e,0]):this.prerelease=[e,0]);break;default:throw new Error("invalid increment argument: "+t)}return this.format(),this.raw=this.version,this},e.inc=function(t,e,A,r){"string"==typeof A&&(r=A,A=void 0);try{return new l(t,A).inc(e,r).version}catch(t){return null}},e.diff=function(t,e){if(y(t,e))return null;var A=h(t),r=h(e),n="";if(A.prerelease.length||r.prerelease.length){n="pre";var i="prerelease"}for(var o in A)if(("major"===o||"minor"===o||"patch"===o)&&A[o]!==r[o])return n+o;return i},e.compareIdentifiers=d;var f=/^[0-9]+$/;function d(t,e){var A=f.test(t),r=f.test(e);return A&&r&&(t=+t,e=+e),t===e?0:A&&!r?-1:r&&!A?1:t<e?-1:1}function p(t,e,A){return new l(t,A).compare(new l(e,A))}function g(t,e,A){return p(t,e,A)>0}function v(t,e,A){return p(t,e,A)<0}function y(t,e,A){return 0===p(t,e,A)}function B(t,e,A){return 0!==p(t,e,A)}function w(t,e,A){return p(t,e,A)>=0}function m(t,e,A){return p(t,e,A)<=0}function C(t,e,A,r){switch(e){case"===":return"object"==typeof t&&(t=t.version),"object"==typeof A&&(A=A.version),t===A;case"!==":return"object"==typeof t&&(t=t.version),"object"==typeof A&&(A=A.version),t!==A;case"":case"=":case"==":return y(t,A,r);case"!=":return B(t,A,r);case">":return g(t,A,r);case">=":return w(t,A,r);case"<":return v(t,A,r);case"<=":return m(t,A,r);default:throw new TypeError("Invalid operator: "+e)}}function b(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof b){if(t.loose===!!e.loose)return t;t=t.value}if(!(this instanceof b))return new b(t,e);r("comparator",t,e),this.options=e,this.loose=!!e.loose,this.parse(t),this.semver===_?this.value="":this.value=this.operator+this.semver.version,r("comp",this)}e.rcompareIdentifiers=function(t,e){return d(e,t)},e.major=function(t,e){return new l(t,e).major},e.minor=function(t,e){return new l(t,e).minor},e.patch=function(t,e){return new l(t,e).patch},e.compare=p,e.compareLoose=function(t,e){return p(t,e,!0)},e.compareBuild=function(t,e,A){var r=new l(t,A),n=new l(e,A);return r.compare(n)||r.compareBuild(n)},e.rcompare=function(t,e,A){return p(e,t,A)},e.sort=function(t,A){return t.sort((function(t,r){return e.compareBuild(t,r,A)}))},e.rsort=function(t,A){return t.sort((function(t,r){return e.compareBuild(r,t,A)}))},e.gt=g,e.lt=v,e.eq=y,e.neq=B,e.gte=w,e.lte=m,e.cmp=C,e.Comparator=b;var _={};function x(t,e){if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),t instanceof x)return t.loose===!!e.loose&&t.includePrerelease===!!e.includePrerelease?t:new x(t.raw,e);if(t instanceof b)return new x(t.value,e);if(!(this instanceof x))return new x(t,e);if(this.options=e,this.loose=!!e.loose,this.includePrerelease=!!e.includePrerelease,this.raw=t,this.set=t.split(/\s*\|\|\s*/).map((function(t){return this.parseRange(t.trim())}),this).filter((function(t){return t.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+t);this.format()}function E(t,e){for(var A=!0,r=t.slice(),n=r.pop();A&&r.length;)A=r.every((function(t){return n.intersects(t,e)})),n=r.pop();return A}function F(t){return!t||"x"===t.toLowerCase()||"*"===t}function Q(t,e,A,r,n,i,o,s,a,c,u,h,l){return((e=F(A)?"":F(r)?">="+A+".0.0":F(n)?">="+A+"."+r+".0":">="+e)+" "+(s=F(a)?"":F(c)?"<"+(+a+1)+".0.0":F(u)?"<"+a+"."+(+c+1)+".0":h?"<="+a+"."+c+"."+u+"-"+h:"<="+s)).trim()}function U(t,e,A){for(var n=0;n<t.length;n++)if(!t[n].test(e))return!1;if(e.prerelease.length&&!A.includePrerelease){for(n=0;n<t.length;n++)if(r(t[n].semver),t[n].semver!==_&&t[n].semver.prerelease.length>0){var i=t[n].semver;if(i.major===e.major&&i.minor===e.minor&&i.patch===e.patch)return!0}return!1}return!0}function S(t,e,A){try{e=new x(e,A)}catch(t){return!1}return e.test(t)}function I(t,e,A,r){var n,i,o,s,a;switch(t=new l(t,r),e=new x(e,r),A){case">":n=g,i=m,o=v,s=">",a=">=";break;case"<":n=v,i=w,o=g,s="<",a="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(S(t,e,r))return!1;for(var c=0;c<e.set.length;++c){var u=e.set[c],h=null,f=null;if(u.forEach((function(t){t.semver===_&&(t=new b(">=0.0.0")),h=h||t,f=f||t,n(t.semver,h.semver,r)?h=t:o(t.semver,f.semver,r)&&(f=t)})),h.operator===s||h.operator===a)return!1;if((!f.operator||f.operator===s)&&i(t,f.semver))return!1;if(f.operator===a&&o(t,f.semver))return!1}return!0}b.prototype.parse=function(t){var e=this.options.loose?i[s.COMPARATORLOOSE]:i[s.COMPARATOR],A=t.match(e);if(!A)throw new TypeError("Invalid comparator: "+t);this.operator=void 0!==A[1]?A[1]:"","="===this.operator&&(this.operator=""),A[2]?this.semver=new l(A[2],this.options.loose):this.semver=_},b.prototype.toString=function(){return this.value},b.prototype.test=function(t){if(r("Comparator.test",t,this.options.loose),this.semver===_||t===_)return!0;if("string"==typeof t)try{t=new l(t,this.options)}catch(t){return!1}return C(t,this.operator,this.semver,this.options)},b.prototype.intersects=function(t,e){if(!(t instanceof b))throw new TypeError("a Comparator is required");var A;if(e&&"object"==typeof e||(e={loose:!!e,includePrerelease:!1}),""===this.operator)return""===this.value||(A=new x(t.value,e),S(this.value,A,e));if(""===t.operator)return""===t.value||(A=new x(this.value,e),S(t.semver,A,e));var r=!(">="!==this.operator&&">"!==this.operator||">="!==t.operator&&">"!==t.operator),n=!("<="!==this.operator&&"<"!==this.operator||"<="!==t.operator&&"<"!==t.operator),i=this.semver.version===t.semver.version,o=!(">="!==this.operator&&"<="!==this.operator||">="!==t.operator&&"<="!==t.operator),s=C(this.semver,"<",t.semver,e)&&(">="===this.operator||">"===this.operator)&&("<="===t.operator||"<"===t.operator),a=C(this.semver,">",t.semver,e)&&("<="===this.operator||"<"===this.operator)&&(">="===t.operator||">"===t.operator);return r||n||i&&o||s||a},e.Range=x,x.prototype.format=function(){return this.range=this.set.map((function(t){return t.join(" ").trim()})).join("||").trim(),this.range},x.prototype.toString=function(){return this.range},x.prototype.parseRange=function(t){var e=this.options.loose;t=t.trim();var A=e?i[s.HYPHENRANGELOOSE]:i[s.HYPHENRANGE];t=t.replace(A,Q),r("hyphen replace",t),t=t.replace(i[s.COMPARATORTRIM],"$1$2$3"),r("comparator trim",t,i[s.COMPARATORTRIM]),t=(t=(t=t.replace(i[s.TILDETRIM],"$1~")).replace(i[s.CARETTRIM],"$1^")).split(/\s+/).join(" ");var n=e?i[s.COMPARATORLOOSE]:i[s.COMPARATOR],o=t.split(" ").map((function(t){return function(t,e){return r("comp",t,e),t=function(t,e){return t.trim().split(/\s+/).map((function(t){return function(t,e){r("caret",t,e);var A=e.loose?i[s.CARETLOOSE]:i[s.CARET];return t.replace(A,(function(e,A,n,i,o){var s;return r("caret",t,e,A,n,i,o),F(A)?s="":F(n)?s=">="+A+".0.0 <"+(+A+1)+".0.0":F(i)?s="0"===A?">="+A+"."+n+".0 <"+A+"."+(+n+1)+".0":">="+A+"."+n+".0 <"+(+A+1)+".0.0":o?(r("replaceCaret pr",o),s="0"===A?"0"===n?">="+A+"."+n+"."+i+"-"+o+" <"+A+"."+n+"."+(+i+1):">="+A+"."+n+"."+i+"-"+o+" <"+A+"."+(+n+1)+".0":">="+A+"."+n+"."+i+"-"+o+" <"+(+A+1)+".0.0"):(r("no pr"),s="0"===A?"0"===n?">="+A+"."+n+"."+i+" <"+A+"."+n+"."+(+i+1):">="+A+"."+n+"."+i+" <"+A+"."+(+n+1)+".0":">="+A+"."+n+"."+i+" <"+(+A+1)+".0.0"),r("caret return",s),s}))}(t,e)})).join(" ")}(t,e),r("caret",t),t=function(t,e){return t.trim().split(/\s+/).map((function(t){return function(t,e){var A=e.loose?i[s.TILDELOOSE]:i[s.TILDE];return t.replace(A,(function(e,A,n,i,o){var s;return r("tilde",t,e,A,n,i,o),F(A)?s="":F(n)?s=">="+A+".0.0 <"+(+A+1)+".0.0":F(i)?s=">="+A+"."+n+".0 <"+A+"."+(+n+1)+".0":o?(r("replaceTilde pr",o),s=">="+A+"."+n+"."+i+"-"+o+" <"+A+"."+(+n+1)+".0"):s=">="+A+"."+n+"."+i+" <"+A+"."+(+n+1)+".0",r("tilde return",s),s}))}(t,e)})).join(" ")}(t,e),r("tildes",t),t=function(t,e){return r("replaceXRanges",t,e),t.split(/\s+/).map((function(t){return function(t,e){t=t.trim();var A=e.loose?i[s.XRANGELOOSE]:i[s.XRANGE];return t.replace(A,(function(A,n,i,o,s,a){r("xRange",t,A,n,i,o,s,a);var c=F(i),u=c||F(o),h=u||F(s),l=h;return"="===n&&l&&(n=""),a=e.includePrerelease?"-0":"",c?A=">"===n||"<"===n?"<0.0.0-0":"*":n&&l?(u&&(o=0),s=0,">"===n?(n=">=",u?(i=+i+1,o=0,s=0):(o=+o+1,s=0)):"<="===n&&(n="<",u?i=+i+1:o=+o+1),A=n+i+"."+o+"."+s+a):u?A=">="+i+".0.0"+a+" <"+(+i+1)+".0.0"+a:h&&(A=">="+i+"."+o+".0"+a+" <"+i+"."+(+o+1)+".0"+a),r("xRange return",A),A}))}(t,e)})).join(" ")}(t,e),r("xrange",t),t=function(t,e){return r("replaceStars",t,e),t.trim().replace(i[s.STAR],"")}(t,e),r("stars",t),t}(t,this.options)}),this).join(" ").split(/\s+/);return this.options.loose&&(o=o.filter((function(t){return!!t.match(n)}))),o=o.map((function(t){return new b(t,this.options)}),this)},x.prototype.intersects=function(t,e){if(!(t instanceof x))throw new TypeError("a Range is required");return this.set.some((function(A){return E(A,e)&&t.set.some((function(t){return E(t,e)&&A.every((function(A){return t.every((function(t){return A.intersects(t,e)}))}))}))}))},e.toComparators=function(t,e){return new x(t,e).set.map((function(t){return t.map((function(t){return t.value})).join(" ").trim().split(" ")}))},x.prototype.test=function(t){if(!t)return!1;if("string"==typeof t)try{t=new l(t,this.options)}catch(t){return!1}for(var e=0;e<this.set.length;e++)if(U(this.set[e],t,this.options))return!0;return!1},e.satisfies=S,e.maxSatisfying=function(t,e,A){var r=null,n=null;try{var i=new x(e,A)}catch(t){return null}return t.forEach((function(t){i.test(t)&&(r&&-1!==n.compare(t)||(n=new l(r=t,A)))})),r},e.minSatisfying=function(t,e,A){var r=null,n=null;try{var i=new x(e,A)}catch(t){return null}return t.forEach((function(t){i.test(t)&&(r&&1!==n.compare(t)||(n=new l(r=t,A)))})),r},e.minVersion=function(t,e){t=new x(t,e);var A=new l("0.0.0");if(t.test(A))return A;if(A=new l("0.0.0-0"),t.test(A))return A;A=null;for(var r=0;r<t.set.length;++r){t.set[r].forEach((function(t){var e=new l(t.semver.version);switch(t.operator){case">":0===e.prerelease.length?e.patch++:e.prerelease.push(0),e.raw=e.format();case"":case">=":A&&!g(A,e)||(A=e);break;case"<":case"<=":break;default:throw new Error("Unexpected operation: "+t.operator)}}))}if(A&&t.test(A))return A;return null},e.validRange=function(t,e){try{return new x(t,e).range||"*"}catch(t){return null}},e.ltr=function(t,e,A){return I(t,e,"<",A)},e.gtr=function(t,e,A){return I(t,e,">",A)},e.outside=I,e.prerelease=function(t,e){var A=h(t,e);return A&&A.prerelease.length?A.prerelease:null},e.intersects=function(t,e,A){return t=new x(t,A),e=new x(e,A),t.intersects(e)},e.coerce=function(t,e){if(t instanceof l)return t;"number"==typeof t&&(t=String(t));if("string"!=typeof t)return null;var A=null;if((e=e||{}).rtl){for(var r;(r=i[s.COERCERTL].exec(t))&&(!A||A.index+A[0].length!==t.length);)A&&r.index+r[0].length===A.index+A[0].length||(A=r),i[s.COERCERTL].lastIndex=r.index+r[1].length+r[2].length;i[s.COERCERTL].lastIndex=-1}else A=t.match(i[s.COERCE]);if(null===A)return null;return h(A[2]+"."+(A[3]||"0")+"."+(A[4]||"0"),e)}}).call(this,A(233))},function(t,e,A){var r=A(49),n=A(81);t.exports=A(45)?function(t,e,A){return r.f(t,e,n(1,A))}:function(t,e,A){return t[e]=A,t}},function(t,e,A){var r=A(146),n=A(106);t.exports=function(t){return r(n(t))}},function(t,e,A){var r=A(46),n=A(74);t.exports=A(47)?function(t,e,A){return r.f(t,e,n(1,A))}:function(t,e,A){return t[e]=A,t}},function(t,e,A){"use strict";var r,n,i,o,s,a,c,u=A(349),h=A(366),l=Function.prototype.apply,f=Function.prototype.call,d=Object.create,p=Object.defineProperty,g=Object.defineProperties,v=Object.prototype.hasOwnProperty,y={configurable:!0,enumerable:!1,writable:!0};n=function(t,e){var A,n;return h(e),n=this,r.call(this,t,A=function(){i.call(n,t,A),l.call(e,this,arguments)}),A.__eeOnceListener__=e,this},s={on:r=function(t,e){var A;return h(e),v.call(this,"__ee__")?A=this.__ee__:(A=y.value=d(null),p(this,"__ee__",y),y.value=null),A[t]?"object"==typeof A[t]?A[t].push(e):A[t]=[A[t],e]:A[t]=e,this},once:n,off:i=function(t,e){var A,r,n,i;if(h(e),!v.call(this,"__ee__"))return this;if(!(A=this.__ee__)[t])return this;if("object"==typeof(r=A[t]))for(i=0;n=r[i];++i)n!==e&&n.__eeOnceListener__!==e||(2===r.length?A[t]=r[i?0:1]:r.splice(i,1));else r!==e&&r.__eeOnceListener__!==e||delete A[t];return this},emit:o=function(t){var e,A,r,n,i;if(v.call(this,"__ee__")&&(n=this.__ee__[t]))if("object"==typeof n){for(A=arguments.length,i=new Array(A-1),e=1;e<A;++e)i[e-1]=arguments[e];for(n=n.slice(),e=0;r=n[e];++e)l.call(r,this,i)}else switch(arguments.length){case 1:f.call(n,this);break;case 2:f.call(n,this,arguments[1]);break;case 3:f.call(n,this,arguments[1],arguments[2]);break;default:for(A=arguments.length,i=new Array(A-1),e=1;e<A;++e)i[e-1]=arguments[e];l.call(n,this,i)}}},a={on:u(r),once:u(n),off:u(i),emit:u(o)},c=g({},a),t.exports=e=function(t){return null==t?d(c):g(Object(t),a)},e.methods=s},function(t,e){var A={}.hasOwnProperty;t.exports=function(t,e){return A.call(t,e)}},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,A){var r=A(106);t.exports=function(t){return Object(r(t))}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,A){t.exports=A(245)},function(t,e,A){t.exports=A(262)},function(t,e,A){t.exports=A(377)},function(t,e,A){var r=A(69),n=A(103);function i(e){return t.exports=i="function"==typeof r&&"symbol"==typeof n?function(t){return typeof t}:function(t){return t&&"function"==typeof r&&t.constructor===r&&t!==r.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,i(e)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){var r=A(129);t.exports=function(t){return Object(r(t))}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e,A){var r=A(111),n=A(74),i=A(61),o=A(152),s=A(56),a=A(205),c=Object.getOwnPropertyDescriptor;e.f=A(47)?c:function(t,e){if(t=i(t),e=o(e,!0),a)try{return c(t,e)}catch(t){}if(s(t,e))return n(!r.f.call(t,e),t[e])}},function(t,e,A){t.exports=A(343)},function(t,e,A){t.exports=A(367)},function(t,e,A){"use strict";var r,n="object"==typeof Reflect?Reflect:null,i=n&&"function"==typeof n.apply?n.apply:function(t,e,A){return Function.prototype.apply.call(t,e,A)};r=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var o=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}t.exports=s,t.exports.once=function(t,e){return new Promise((function(A,r){function n(A){t.removeListener(e,i),r(A)}function i(){"function"==typeof t.removeListener&&t.removeListener("error",n),A([].slice.call(arguments))}v(t,e,i,{once:!0}),"error"!==e&&function(t,e,A){"function"==typeof t.on&&v(t,"error",e,A)}(t,n,{once:!0})}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function c(t){if("function"!=typeof t)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}function u(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function h(t,e,A,r){var n,i,o;if(c(A),void 0===(i=t._events)?(i=t._events=Object.create(null),t._eventsCount=0):(void 0!==i.newListener&&(t.emit("newListener",e,A.listener?A.listener:A),i=t._events),o=i[e]),void 0===o)o=i[e]=A,++t._eventsCount;else if("function"==typeof o?o=i[e]=r?[A,o]:[o,A]:r?o.unshift(A):o.push(A),(n=u(t))>0&&o.length>n&&!o.warned){o.warned=!0;var s=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");s.name="MaxListenersExceededWarning",s.emitter=t,s.type=e,s.count=o.length,console&&console.warn}return t}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(t,e,A){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:A},n=l.bind(r);return n.listener=A,r.wrapFn=n,n}function d(t,e,A){var r=t._events;if(void 0===r)return[];var n=r[e];return void 0===n?[]:"function"==typeof n?A?[n.listener||n]:[n]:A?function(t){for(var e=new Array(t.length),A=0;A<e.length;++A)e[A]=t[A].listener||t[A];return e}(n):g(n,n.length)}function p(t){var e=this._events;if(void 0!==e){var A=e[t];if("function"==typeof A)return 1;if(void 0!==A)return A.length}return 0}function g(t,e){for(var A=new Array(e),r=0;r<e;++r)A[r]=t[r];return A}function v(t,e,A,r){if("function"==typeof t.on)r.once?t.once(e,A):t.on(e,A);else{if("function"!=typeof t.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t);t.addEventListener(e,(function n(i){r.once&&t.removeEventListener(e,n),A(i)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");a=t}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||o(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(t){for(var e=[],A=1;A<arguments.length;A++)e.push(arguments[A]);var r="error"===t,n=this._events;if(void 0!==n)r=r&&void 0===n.error;else if(!r)return!1;if(r){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var a=n[t];if(void 0===a)return!1;if("function"==typeof a)i(a,this,e);else{var c=a.length,u=g(a,c);for(A=0;A<c;++A)i(u[A],this,e)}return!0},s.prototype.addListener=function(t,e){return h(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return h(this,t,e,!0)},s.prototype.once=function(t,e){return c(e),this.on(t,f(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return c(e),this.prependListener(t,f(this,t,e)),this},s.prototype.removeListener=function(t,e){var A,r,n,i,o;if(c(e),void 0===(r=this._events))return this;if(void 0===(A=r[t]))return this;if(A===e||A.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete r[t],r.removeListener&&this.emit("removeListener",t,A.listener||e));else if("function"!=typeof A){for(n=-1,i=A.length-1;i>=0;i--)if(A[i]===e||A[i].listener===e){o=A[i].listener,n=i;break}if(n<0)return this;0===n?A.shift():function(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}(A,n),1===A.length&&(r[t]=A[0]),void 0!==r.removeListener&&this.emit("removeListener",t,o||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,A,r;if(void 0===(A=this._events))return this;if(void 0===A.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==A[t]&&(0==--this._eventsCount?this._events=Object.create(null):delete A[t]),this;if(0===arguments.length){var n,i=Object.keys(A);for(r=0;r<i.length;++r)"removeListener"!==(n=i[r])&&this.removeAllListeners(n);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(e=A[t]))this.removeListener(t,e);else if(void 0!==e)for(r=e.length-1;r>=0;r--)this.removeListener(t,e[r]);return this},s.prototype.listeners=function(t){return d(this,t,!0)},s.prototype.rawListeners=function(t){return d(this,t,!1)},s.listenerCount=function(t,e){return"function"==typeof t.listenerCount?t.listenerCount(e):p.call(t,e)},s.prototype.listenerCount=p,s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]}},function(t,e,A){var r=A(53),n=A(331),i=A(25),o=A(336),s=A(340),a=A(76),c=A(27);function u(t,e){var A=r(t);if(n){var o=n(t);e&&(o=o.filter((function(e){return i(t,e).enumerable}))),A.push.apply(A,o)}return A}t.exports=function(t){for(var e=1;e<arguments.length;e++){var A=null!=arguments[e]?arguments[e]:{};e%2?u(Object(A),!0).forEach((function(e){c(t,e,A[e])})):o?s(t,o(A)):u(Object(A)).forEach((function(e){a(t,e,i(A,e))}))}return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){t.exports=A(385)},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){t.exports=!0},function(t,e,A){var r=A(49).f,n=A(64),i=A(38)("toStringTag");t.exports=function(t,e,A){t&&!n(t=A?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,A){var r=A(180),n=A(132);t.exports=Object.keys||function(t){return r(t,n)}},function(t,e){var A={}.toString;t.exports=function(t){return A.call(t).slice(8,-1)}},function(t,e,A){var r=A(50),n=A(182),i=A(132),o=A(131)("IE_PROTO"),s=function(){},a=function(){var t,e=A(123)("iframe"),r=i.length;for(e.style.display="none",A(183).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),a=t.F;r--;)delete a.prototype[i[r]];return a()};t.exports=Object.create||function(t,e){var A;return null!==t?(s.prototype=r(t),A=new s,s.prototype=null,A[o]=t):A=a(),void 0===e?A:n(A,e)}},function(t,e){t.exports={}},function(t,e,A){t.exports=A(282)},function(t,e,A){var r=A(54),n=A(191),i=A(192),o=A(50),s=A(100),a=A(194),c={},u={};(e=t.exports=function(t,e,A,h,l){var f,d,p,g,v=l?function(){return t}:a(t),y=r(A,h,e?2:1),B=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(i(v)){for(f=s(t.length);f>B;B++)if((g=e?y(o(d=t[B])[0],d[1]):y(t[B]))===c||g===u)return g}else for(p=v.call(t);!(d=p.next()).done;)if((g=n(p,y,d.value,e))===c||g===u)return g}).BREAK=c,e.RETURN=u},function(t,e,A){var r=A(204),n=A(150);t.exports=Object.keys||function(t){return r(t,n)}},function(t,e){var A={}.toString;t.exports=function(t){return A.call(t).slice(8,-1)}},function(t,e){t.exports=!0},function(t,e,A){var r=A(46).f,n=A(56),i=A(39)("toStringTag");t.exports=function(t,e,A){t&&!n(t=A?t:t.prototype,i)&&r(t,i,{configurable:!0,value:e})}},function(t,e,A){var r=A(43),n=A(208),i=A(150),o=A(148)("IE_PROTO"),s=function(){},a=function(){var t,e=A(151)("iframe"),r=i.length;for(e.style.display="none",A(209).appendChild(e),e.src="javascript:",(t=e.contentWindow.document).open(),t.write("<script>document.F=Object<\/script>"),t.close(),a=t.F;r--;)delete a.prototype[i[r]];return a()};t.exports=Object.create||function(t,e){var A;return null!==t?(s.prototype=r(t),A=new s,s.prototype=null,A[o]=t):A=a(),void 0===e?A:n(A,e)}},function(t,e){t.exports={}},function(t,e,A){var r=A(57),n=A(215),i=A(216),o=A(43),s=A(107),a=A(217),c={},u={};(e=t.exports=function(t,e,A,h,l){var f,d,p,g,v=l?function(){return t}:a(t),y=r(A,h,e?2:1),B=0;if("function"!=typeof v)throw TypeError(t+" is not iterable!");if(i(v)){for(f=s(t.length);f>B;B++)if((g=e?y(o(d=t[B])[0],d[1]):y(t[B]))===c||g===u)return g}else for(p=v.call(t);!(d=p.next()).done;)if((g=n(p,y,d.value,e))===c||g===u)return g}).BREAK=c,e.RETURN=u},function(t,e,A){t.exports=A(264)},function(t,e,A){t.exports=A(388)},function(t,e){var A=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++A+r).toString(36))}},function(t,e,A){var r=A(130),n=Math.min;t.exports=function(t){return t>0?n(r(t),9007199254740991):0}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,A){var r=A(101),n=A(81),i=A(55),o=A(124),s=A(64),a=A(178),c=Object.getOwnPropertyDescriptor;e.f=A(45)?c:function(t,e){if(t=i(t),e=o(e,!0),a)try{return c(t,e)}catch(t){}if(s(t,e))return n(!r.f.call(t,e),t[e])}},function(t,e,A){t.exports=A(251)},function(t,e,A){"use strict";var r=A(252)(!0);A(137)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,A=this._i;return A>=e.length?{value:void 0,done:!0}:(t=r(e,A),this._i+=t.length,{value:t,done:!1})}))},function(t,e,A){var r=A(24),n=A(17),i=A(65);t.exports=function(t,e){var A=(n.Object||{})[t]||Object[t],o={};o[t]=e(A),r(r.S+r.F*i((function(){A(1)})),"Object",o)}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,A){var r=A(147),n=Math.min;t.exports=function(t){return t>0?n(r(t),9007199254740991):0}},function(t,e){var A=0,r=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++A+r).toString(36))}},function(t,e,A){var r=A(18),n=A(15),i=A(58);t.exports=function(t,e){var A=(n.Object||{})[t]||Object[t],o={};o[t]=e(A),r(r.S+r.F*i((function(){A(1)})),"Object",o)}},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,A){"use strict";var r=A(371)(!0);A(161)(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,A=this._i;return A>=e.length?{value:void 0,done:!0}:(t=r(e,A),this._i+=t.length,{value:t,done:!1})}))},function(t,e,A){var r=A(56),n=A(67),i=A(148)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=n(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},function(t,e,A){var r=A(139),n=A(188),i=A(190);function o(e,A,s){return i()?(t.exports=o=r,t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=o=function(t,e,A){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return A&&n(i,A.prototype),i},t.exports.__esModule=!0,t.exports.default=t.exports),o.apply(null,arguments)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){var r=A(77),n=A(160),i=A(37),o=A(214);t.exports=function(t,e){var A=void 0!==r&&t[n]||t["@@iterator"];if(!A){if(i(t)||(A=o(t))||e&&t&&"number"==typeof t.length){A&&(t=A);var s=0,a=function(){};return{s:a,n:function(){return s>=t.length?{done:!0}:{done:!1,value:t[s++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var c,u=!0,h=!1;return{s:function(){A=A.call(t)},n:function(){var t=A.next();return u=t.done,t},e:function(t){h=!0,c=t},f:function(){try{u||null==A.return||A.return()}finally{if(h)throw c}}}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){var r=A(414),n=A(415),i=A(214),o=A(416);t.exports=function(t){return r(t)||n(t)||i(t)||o()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){t.exports=A(427)},function(t,e,A){"use strict";A.d(e,"a",(function(){return d}));var r=A(12),n=A.n(r),i=A(1),o=A.n(i),s=A(2),a=A.n(s),c=A(30),u=A.n(c),h=A(8),l=A.n(h),f=A(3),d=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:350;o()(this,t),this.running=!1,this.delayTime=e,this.queue=[]}var e;return a()(t,[{key:"push",value:function(t,e){this.queue.push({data:t,fn:e}),this._checkNext()}},{key:"_startExecuteQueue",value:(e=n()(l.a.mark((function t(){var e,A,r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.running=!0,e=this.queue.shift()){t.next=5;break}return f.a.OBJ.error("延迟队列数据有问题，为空"),t.abrupt("return");case 5:return A=e.fn,r=e.data,A(r),t.next=9,this._delay(this.delayTime);case 9:this.running=!1,this._checkNext();case 11:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"_delay",value:function(t){return new u.a((function(e,A){setTimeout((function(){e()}),t)}))}},{key:"_checkNext",value:function(){if(this.queue.length>0){if(this.running)return;this._startExecuteQueue()}else this.running=!1}}]),t}()},function(t,e){t.exports=function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){var r=A(172),n=A(88),i=A(188);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=r(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),n(t,"prototype",{writable:!1}),e&&i(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){var r=A(139),n=A(450),i=A(190),o=A(454);t.exports=function(t){var e=i();return function(){var A,i=n(t);if(e){var s=n(this).constructor;A=r(i,arguments,s)}else A=i.apply(this,arguments);return o(this,A)}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){var r=A(266),n=A(267),i=A(140),o=A(268);t.exports=function(t){return r(t)||n(t)||i(t)||o()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){var r=A(42),n=A(35).document,i=r(n)&&r(n.createElement);t.exports=function(t){return i?n.createElement(t):{}}},function(t,e,A){var r=A(42);t.exports=function(t,e){if(!r(t))return t;var A,n;if(e&&"function"==typeof(A=t.toString)&&!r(n=A.call(t)))return n;if("function"==typeof(A=t.valueOf)&&!r(n=A.call(t)))return n;if(!e&&"function"==typeof(A=t.toString)&&!r(n=A.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},function(t,e,A){var r=A(99)("meta"),n=A(42),i=A(64),o=A(49).f,s=0,a=Object.isExtensible||function(){return!0},c=!A(65)((function(){return a(Object.preventExtensions({}))})),u=function(t){o(t,r,{value:{i:"O"+ ++s,w:{}}})},h=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!a(t))return"F";if(!e)return"E";u(t)}return t[r].i},getWeak:function(t,e){if(!i(t,r)){if(!a(t))return!0;if(!e)return!1;u(t)}return t[r].w},onFreeze:function(t){return c&&h.NEED&&a(t)&&!i(t,r)&&u(t),t}}},function(t,e,A){var r=A(17),n=A(35),i=n["__core-js_shared__"]||(n["__core-js_shared__"]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:A(82)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e,A){e.f=A(38)},function(t,e,A){var r=A(35),n=A(17),i=A(82),o=A(127),s=A(49).f;t.exports=function(t){var e=n.Symbol||(n.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:o.f(t)})}},function(t,e){t.exports=function(t){if(null==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e){var A=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:A)(t)}},function(t,e,A){var r=A(126)("keys"),n=A(99);t.exports=function(t){return r[t]||(r[t]=n(t))}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,A){var r=A(85);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,A){var r=A(180),n=A(132).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,n)}},function(t,e){},function(t,e,A){"use strict";var r=A(82),n=A(24),i=A(179),o=A(60),s=A(87),a=A(253),c=A(83),u=A(185),h=A(38)("iterator"),l=!([].keys&&"next"in[].keys()),f=function(){return this};t.exports=function(t,e,A,d,p,g,v){a(A,e,d);var y,B,w,m=function(t){if(!l&&t in x)return x[t];switch(t){case"keys":case"values":return function(){return new A(this,t)}}return function(){return new A(this,t)}},C=e+" Iterator",b="values"==p,_=!1,x=t.prototype,E=x[h]||x["@@iterator"]||p&&x[p],F=E||m(p),Q=p?b?m("entries"):F:void 0,U="Array"==e&&x.entries||E;if(U&&(w=u(U.call(new t)))!==Object.prototype&&w.next&&(c(w,C,!0),r||"function"==typeof w[h]||o(w,h,f)),b&&E&&"values"!==E.name&&(_=!0,F=function(){return E.call(this)}),r&&!v||!l&&!_&&x[h]||o(x,h,F),s[e]=F,s[C]=f,p)if(y={values:b?F:m("values"),keys:g?F:m("keys"),entries:Q},v)for(B in y)B in x||i(x,B,y[B]);else n(n.P+n.F*(l||_),e,y);return y}},function(t,e,A){A(254);for(var r=A(35),n=A(60),i=A(87),o=A(38)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),a=0;a<s.length;a++){var c=s[a],u=r[c],h=u&&u.prototype;h&&!h[o]&&n(h,o,c),i[c]=i.Array}},function(t,e,A){t.exports=A(256)},function(t,e,A){var r=A(97),n=A(196);t.exports=function(t,e){if(t){if("string"==typeof t)return n(t,e);var A=Object.prototype.toString.call(t).slice(8,-1);return"Object"===A&&t.constructor&&(A=t.constructor.name),"Map"===A||"Set"===A?r(t):"Arguments"===A||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A)?n(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){var r=A(85),n=A(38)("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,A,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(A=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),n))?A:i?r(e):"Object"==(o=r(e))&&"function"==typeof e.callee?"Arguments":o}},function(t,e){t.exports=function(t,e,A,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(A+": incorrect invocation!");return t}},function(t,e,A){"use strict";var r=A(66);function n(t){var e,A;this.promise=new t((function(t,r){if(void 0!==e||void 0!==A)throw TypeError("Bad Promise constructor");e=t,A=r})),this.resolve=r(e),this.reject=r(A)}t.exports.f=function(t){return new n(t)}},function(t,e,A){var r=A(60);t.exports=function(t,e,A){for(var n in e)A&&t[n]?t[n]=e[n]:r(t,n,e[n]);return t}},function(t,e,A){"use strict";var r=A(320)();t.exports=function(t){return t!==r&&null!==t}},function(t,e,A){var r=A(91);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e){var A=Math.ceil,r=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?r:A)(t)}},function(t,e,A){var r=A(149)("keys"),n=A(108);t.exports=function(t){return r[t]||(r[t]=n(t))}},function(t,e,A){var r=A(15),n=A(29),i=n["__core-js_shared__"]||(n["__core-js_shared__"]={});(t.exports=function(t,e){return i[t]||(i[t]=void 0!==e?e:{})})("versions",[]).push({version:r.version,mode:A(92)?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,A){var r=A(36),n=A(29).document,i=r(n)&&r(n.createElement);t.exports=function(t){return i?n.createElement(t):{}}},function(t,e,A){var r=A(36);t.exports=function(t,e){if(!r(t))return t;var A,n;if(e&&"function"==typeof(A=t.toString)&&!r(n=A.call(t)))return n;if("function"==typeof(A=t.valueOf)&&!r(n=A.call(t)))return n;if(!e&&"function"==typeof(A=t.toString)&&!r(n=A.call(t)))return n;throw TypeError("Can't convert object to primitive value")}},function(t,e,A){var r=A(108)("meta"),n=A(36),i=A(56),o=A(46).f,s=0,a=Object.isExtensible||function(){return!0},c=!A(58)((function(){return a(Object.preventExtensions({}))})),u=function(t){o(t,r,{value:{i:"O"+ ++s,w:{}}})},h=t.exports={KEY:r,NEED:!1,fastKey:function(t,e){if(!n(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!i(t,r)){if(!a(t))return"F";if(!e)return"E";u(t)}return t[r].i},getWeak:function(t,e){if(!i(t,r)){if(!a(t))return!0;if(!e)return!1;u(t)}return t[r].w},onFreeze:function(t){return c&&h.NEED&&a(t)&&!i(t,r)&&u(t),t}}},function(t,e,A){e.f=A(39)},function(t,e,A){var r=A(29),n=A(15),i=A(92),o=A(154),s=A(46).f;t.exports=function(t){var e=n.Symbol||(n.Symbol=i?{}:r.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:o.f(t)})}},function(t,e,A){var r=A(91);t.exports=Array.isArray||function(t){return"Array"==r(t)}},function(t,e,A){var r=A(204),n=A(150).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return r(t,n)}},function(t,e,A){"use strict";var r=A(360)();t.exports=function(t){return t!==r&&null!==t}},function(t,e){},function(t,e,A){t.exports=A(370)},function(t,e,A){"use strict";var r=A(92),n=A(18),i=A(207),o=A(62),s=A(95),a=A(372),c=A(93),u=A(113),h=A(39)("iterator"),l=!([].keys&&"next"in[].keys()),f=function(){return this};t.exports=function(t,e,A,d,p,g,v){a(A,e,d);var y,B,w,m=function(t){if(!l&&t in x)return x[t];switch(t){case"keys":case"values":return function(){return new A(this,t)}}return function(){return new A(this,t)}},C=e+" Iterator",b="values"==p,_=!1,x=t.prototype,E=x[h]||x["@@iterator"]||p&&x[p],F=E||m(p),Q=p?b?m("entries"):F:void 0,U="Array"==e&&x.entries||E;if(U&&(w=u(U.call(new t)))!==Object.prototype&&w.next&&(c(w,C,!0),r||"function"==typeof w[h]||o(w,h,f)),b&&E&&"values"!==E.name&&(_=!0,F=function(){return E.call(this)}),r&&!v||!l&&!_&&x[h]||o(x,h,F),s[e]=F,s[C]=f,p)if(y={values:b?F:m("values"),keys:g?F:m("keys"),entries:Q},v)for(B in y)B in x||i(x,B,y[B]);else n(n.P+n.F*(l||_),e,y);return y}},function(t,e,A){A(373);for(var r=A(29),n=A(62),i=A(95),o=A(39)("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),a=0;a<s.length;a++){var c=s[a],u=r[c],h=u&&u.prototype;h&&!h[o]&&n(h,o,c),i[c]=i.Array}},function(t,e,A){var r=A(91),n=A(39)("toStringTag"),i="Arguments"==r(function(){return arguments}());t.exports=function(t){var e,A,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(A=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),n))?A:i?r(e):"Object"==(o=r(e))&&"function"==typeof e.callee?"Arguments":o}},function(t,e,A){t.exports=A(379)},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e){t.exports=function(t,e,A,r){if(!(t instanceof e)||void 0!==r&&r in t)throw TypeError(A+": incorrect invocation!");return t}},function(t,e,A){"use strict";var r=A(68);function n(t){var e,A;this.promise=new t((function(t,r){if(void 0!==e||void 0!==A)throw TypeError("Bad Promise constructor");e=t,A=r})),this.resolve=r(e),this.reject=r(A)}t.exports.f=function(t){return new n(t)}},function(t,e,A){var r=A(62);t.exports=function(t,e,A){for(var n in e)A&&t[n]?t[n]=e[n]:r(t,n,e[n]);return t}},function(t,e,A){"use strict";var r=SyntaxError,n=Function,i=TypeError,o=function(t){try{return n('"use strict"; return ('+t+").constructor;")()}catch(t){}},s=Object.getOwnPropertyDescriptor;if(s)try{s({},"")}catch(t){s=null}var a=function(){throw new i},c=s?function(){try{return a}catch(t){try{return s(arguments,"callee").get}catch(t){return a}}}():a,u=A(459)(),h=Object.getPrototypeOf||function(t){return t.__proto__},l={},f="undefined"==typeof Uint8Array?void 0:h(Uint8Array),d={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":u?h([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":l,"%AsyncGenerator%":l,"%AsyncGeneratorFunction%":l,"%AsyncIteratorPrototype%":l,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":n,"%GeneratorFunction%":l,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":u?h(h([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&u?h((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&u?h((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":u?h(""[Symbol.iterator]()):void 0,"%Symbol%":u?Symbol:void 0,"%SyntaxError%":r,"%ThrowTypeError%":c,"%TypedArray%":f,"%TypeError%":i,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet},p={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},g=A(170),v=A(462),y=g.call(Function.call,Array.prototype.concat),B=g.call(Function.apply,Array.prototype.splice),w=g.call(Function.call,String.prototype.replace),m=g.call(Function.call,String.prototype.slice),C=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,b=/\\(\\)?/g,_=function(t){var e=m(t,0,1),A=m(t,-1);if("%"===e&&"%"!==A)throw new r("invalid intrinsic syntax, expected closing `%`");if("%"===A&&"%"!==e)throw new r("invalid intrinsic syntax, expected opening `%`");var n=[];return w(t,C,(function(t,e,A,r){n[n.length]=A?w(r,b,"$1"):e||t})),n},x=function(t,e){var A,n=t;if(v(p,n)&&(n="%"+(A=p[n])[0]+"%"),v(d,n)){var s=d[n];if(s===l&&(s=function t(e){var A;if("%AsyncFunction%"===e)A=o("async function () {}");else if("%GeneratorFunction%"===e)A=o("function* () {}");else if("%AsyncGeneratorFunction%"===e)A=o("async function* () {}");else if("%AsyncGenerator%"===e){var r=t("%AsyncGeneratorFunction%");r&&(A=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var n=t("%AsyncGenerator%");n&&(A=h(n.prototype))}return d[e]=A,A}(n)),void 0===s&&!e)throw new i("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:A,name:n,value:s}}throw new r("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new i('"allowMissing" argument must be a boolean');var A=_(t),n=A.length>0?A[0]:"",o=x("%"+n+"%",e),a=o.name,c=o.value,u=!1,h=o.alias;h&&(n=h[0],B(A,y([0,1],h)));for(var l=1,f=!0;l<A.length;l+=1){var p=A[l],g=m(p,0,1),w=m(p,-1);if(('"'===g||"'"===g||"`"===g||'"'===w||"'"===w||"`"===w)&&g!==w)throw new r("property names with quotes must have matching quotes");if("constructor"!==p&&f||(u=!0),v(d,a="%"+(n+="."+p)+"%"))c=d[a];else if(null!=c){if(!(p in c)){if(!e)throw new i("base intrinsic for "+t+" exists, but the property is not available.");return}if(s&&l+1>=A.length){var C=s(c,p);c=(f=!!C)&&"get"in C&&!("originalValue"in C.get)?C.get:c[p]}else f=v(c,p),c=c[p];f&&!u&&(d[a]=c)}}return c}},function(t,e,A){"use strict";var r=A(461);t.exports=Function.prototype.bind||r},function(t,e,A){"use strict";var r=String.prototype.replace,n=/%20/g,i="RFC1738",o="RFC3986";t.exports={default:o,formatters:{RFC1738:function(t){return r.call(t,n,"+")},RFC3986:function(t){return String(t)}},RFC1738:i,RFC3986:o}},function(t,e,A){t.exports=A(448)},function(t,e,A){t.exports=A(291)},function(t,e,A){var r;
/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */!function(n,i,o,s){"use strict";var a,c=["","webkit","Moz","MS","ms","o"],u=i.createElement("div"),h=Math.round,l=Math.abs,f=Date.now;function d(t,e,A){return setTimeout(m(t,A),e)}function p(t,e,A){return!!Array.isArray(t)&&(g(t,A[e],A),!0)}function g(t,e,A){var r;if(t)if(t.forEach)t.forEach(e,A);else if(void 0!==t.length)for(r=0;r<t.length;)e.call(A,t[r],r,t),r++;else for(r in t)t.hasOwnProperty(r)&&e.call(A,t[r],r,t)}function v(t,e,A){var r="DEPRECATED METHOD: "+e+"\n"+A+" AT \n";return function(){var e=new Error("get-stack-trace"),A=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=n.console&&(n.console.warn||n.console.log);return i&&i.call(n.console,r,A),t.apply(this,arguments)}}a="function"!=typeof Object.assign?function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),A=1;A<arguments.length;A++){var r=arguments[A];if(null!=r)for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}return e}:Object.assign;var y=v((function(t,e,A){for(var r=Object.keys(e),n=0;n<r.length;)(!A||A&&void 0===t[r[n]])&&(t[r[n]]=e[r[n]]),n++;return t}),"extend","Use `assign`."),B=v((function(t,e){return y(t,e,!0)}),"merge","Use `assign`.");function w(t,e,A){var r,n=e.prototype;(r=t.prototype=Object.create(n)).constructor=t,r._super=n,A&&a(r,A)}function m(t,e){return function(){return t.apply(e,arguments)}}function C(t,e){return"function"==typeof t?t.apply(e&&e[0]||void 0,e):t}function b(t,e){return void 0===t?e:t}function _(t,e,A){g(Q(e),(function(e){t.addEventListener(e,A,!1)}))}function x(t,e,A){g(Q(e),(function(e){t.removeEventListener(e,A,!1)}))}function E(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function F(t,e){return t.indexOf(e)>-1}function Q(t){return t.trim().split(/\s+/g)}function U(t,e,A){if(t.indexOf&&!A)return t.indexOf(e);for(var r=0;r<t.length;){if(A&&t[r][A]==e||!A&&t[r]===e)return r;r++}return-1}function S(t){return Array.prototype.slice.call(t,0)}function I(t,e,A){for(var r=[],n=[],i=0;i<t.length;){var o=e?t[i][e]:t[i];U(n,o)<0&&r.push(t[i]),n[i]=o,i++}return A&&(r=e?r.sort((function(t,A){return t[e]>A[e]})):r.sort()),r}function T(t,e){for(var A,r,n=e[0].toUpperCase()+e.slice(1),i=0;i<c.length;){if((r=(A=c[i])?A+n:e)in t)return r;i++}}var O=1;function k(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||n}var D="ontouchstart"in n,H=void 0!==T(n,"PointerEvent"),L=D&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),M=["x","y"],P=["clientX","clientY"];function R(t,e){var A=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){C(t.options.enable,[t])&&A.handler(e)},this.init()}function K(t,e,A){var r=A.pointers.length,n=A.changedPointers.length,i=1&e&&r-n==0,o=12&e&&r-n==0;A.isFirst=!!i,A.isFinal=!!o,i&&(t.session={}),A.eventType=e,function(t,e){var A=t.session,r=e.pointers,n=r.length;A.firstInput||(A.firstInput=j(e));n>1&&!A.firstMultiple?A.firstMultiple=j(e):1===n&&(A.firstMultiple=!1);var i=A.firstInput,o=A.firstMultiple,s=o?o.center:i.center,a=e.center=N(r);e.timeStamp=f(),e.deltaTime=e.timeStamp-i.timeStamp,e.angle=W(s,a),e.distance=X(s,a),function(t,e){var A=e.center,r=t.offsetDelta||{},n=t.prevDelta||{},i=t.prevInput||{};1!==e.eventType&&4!==i.eventType||(n=t.prevDelta={x:i.deltaX||0,y:i.deltaY||0},r=t.offsetDelta={x:A.x,y:A.y});e.deltaX=n.x+(A.x-r.x),e.deltaY=n.y+(A.y-r.y)}(A,e),e.offsetDirection=G(e.deltaX,e.deltaY);var c=V(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=l(c.x)>l(c.y)?c.x:c.y,e.scale=o?(u=o.pointers,h=r,X(h[0],h[1],P)/X(u[0],u[1],P)):1,e.rotation=o?function(t,e){return W(e[1],e[0],P)+W(t[1],t[0],P)}(o.pointers,r):0,e.maxPointers=A.prevInput?e.pointers.length>A.prevInput.maxPointers?e.pointers.length:A.prevInput.maxPointers:e.pointers.length,function(t,e){var A,r,n,i,o=t.lastInterval||e,s=e.timeStamp-o.timeStamp;if(8!=e.eventType&&(s>25||void 0===o.velocity)){var a=e.deltaX-o.deltaX,c=e.deltaY-o.deltaY,u=V(s,a,c);r=u.x,n=u.y,A=l(u.x)>l(u.y)?u.x:u.y,i=G(a,c),t.lastInterval=e}else A=o.velocity,r=o.velocityX,n=o.velocityY,i=o.direction;e.velocity=A,e.velocityX=r,e.velocityY=n,e.direction=i}(A,e);var u,h;var d=t.element;E(e.srcEvent.target,d)&&(d=e.srcEvent.target);e.target=d}(t,A),t.emit("hammer.input",A),t.recognize(A),t.session.prevInput=A}function j(t){for(var e=[],A=0;A<t.pointers.length;)e[A]={clientX:h(t.pointers[A].clientX),clientY:h(t.pointers[A].clientY)},A++;return{timeStamp:f(),pointers:e,center:N(e),deltaX:t.deltaX,deltaY:t.deltaY}}function N(t){var e=t.length;if(1===e)return{x:h(t[0].clientX),y:h(t[0].clientY)};for(var A=0,r=0,n=0;n<e;)A+=t[n].clientX,r+=t[n].clientY,n++;return{x:h(A/e),y:h(r/e)}}function V(t,e,A){return{x:e/t||0,y:A/t||0}}function G(t,e){return t===e?1:l(t)>=l(e)?t<0?2:4:e<0?8:16}function X(t,e,A){A||(A=M);var r=e[A[0]]-t[A[0]],n=e[A[1]]-t[A[1]];return Math.sqrt(r*r+n*n)}function W(t,e,A){A||(A=M);var r=e[A[0]]-t[A[0]],n=e[A[1]]-t[A[1]];return 180*Math.atan2(n,r)/Math.PI}R.prototype={handler:function(){},init:function(){this.evEl&&_(this.element,this.evEl,this.domHandler),this.evTarget&&_(this.target,this.evTarget,this.domHandler),this.evWin&&_(k(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&x(this.element,this.evEl,this.domHandler),this.evTarget&&x(this.target,this.evTarget,this.domHandler),this.evWin&&x(k(this.element),this.evWin,this.domHandler)}};var Y={mousedown:1,mousemove:2,mouseup:4};function J(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,R.apply(this,arguments)}w(J,R,{handler:function(t){var e=Y[t.type];1&e&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var z={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},q={2:"touch",3:"pen",4:"mouse",5:"kinect"},Z="pointerdown",$="pointermove pointerup pointercancel";function tt(){this.evEl=Z,this.evWin=$,R.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}n.MSPointerEvent&&!n.PointerEvent&&(Z="MSPointerDown",$="MSPointerMove MSPointerUp MSPointerCancel"),w(tt,R,{handler:function(t){var e=this.store,A=!1,r=t.type.toLowerCase().replace("ms",""),n=z[r],i=q[t.pointerType]||t.pointerType,o="touch"==i,s=U(e,t.pointerId,"pointerId");1&n&&(0===t.button||o)?s<0&&(e.push(t),s=e.length-1):12&n&&(A=!0),s<0||(e[s]=t,this.callback(this.manager,n,{pointers:e,changedPointers:[t],pointerType:i,srcEvent:t}),A&&e.splice(s,1))}});var et={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function At(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,R.apply(this,arguments)}function rt(t,e){var A=S(t.touches),r=S(t.changedTouches);return 12&e&&(A=I(A.concat(r),"identifier",!0)),[A,r]}w(At,R,{handler:function(t){var e=et[t.type];if(1===e&&(this.started=!0),this.started){var A=rt.call(this,t,e);12&e&&A[0].length-A[1].length==0&&(this.started=!1),this.callback(this.manager,e,{pointers:A[0],changedPointers:A[1],pointerType:"touch",srcEvent:t})}}});var nt={touchstart:1,touchmove:2,touchend:4,touchcancel:8};function it(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},R.apply(this,arguments)}function ot(t,e){var A=S(t.touches),r=this.targetIds;if(3&e&&1===A.length)return r[A[0].identifier]=!0,[A,A];var n,i,o=S(t.changedTouches),s=[],a=this.target;if(i=A.filter((function(t){return E(t.target,a)})),1===e)for(n=0;n<i.length;)r[i[n].identifier]=!0,n++;for(n=0;n<o.length;)r[o[n].identifier]&&s.push(o[n]),12&e&&delete r[o[n].identifier],n++;return s.length?[I(i.concat(s),"identifier",!0),s]:void 0}w(it,R,{handler:function(t){var e=nt[t.type],A=ot.call(this,t,e);A&&this.callback(this.manager,e,{pointers:A[0],changedPointers:A[1],pointerType:"touch",srcEvent:t})}});function st(){R.apply(this,arguments);var t=m(this.handler,this);this.touch=new it(this.manager,t),this.mouse=new J(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function at(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,ct.call(this,e)):12&t&&ct.call(this,e)}function ct(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var A={x:e.clientX,y:e.clientY};this.lastTouches.push(A);var r=this.lastTouches;setTimeout((function(){var t=r.indexOf(A);t>-1&&r.splice(t,1)}),2500)}}function ut(t){for(var e=t.srcEvent.clientX,A=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var n=this.lastTouches[r],i=Math.abs(e-n.x),o=Math.abs(A-n.y);if(i<=25&&o<=25)return!0}return!1}w(st,R,{handler:function(t,e,A){var r="touch"==A.pointerType,n="mouse"==A.pointerType;if(!(n&&A.sourceCapabilities&&A.sourceCapabilities.firesTouchEvents)){if(r)at.call(this,e,A);else if(n&&ut.call(this,A))return;this.callback(t,e,A)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var ht=T(u.style,"touchAction"),lt=void 0!==ht,ft=function(){if(!lt)return!1;var t={},e=n.CSS&&n.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach((function(A){t[A]=!e||n.CSS.supports("touch-action",A)})),t}();function dt(t,e){this.manager=t,this.set(e)}dt.prototype={set:function(t){"compute"==t&&(t=this.compute()),lt&&this.manager.element.style&&ft[t]&&(this.manager.element.style[ht]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return g(this.manager.recognizers,(function(e){C(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))})),function(t){if(F(t,"none"))return"none";var e=F(t,"pan-x"),A=F(t,"pan-y");if(e&&A)return"none";if(e||A)return e?"pan-x":"pan-y";if(F(t,"manipulation"))return"manipulation";return"auto"}(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,A=t.offsetDirection;if(this.manager.session.prevented)e.preventDefault();else{var r=this.actions,n=F(r,"none")&&!ft.none,i=F(r,"pan-y")&&!ft["pan-y"],o=F(r,"pan-x")&&!ft["pan-x"];if(n){var s=1===t.pointers.length,a=t.distance<2,c=t.deltaTime<250;if(s&&a&&c)return}if(!o||!i)return n||i&&6&A||o&&24&A?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};function pt(t){this.options=a({},this.defaults,t||{}),this.id=O++,this.manager=null,this.options.enable=b(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function gt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function vt(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function yt(t,e){var A=e.manager;return A?A.get(t):t}function Bt(){pt.apply(this,arguments)}function wt(){Bt.apply(this,arguments),this.pX=null,this.pY=null}function mt(){Bt.apply(this,arguments)}function Ct(){pt.apply(this,arguments),this._timer=null,this._input=null}function bt(){Bt.apply(this,arguments)}function _t(){Bt.apply(this,arguments)}function xt(){pt.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function Et(t,e){return(e=e||{}).recognizers=b(e.recognizers,Et.defaults.preset),new Ft(t,e)}pt.prototype={defaults:{},set:function(t){return a(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(p(t,"recognizeWith",this))return this;var e=this.simultaneous;return e[(t=yt(t,this)).id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return p(t,"dropRecognizeWith",this)||(t=yt(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){if(p(t,"requireFailure",this))return this;var e=this.requireFail;return-1===U(e,t=yt(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(p(t,"dropRequireFailure",this))return this;t=yt(t,this);var e=U(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){var e=this,A=this.state;function r(A){e.manager.emit(A,t)}A<8&&r(e.options.event+gt(A)),r(e.options.event),t.additionalEvent&&r(t.additionalEvent),A>=8&&r(e.options.event+gt(A))},tryEmit:function(t){if(this.canEmit())return this.emit(t);this.state=32},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=a({},t);if(!C(this.options.enable,[this,e]))return this.reset(),void(this.state=32);56&this.state&&(this.state=1),this.state=this.process(e),30&this.state&&this.tryEmit(e)},process:function(t){},getTouchAction:function(){},reset:function(){}},w(Bt,pt,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,A=t.eventType,r=6&e,n=this.attrTest(t);return r&&(8&A||!n)?16|e:r||n?4&A?8|e:2&e?4|e:2:32}}),w(wt,Bt,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,A=!0,r=t.distance,n=t.direction,i=t.deltaX,o=t.deltaY;return n&e.direction||(6&e.direction?(n=0===i?1:i<0?2:4,A=i!=this.pX,r=Math.abs(t.deltaX)):(n=0===o?1:o<0?8:16,A=o!=this.pY,r=Math.abs(t.deltaY))),t.direction=n,A&&r>e.threshold&&n&e.direction},attrTest:function(t){return Bt.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=vt(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),w(mt,Bt,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=t.scale<1?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),w(Ct,pt,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,A=t.pointers.length===e.pointers,r=t.distance<e.threshold,n=t.deltaTime>e.time;if(this._input=t,!r||!A||12&t.eventType&&!n)this.reset();else if(1&t.eventType)this.reset(),this._timer=d((function(){this.state=8,this.tryEmit()}),e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=f(),this.manager.emit(this.options.event,this._input)))}}),w(bt,Bt,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),w(_t,Bt,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return wt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,A=this.options.direction;return 30&A?e=t.overallVelocity:6&A?e=t.overallVelocityX:24&A&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&A&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&l(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=vt(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),w(xt,pt,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,A=t.pointers.length===e.pointers,r=t.distance<e.threshold,n=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(r&&n&&A){if(4!=t.eventType)return this.failTimeout();var i=!this.pTime||t.timeStamp-this.pTime<e.interval,o=!this.pCenter||X(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,o&&i?this.count+=1:this.count=1,this._input=t,0===this.count%e.taps)return this.hasRequireFailures()?(this._timer=d((function(){this.state=8,this.tryEmit()}),e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=d((function(){this.state=32}),this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),Et.VERSION="2.0.7",Et.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[bt,{enable:!1}],[mt,{enable:!1},["rotate"]],[_t,{direction:6}],[wt,{direction:6},["swipe"]],[xt],[xt,{event:"doubletap",taps:2},["tap"]],[Ct]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function Ft(t,e){var A;this.options=a({},Et.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((A=this).options.inputClass||(H?tt:L?it:D?st:J))(A,K),this.touchAction=new dt(this,this.options.touchAction),Qt(this,!0),g(this.options.recognizers,(function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])}),this)}function Qt(t,e){var A,r=t.element;r.style&&(g(t.options.cssProps,(function(n,i){A=T(r.style,i),e?(t.oldCssProps[A]=r.style[A],r.style[A]=n):r.style[A]=t.oldCssProps[A]||""})),e||(t.oldCssProps={}))}Ft.prototype={set:function(t){return a(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){var A;this.touchAction.preventDefaults(t);var r=this.recognizers,n=e.curRecognizer;(!n||n&&8&n.state)&&(n=e.curRecognizer=null);for(var i=0;i<r.length;)A=r[i],2===e.stopped||n&&A!=n&&!A.canRecognizeWith(n)?A.reset():A.recognize(t),!n&&14&A.state&&(n=e.curRecognizer=A),i++}},get:function(t){if(t instanceof pt)return t;for(var e=this.recognizers,A=0;A<e.length;A++)if(e[A].options.event==t)return e[A];return null},add:function(t){if(p(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(p(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,A=U(e,t);-1!==A&&(e.splice(A,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var A=this.handlers;return g(Q(t),(function(t){A[t]=A[t]||[],A[t].push(e)})),this}},off:function(t,e){if(void 0!==t){var A=this.handlers;return g(Q(t),(function(t){e?A[t]&&A[t].splice(U(A[t],e),1):delete A[t]})),this}},emit:function(t,e){this.options.domEvents&&function(t,e){var A=i.createEvent("Event");A.initEvent(t,!0,!0),A.gesture=e,e.target.dispatchEvent(A)}(t,e);var A=this.handlers[t]&&this.handlers[t].slice();if(A&&A.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<A.length;)A[r](e),r++}},destroy:function(){this.element&&Qt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},a(Et,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:Ft,Input:R,TouchAction:dt,TouchInput:it,MouseInput:J,PointerEventInput:tt,TouchMouseInput:st,SingleTouchInput:At,Recognizer:pt,AttrRecognizer:Bt,Tap:xt,Pan:wt,Swipe:_t,Pinch:mt,Rotate:bt,Press:Ct,on:_,off:x,each:g,merge:B,extend:y,assign:a,inherit:w,bindFn:m,prefixed:T}),(void 0!==n?n:"undefined"!=typeof self?self:{}).Hammer=Et,void 0===(r=function(){return Et}.call(e,A,e,t))||(t.exports=r)}(window,document)},function(t,e,A){(function(t){
/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */
var r,n,i,o,s,a,c,u,h,l,f,d,p,g,v,y,B,w,m,C,b,_,x=x||{version:"2.7.0"};function E(t,e){var A=t.canvas,r=e.targetCanvas,n=r.getContext("2d");n.translate(0,r.height),n.scale(1,-1);var i=A.height-r.height;n.drawImage(A,0,i,r.width,r.height,0,0,r.width,r.height)}function F(t,e){var A=e.targetCanvas.getContext("2d"),r=e.destinationWidth,n=e.destinationHeight,i=r*n*4,o=new Uint8Array(this.imageBuffer,0,i),s=new Uint8ClampedArray(this.imageBuffer,0,i);t.readPixels(0,0,r,n,t.RGBA,t.UNSIGNED_BYTE,o);var a=new ImageData(s,r,n);A.putImageData(a,0,0)}e.fabric=x,"undefined"!=typeof document&&"undefined"!=typeof window?(document instanceof HTMLDocument?x.document=document:x.document=document.implementation.createHTMLDocument(""),x.window=window):(x.document=A(423).jsdom(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]}}),x.jsdomImplForWrapper=A(424).implForWrapper,x.nodeCanvas=A(425).Canvas,x.window=x.document.defaultView,DOMParser=A(426).DOMParser),x.isTouchSupported="ontouchstart"in x.window||"ontouchstart"in x.document||x.window&&x.window.navigator&&x.window.navigator.maxTouchPoints>0,x.isLikelyNode=void 0!==t&&"undefined"==typeof window,x.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],x.DPI=96,x.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:e[-+]?\\d+)?)",x.fontPaths={},x.iMatrix=[1,0,0,1,0,0],x.canvasModule="canvas",x.perfLimitSizeTotal=2097152,x.maxCacheSideLimit=4096,x.minCacheSideLimit=256,x.charWidthsCache={},x.textureSize=2048,x.enableGLFiltering=!0,x.devicePixelRatio=x.window.devicePixelRatio||x.window.webkitDevicePixelRatio||x.window.mozDevicePixelRatio||1,x.browserShadowBlurConstant=1,x.arcToSegmentsCache={},x.boundsOfCurveCache={},x.cachesBoundsOfCurve=!0,x.initFilterBackend=function(){return x.enableGLFiltering&&x.isWebglSupported&&x.isWebglSupported(x.textureSize)?new x.WebglFilterBackend({tileSize:x.textureSize}):x.Canvas2dFilterBackend?new x.Canvas2dFilterBackend:void 0},"undefined"!=typeof document&&"undefined"!=typeof window&&(window.fabric=x),function(){function t(t,e){if(this.__eventListeners[t]){var A=this.__eventListeners[t];e?A[A.indexOf(e)]=!1:x.util.array.fill(A,!1)}}function e(t,e){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var A in t)this.on(A,t[A]);else this.__eventListeners[t]||(this.__eventListeners[t]=[]),this.__eventListeners[t].push(e);return this}function A(e,A){if(this.__eventListeners){if(0===arguments.length)for(e in this.__eventListeners)t.call(this,e);else if(1===arguments.length&&"object"==typeof arguments[0])for(var r in e)t.call(this,r,e[r]);else t.call(this,e,A);return this}}function r(t,e){if(this.__eventListeners){var A=this.__eventListeners[t];if(A){for(var r=0,n=A.length;r<n;r++)A[r]&&A[r].call(this,e||{});return this.__eventListeners[t]=A.filter((function(t){return!1!==t})),this}}}x.Observable={observe:e,stopObserving:A,fire:r,on:e,off:A,trigger:r}}(),x.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var t=0,e=arguments.length;t<e;t++)this._onObjectAdded(arguments[t]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(t,e,A){var r=this._objects;return A?r[e]=t:r.splice(e,0,t),this._onObjectAdded&&this._onObjectAdded(t),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var t,e=this._objects,A=!1,r=0,n=arguments.length;r<n;r++)-1!==(t=e.indexOf(arguments[r]))&&(A=!0,e.splice(t,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[r]));return this.renderOnAddRemove&&A&&this.requestRenderAll(),this},forEachObject:function(t,e){for(var A=this.getObjects(),r=0,n=A.length;r<n;r++)t.call(e,A[r],r,A);return this},getObjects:function(t){return void 0===t?this._objects.concat():this._objects.filter((function(e){return e.type===t}))},item:function(t){return this._objects[t]},isEmpty:function(){return 0===this._objects.length},size:function(){return this._objects.length},contains:function(t){return this._objects.indexOf(t)>-1},complexity:function(){return this._objects.reduce((function(t,e){return t+=e.complexity?e.complexity():0}),0)}},x.CommonMethods={_setOptions:function(t){for(var e in t)this.set(e,t[e])},_initGradient:function(t,e){!t||!t.colorStops||t instanceof x.Gradient||this.set(e,new x.Gradient(t))},_initPattern:function(t,e,A){!t||!t.source||t instanceof x.Pattern?A&&A():this.set(e,new x.Pattern(t,A))},_initClipping:function(t){if(t.clipTo&&"string"==typeof t.clipTo){var e=x.util.getFunctionBody(t.clipTo);void 0!==e&&(this.clipTo=new Function("ctx",e))}},_setObject:function(t){for(var e in t)this._set(e,t[e])},set:function(t,e){return"object"==typeof t?this._setObject(t):"function"==typeof e&&"clipTo"!==t?this._set(t,e(this.get(t))):this._set(t,e),this},_set:function(t,e){this[t]=e},toggle:function(t){var e=this.get(t);return"boolean"==typeof e&&this.set(t,!e),this},get:function(t){return this[t]}},r=e,n=Math.sqrt,i=Math.atan2,o=Math.pow,s=Math.abs,a=Math.PI/180,c=Math.PI/2,x.util={cos:function(t){if(0===t)return 1;switch(t<0&&(t=-t),t/c){case 1:case 3:return 0;case 2:return-1}return Math.cos(t)},sin:function(t){if(0===t)return 0;var e=1;switch(t<0&&(e=-1),t/c){case 1:return e;case 2:return 0;case 3:return-e}return Math.sin(t)},removeFromArray:function(t,e){var A=t.indexOf(e);return-1!==A&&t.splice(A,1),t},getRandomInt:function(t,e){return Math.floor(Math.random()*(e-t+1))+t},degreesToRadians:function(t){return t*a},radiansToDegrees:function(t){return t/a},rotatePoint:function(t,e,A){t.subtractEquals(e);var r=x.util.rotateVector(t,A);return new x.Point(r.x,r.y).addEquals(e)},rotateVector:function(t,e){var A=x.util.sin(e),r=x.util.cos(e);return{x:t.x*r-t.y*A,y:t.x*A+t.y*r}},transformPoint:function(t,e,A){return A?new x.Point(e[0]*t.x+e[2]*t.y,e[1]*t.x+e[3]*t.y):new x.Point(e[0]*t.x+e[2]*t.y+e[4],e[1]*t.x+e[3]*t.y+e[5])},makeBoundingBoxFromPoints:function(t){var e=[t[0].x,t[1].x,t[2].x,t[3].x],A=x.util.array.min(e),r=x.util.array.max(e)-A,n=[t[0].y,t[1].y,t[2].y,t[3].y],i=x.util.array.min(n);return{left:A,top:i,width:r,height:x.util.array.max(n)-i}},invertTransform:function(t){var e=1/(t[0]*t[3]-t[1]*t[2]),A=[e*t[3],-e*t[1],-e*t[2],e*t[0]],r=x.util.transformPoint({x:t[4],y:t[5]},A,!0);return A[4]=-r.x,A[5]=-r.y,A},toFixed:function(t,e){return parseFloat(Number(t).toFixed(e))},parseUnit:function(t,e){var A=/\D{0,2}$/.exec(t),r=parseFloat(t);switch(e||(e=x.Text.DEFAULT_SVG_FONT_SIZE),A[0]){case"mm":return r*x.DPI/25.4;case"cm":return r*x.DPI/2.54;case"in":return r*x.DPI;case"pt":return r*x.DPI/72;case"pc":return r*x.DPI/72*12;case"em":return r*e;default:return r}},falseFunction:function(){return!1},getKlass:function(t,e){return t=x.util.string.camelize(t.charAt(0).toUpperCase()+t.slice(1)),x.util.resolveNamespace(e)[t]},getSvgAttributes:function(t){var e=["instantiated_by_use","style","id","class"];switch(t){case"linearGradient":e=e.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":e=e.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":e=e.concat(["offset","stop-color","stop-opacity"])}return e},resolveNamespace:function(t){if(!t)return x;var e,A=t.split("."),n=A.length,i=r||x.window;for(e=0;e<n;++e)i=i[A[e]];return i},loadImage:function(t,e,A,r){if(t){var n=x.util.createImage(),i=function(){e&&e.call(A,n),n=n.onload=n.onerror=null};n.onload=i,n.onerror=function(){x.log("Error loading "+n.src),e&&e.call(A,null,!0),n=n.onload=n.onerror=null},0!==t.indexOf("data")&&r&&(n.crossOrigin=r),"data:image/svg"===t.substring(0,14)&&(n.onload=null,x.util.loadImageInDom(n,i)),n.src=t}else e&&e.call(A,t)},loadImageInDom:function(t,e){var A=x.document.createElement("div");A.style.width=A.style.height="1px",A.style.left=A.style.top="-100%",A.style.position="absolute",A.appendChild(t),x.document.querySelector("body").appendChild(A),t.onload=function(){e(),A.parentNode.removeChild(A),A=null}},enlivenObjects:function(t,e,A,r){function n(){++o===s&&e&&e(i)}var i=[],o=0,s=(t=t||[]).length;s?t.forEach((function(t,e){t&&t.type?x.util.getKlass(t.type,A).fromObject(t,(function(A,o){o||(i[e]=A),r&&r(t,A,o),n()})):n()})):e&&e(i)},enlivenPatterns:function(t,e){function A(){++n===i&&e&&e(r)}var r=[],n=0,i=(t=t||[]).length;i?t.forEach((function(t,e){t&&t.source?new x.Pattern(t,(function(t){r[e]=t,A()})):(r[e]=t,A())})):e&&e(r)},groupSVGElements:function(t,e,A){var r;return t&&1===t.length?t[0]:(e&&(e.width&&e.height?e.centerPoint={x:e.width/2,y:e.height/2}:(delete e.width,delete e.height)),r=new x.Group(t,e),void 0!==A&&(r.sourcePath=A),r)},populateWithProperties:function(t,e,A){if(A&&"[object Array]"===Object.prototype.toString.call(A))for(var r=0,n=A.length;r<n;r++)A[r]in t&&(e[A[r]]=t[A[r]])},drawDashedLine:function(t,e,A,r,o,s){var a=r-e,c=o-A,u=n(a*a+c*c),h=i(c,a),l=s.length,f=0,d=!0;for(t.save(),t.translate(e,A),t.moveTo(0,0),t.rotate(h),e=0;u>e;)(e+=s[f++%l])>u&&(e=u),t[d?"lineTo":"moveTo"](e,0),d=!d;t.restore()},createCanvasElement:function(){return x.document.createElement("canvas")},copyCanvasElement:function(t){var e=x.util.createCanvasElement();return e.width=t.width,e.height=t.height,e.getContext("2d").drawImage(t,0,0),e},toDataURL:function(t,e,A){return t.toDataURL("image/"+e,A)},createImage:function(){return x.document.createElement("img")},clipContext:function(t,e){e.save(),e.beginPath(),t.clipTo(e),e.clip()},multiplyTransformMatrices:function(t,e,A){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],A?0:t[0]*e[4]+t[2]*e[5]+t[4],A?0:t[1]*e[4]+t[3]*e[5]+t[5]]},qrDecompose:function(t){var e=i(t[1],t[0]),A=o(t[0],2)+o(t[1],2),r=n(A),s=(t[0]*t[3]-t[2]*t[1])/r,c=i(t[0]*t[2]+t[1]*t[3],A);return{angle:e/a,scaleX:r,scaleY:s,skewX:c/a,skewY:0,translateX:t[4],translateY:t[5]}},customTransformMatrix:function(t,e,A){var r=[1,0,s(Math.tan(A*a)),1],n=[s(t),0,0,s(e)];return x.util.multiplyTransformMatrices(n,r,!0)},resetObjectTransform:function(t){t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.rotate(0)},saveObjectTransform:function(t){return{scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,angle:t.angle,left:t.left,flipX:t.flipX,flipY:t.flipY,top:t.top}},getFunctionBody:function(t){return(String(t).match(/function[^{]*\{([\s\S]*)\}/)||{})[1]},isTransparent:function(t,e,A,r){r>0&&(e>r?e-=r:e=0,A>r?A-=r:A=0);var n,i=!0,o=t.getImageData(e,A,2*r||1,2*r||1),s=o.data.length;for(n=3;n<s&&!1!=(i=o.data[n]<=0);n+=4);return o=null,i},parsePreserveAspectRatioAttribute:function(t){var e,A="meet",r=t.split(" ");return r&&r.length&&("meet"!==(A=r.pop())&&"slice"!==A?(e=A,A="meet"):r.length&&(e=r.pop())),{meetOrSlice:A,alignX:"none"!==e?e.slice(1,4):"none",alignY:"none"!==e?e.slice(5,8):"none"}},clearFabricFontCache:function(t){(t=(t||"").toLowerCase())?x.charWidthsCache[t]&&delete x.charWidthsCache[t]:x.charWidthsCache={}},limitDimsByArea:function(t,e){var A=Math.sqrt(e*t),r=Math.floor(e/A);return{x:Math.floor(A),y:r}},capValue:function(t,e,A){return Math.max(t,Math.min(e,A))},findScaleToFit:function(t,e){return Math.min(e.width/t.width,e.height/t.height)},findScaleToCover:function(t,e){return Math.max(e.width/t.width,e.height/t.height)}},function(){var t=Array.prototype.join;function e(e,n,i,o,s,a,c){var u=t.call(arguments);if(x.arcToSegmentsCache[u])return x.arcToSegmentsCache[u];var h=Math.PI,l=c*h/180,f=x.util.sin(l),d=x.util.cos(l),p=0,g=0,v=-d*e*.5-f*n*.5,y=-d*n*.5+f*e*.5,B=(i=Math.abs(i))*i,w=(o=Math.abs(o))*o,m=y*y,C=v*v,b=B*w-B*m-w*C,_=0;if(b<0){var E=Math.sqrt(1-b/(B*w));i*=E,o*=E}else _=(s===a?-1:1)*Math.sqrt(b/(B*m+w*C));var F=_*i*y/o,Q=-_*o*v/i,U=d*F-f*Q+.5*e,S=f*F+d*Q+.5*n,I=r(1,0,(v-F)/i,(y-Q)/o),T=r((v-F)/i,(y-Q)/o,(-v-F)/i,(-y-Q)/o);0===a&&T>0?T-=2*h:1===a&&T<0&&(T+=2*h);for(var O=Math.ceil(Math.abs(T/h*2)),k=[],D=T/O,H=8/3*Math.sin(D/4)*Math.sin(D/4)/Math.sin(D/2),L=I+D,M=0;M<O;M++)k[M]=A(I,L,d,f,i,o,U,S,H,p,g),p=k[M][4],g=k[M][5],I=L,L+=D;return x.arcToSegmentsCache[u]=k,k}function A(t,e,A,r,n,i,o,s,a,c,u){var h=x.util.cos(t),l=x.util.sin(t),f=x.util.cos(e),d=x.util.sin(e),p=A*n*f-r*i*d+o,g=r*n*f+A*i*d+s;return[c+a*(-A*n*l-r*i*h),u+a*(-r*n*l+A*i*h),p+a*(A*n*d+r*i*f),g+a*(r*n*d-A*i*f),p,g]}function r(t,e,A,r){var n=Math.atan2(e,t),i=Math.atan2(r,A);return i>=n?i-n:2*Math.PI-(n-i)}function n(e,A,r,n,i,o,s,a){var c;if(x.cachesBoundsOfCurve&&(c=t.call(arguments),x.boundsOfCurveCache[c]))return x.boundsOfCurveCache[c];var u,h,l,f,d,p,g,v,y=Math.sqrt,B=Math.min,w=Math.max,m=Math.abs,C=[],b=[[],[]];h=6*e-12*r+6*i,u=-3*e+9*r-9*i+3*s,l=3*r-3*e;for(var _=0;_<2;++_)if(_>0&&(h=6*A-12*n+6*o,u=-3*A+9*n-9*o+3*a,l=3*n-3*A),m(u)<1e-12){if(m(h)<1e-12)continue;0<(f=-l/h)&&f<1&&C.push(f)}else(g=h*h-4*l*u)<0||(0<(d=(-h+(v=y(g)))/(2*u))&&d<1&&C.push(d),0<(p=(-h-v)/(2*u))&&p<1&&C.push(p));for(var E,F,Q,U=C.length,S=U;U--;)E=(Q=1-(f=C[U]))*Q*Q*e+3*Q*Q*f*r+3*Q*f*f*i+f*f*f*s,b[0][U]=E,F=Q*Q*Q*A+3*Q*Q*f*n+3*Q*f*f*o+f*f*f*a,b[1][U]=F;b[0][S]=e,b[1][S]=A,b[0][S+1]=s,b[1][S+1]=a;var I=[{x:B.apply(null,b[0]),y:B.apply(null,b[1])},{x:w.apply(null,b[0]),y:w.apply(null,b[1])}];return x.cachesBoundsOfCurve&&(x.boundsOfCurveCache[c]=I),I}x.util.drawArc=function(t,A,r,n){for(var i=n[0],o=n[1],s=n[2],a=n[3],c=n[4],u=[[],[],[],[]],h=e(n[5]-A,n[6]-r,i,o,a,c,s),l=0,f=h.length;l<f;l++)u[l][0]=h[l][0]+A,u[l][1]=h[l][1]+r,u[l][2]=h[l][2]+A,u[l][3]=h[l][3]+r,u[l][4]=h[l][4]+A,u[l][5]=h[l][5]+r,t.bezierCurveTo.apply(t,u[l])},x.util.getBoundsOfArc=function(t,A,r,i,o,s,a,c,u){for(var h,l=0,f=0,d=[],p=e(c-t,u-A,r,i,s,a,o),g=0,v=p.length;g<v;g++)h=n(l,f,p[g][0],p[g][1],p[g][2],p[g][3],p[g][4],p[g][5]),d.push({x:h[0].x+t,y:h[0].y+A}),d.push({x:h[1].x+t,y:h[1].y+A}),l=p[g][4],f=p[g][5];return d},x.util.getBoundsOfCurve=n}(),function(){var t=Array.prototype.slice;function e(t,e,A){if(t&&0!==t.length){var r=t.length-1,n=e?t[r][e]:t[r];if(e)for(;r--;)A(t[r][e],n)&&(n=t[r][e]);else for(;r--;)A(t[r],n)&&(n=t[r]);return n}}x.util.array={fill:function(t,e){for(var A=t.length;A--;)t[A]=e;return t},invoke:function(e,A){for(var r=t.call(arguments,2),n=[],i=0,o=e.length;i<o;i++)n[i]=r.length?e[i][A].apply(e[i],r):e[i][A].call(e[i]);return n},min:function(t,A){return e(t,A,(function(t,e){return t<e}))},max:function(t,A){return e(t,A,(function(t,e){return t>=e}))}}}(),function(){function t(e,A,r){if(r)if(!x.isLikelyNode&&A instanceof Element)e=A;else if(A instanceof Array){e=[];for(var n=0,i=A.length;n<i;n++)e[n]=t({},A[n],r)}else if(A&&"object"==typeof A)for(var o in A)"canvas"===o?e[o]=t({},A[o]):A.hasOwnProperty(o)&&(e[o]=t({},A[o],r));else e=A;else for(var o in A)e[o]=A[o];return e}x.util.object={extend:t,clone:function(e,A){return t({},e,A)}},x.util.object.extend(x.util,x.Observable)}(),function(){function t(t,e){var A=t.charCodeAt(e);if(isNaN(A))return"";if(A<55296||A>57343)return t.charAt(e);if(55296<=A&&A<=56319){if(t.length<=e+1)throw"High surrogate without following low surrogate";var r=t.charCodeAt(e+1);if(56320>r||r>57343)throw"High surrogate without following low surrogate";return t.charAt(e)+t.charAt(e+1)}if(0===e)throw"Low surrogate without preceding high surrogate";var n=t.charCodeAt(e-1);if(55296>n||n>56319)throw"Low surrogate without preceding high surrogate";return!1}x.util.string={camelize:function(t){return t.replace(/-+(.)?/g,(function(t,e){return e?e.toUpperCase():""}))},capitalize:function(t,e){return t.charAt(0).toUpperCase()+(e?t.slice(1):t.slice(1).toLowerCase())},escapeXml:function(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},graphemeSplit:function(e){var A,r=0,n=[];for(r=0;r<e.length;r++)!1!==(A=t(e,r))&&n.push(A);return n}}}(),function(){var t=Array.prototype.slice,e=function(){},A=function(){for(var t in{toString:1})if("toString"===t)return!1;return!0}(),r=function(t,e,r){for(var n in e)n in t.prototype&&"function"==typeof t.prototype[n]&&(e[n]+"").indexOf("callSuper")>-1?t.prototype[n]=function(t){return function(){var A=this.constructor.superclass;this.constructor.superclass=r;var n=e[t].apply(this,arguments);if(this.constructor.superclass=A,"initialize"!==t)return n}}(n):t.prototype[n]=e[n],A&&(e.toString!==Object.prototype.toString&&(t.prototype.toString=e.toString),e.valueOf!==Object.prototype.valueOf&&(t.prototype.valueOf=e.valueOf))};function n(){}function i(e){for(var A=null,r=this;r.constructor.superclass;){var n=r.constructor.superclass.prototype[e];if(r[e]!==n){A=n;break}r=r.constructor.superclass.prototype}if(A)return arguments.length>1?A.apply(this,t.call(arguments,1)):A.call(this)}x.util.createClass=function(){var A=null,o=t.call(arguments,0);function s(){this.initialize.apply(this,arguments)}"function"==typeof o[0]&&(A=o.shift()),s.superclass=A,s.subclasses=[],A&&(n.prototype=A.prototype,s.prototype=new n,A.subclasses.push(s));for(var a=0,c=o.length;a<c;a++)r(s,o[a],A);return s.prototype.initialize||(s.prototype.initialize=e),s.prototype.constructor=s,s.prototype.callSuper=i,s}}(),function(){function t(t){var e,A,r=Array.prototype.slice.call(arguments,1),n=r.length;for(A=0;A<n;A++)if(e=typeof t[r[A]],!/^(?:function|object|unknown)$/.test(e))return!1;return!0}var e,A,r,n,i=(r=0,function(t){return t.__uniqueID||(t.__uniqueID="uniqueID__"+r++)});function o(t,A){return function(r){A.call(e(t),r||x.window.event)}}n={},e=function(t){return n[t]},A=function(t,e){n[t]=e};var s,a,c=t(x.document.documentElement,"addEventListener","removeEventListener")&&t(x.window,"addEventListener","removeEventListener"),u=t(x.document.documentElement,"attachEvent","detachEvent")&&t(x.window,"attachEvent","detachEvent"),h={},l={};c?(s=function(t,e,A,r){t&&t.addEventListener(e,A,!u&&r)},a=function(t,e,A,r){t&&t.removeEventListener(e,A,!u&&r)}):u?(s=function(t,e,r){if(t){var n=i(t);A(n,t),h[n]||(h[n]={}),h[n][e]||(h[n][e]=[]);var s=function(t,e){return{handler:e,wrappedHandler:o(t,e)}}(n,r);h[n][e].push(s),t.attachEvent("on"+e,s.wrappedHandler)}},a=function(t,e,A){if(t){var r,n=i(t);if(h[n]&&h[n][e])for(var o=0,s=h[n][e].length;o<s;o++)(r=h[n][e][o])&&r.handler===A&&(t.detachEvent("on"+e,r.wrappedHandler),h[n][e][o]=null)}}):(s=function(t,e,A){if(t){var r=i(t);if(l[r]||(l[r]={}),!l[r][e]){l[r][e]=[];var n=t["on"+e];n&&l[r][e].push(n),t["on"+e]=function(t,e){return function(A){if(l[t]&&l[t][e])for(var r=l[t][e],n=0,i=r.length;n<i;n++)r[n].call(this,A||x.window.event)}}(r,e)}l[r][e].push(A)}},a=function(t,e,A){if(t){var r=i(t);if(l[r]&&l[r][e])for(var n=l[r][e],o=0,s=n.length;o<s;o++)n[o]===A&&n.splice(o,1)}}),x.util.addListener=s,x.util.removeListener=a;var f=function(t){return t.clientX},d=function(t){return t.clientY};function p(t,e,A){var r,n=t["touchend"===t.type?"changedTouches":"touches"];return n&&n[0]&&(r=n[0][A]),void 0===r&&(r=t[A]),r}x.isTouchSupported&&(f=function(t){return p(t,0,"clientX")},d=function(t){return p(t,0,"clientY")}),x.util.getPointer=function(t){t||(t=x.window.event);var e=t.target||("unknown"!=typeof t.srcElement?t.srcElement:null),A=x.util.getScrollLeftTop(e);return{x:f(t)+A.left,y:d(t)+A.top}}}(),u=x.document.createElement("div"),h="string"==typeof u.style.opacity,l="string"==typeof u.style.filter,f=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,d=function(t){return t},h?d=function(t,e){return t.style.opacity=e,t}:l&&(d=function(t,e){var A=t.style;return t.currentStyle&&!t.currentStyle.hasLayout&&(A.zoom=1),f.test(A.filter)?(e=e>=.9999?"":"alpha(opacity="+100*e+")",A.filter=A.filter.replace(f,e)):A.filter+=" alpha(opacity="+100*e+")",t}),x.util.setStyle=function(t,e){var A=t.style;if(!A)return t;if("string"==typeof e)return t.style.cssText+=";"+e,e.indexOf("opacity")>-1?d(t,e.match(/opacity:\s*(\d?\.?\d*)/)[1]):t;for(var r in e)"opacity"===r?d(t,e[r]):A["float"===r||"cssFloat"===r?void 0===A.styleFloat?"cssFloat":"styleFloat":r]=e[r];return t},function(){var t=Array.prototype.slice;var e,A,r,n,i=function(e){return t.call(e,0)};try{e=i(x.document.childNodes)instanceof Array}catch(t){}function o(t,e){var A=x.document.createElement(t);for(var r in e)"class"===r?A.className=e[r]:"for"===r?A.htmlFor=e[r]:A.setAttribute(r,e[r]);return A}function s(t){for(var e=0,A=0,r=x.document.documentElement,n=x.document.body||{scrollLeft:0,scrollTop:0};t&&(t.parentNode||t.host)&&((t=t.parentNode||t.host)===x.document?(e=n.scrollLeft||r.scrollLeft||0,A=n.scrollTop||r.scrollTop||0):(e+=t.scrollLeft||0,A+=t.scrollTop||0),1!==t.nodeType||"fixed"!==t.style.position););return{left:e,top:A}}e||(i=function(t){for(var e=new Array(t.length),A=t.length;A--;)e[A]=t[A];return e}),A=x.document.defaultView&&x.document.defaultView.getComputedStyle?function(t,e){var A=x.document.defaultView.getComputedStyle(t,null);return A?A[e]:void 0}:function(t,e){var A=t.style[e];return!A&&t.currentStyle&&(A=t.currentStyle[e]),A},r=x.document.documentElement.style,n="userSelect"in r?"userSelect":"MozUserSelect"in r?"MozUserSelect":"WebkitUserSelect"in r?"WebkitUserSelect":"KhtmlUserSelect"in r?"KhtmlUserSelect":"",x.util.makeElementUnselectable=function(t){return void 0!==t.onselectstart&&(t.onselectstart=x.util.falseFunction),n?t.style[n]="none":"string"==typeof t.unselectable&&(t.unselectable="on"),t},x.util.makeElementSelectable=function(t){return void 0!==t.onselectstart&&(t.onselectstart=null),n?t.style[n]="":"string"==typeof t.unselectable&&(t.unselectable=""),t},x.util.getScript=function(t,e){var A=x.document.getElementsByTagName("head")[0],r=x.document.createElement("script"),n=!0;r.onload=r.onreadystatechange=function(t){if(n){if("string"==typeof this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState)return;n=!1,e(t||x.window.event),r=r.onload=r.onreadystatechange=null}},r.src=t,A.appendChild(r)},x.util.getById=function(t){return"string"==typeof t?x.document.getElementById(t):t},x.util.toArray=i,x.util.makeElement=o,x.util.addClass=function(t,e){t&&-1===(" "+t.className+" ").indexOf(" "+e+" ")&&(t.className+=(t.className?" ":"")+e)},x.util.wrapElement=function(t,e,A){return"string"==typeof e&&(e=o(e,A)),t.parentNode&&t.parentNode.replaceChild(e,t),e.appendChild(t),e},x.util.getScrollLeftTop=s,x.util.getElementOffset=function(t){var e,r,n=t&&t.ownerDocument,i={left:0,top:0},o={left:0,top:0},a={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!n)return o;for(var c in a)o[a[c]]+=parseInt(A(t,c),10)||0;return e=n.documentElement,void 0!==t.getBoundingClientRect&&(i=t.getBoundingClientRect()),r=s(t),{left:i.left+r.left-(e.clientLeft||0)+o.left,top:i.top+r.top-(e.clientTop||0)+o.top}},x.util.getElementStyle=A,x.util.getNodeCanvas=function(t){var e=x.jsdomImplForWrapper(t);return e._canvas||e._image},x.util.cleanUpJsdomNode=function(t){if(x.isLikelyNode){var e=x.jsdomImplForWrapper(t);e&&(e._image=null,e._canvas=null,e._currentSrc=null,e._attributes=null,e._classList=null)}}}(),function(){function t(){}x.util.request=function(e,A){A||(A={});var r=A.method?A.method.toUpperCase():"GET",n=A.onComplete||function(){},i=new x.window.XMLHttpRequest,o=A.body||A.parameters;return i.onreadystatechange=function(){4===i.readyState&&(n(i),i.onreadystatechange=t)},"GET"===r&&(o=null,"string"==typeof A.parameters&&(e=function(t,e){return t+(/\?/.test(t)?"&":"?")+e}(e,A.parameters))),i.open(r,e,!0),"POST"!==r&&"PUT"!==r||i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.send(o),i}}(),x.log=function(){},x.warn=function(){},"undefined"!=typeof console&&["log","warn"].forEach((function(t){void 0!==console[t]&&"function"==typeof console[t].apply&&(x[t]=function(){})})),function(){function t(){return!1}var e=x.window.requestAnimationFrame||x.window.webkitRequestAnimationFrame||x.window.mozRequestAnimationFrame||x.window.oRequestAnimationFrame||x.window.msRequestAnimationFrame||function(t){return x.window.setTimeout(t,1e3/60)},A=x.window.cancelAnimationFrame||x.window.clearTimeout;function r(){return e.apply(x.window,arguments)}x.util.animate=function(e){r((function(A){e||(e={});var n,i=A||+new Date,o=e.duration||500,s=i+o,a=e.onChange||t,c=e.abort||t,u=e.onComplete||t,h=e.easing||function(t,e,A,r){return-A*Math.cos(t/r*(Math.PI/2))+A+e},l="startValue"in e?e.startValue:0,f="endValue"in e?e.endValue:100,d=e.byValue||f-l;e.onStart&&e.onStart(),function t(A){if(c())u(f,1,1);else{var p=(n=A||+new Date)>s?o:n-i,g=p/o,v=h(p,l,d,o),y=Math.abs((v-l)/d);a(v,y,g),n>s?e.onComplete&&e.onComplete():r(t)}}(i)}))},x.util.requestAnimFrame=r,x.util.cancelAnimFrame=function(){return A.apply(x.window,arguments)}}(),x.util.animateColor=function(t,e,A,r){var n=new x.Color(t).getSource(),i=new x.Color(e).getSource();r=r||{},x.util.animate(x.util.object.extend(r,{duration:A||500,startValue:n,endValue:i,byValue:i,easing:function(t,e,A,n){var i,o,s,a,c=r.colorEasing?r.colorEasing(t,n):1-Math.cos(t/n*(Math.PI/2));return i=e,o=A,s=c,a="rgba("+parseInt(i[0]+s*(o[0]-i[0]),10)+","+parseInt(i[1]+s*(o[1]-i[1]),10)+","+parseInt(i[2]+s*(o[2]-i[2]),10),a+=","+(i&&o?parseFloat(i[3]+s*(o[3]-i[3])):1),a+=")"}}))},function(){function t(t,e,A,r){return t<Math.abs(e)?(t=e,r=A/4):r=0===e&&0===t?A/(2*Math.PI)*Math.asin(1):A/(2*Math.PI)*Math.asin(e/t),{a:t,c:e,p:A,s:r}}function e(t,e,A){return t.a*Math.pow(2,10*(e-=1))*Math.sin((e*A-t.s)*(2*Math.PI)/t.p)}function A(t,e,A,n){return A-r(n-t,0,A,n)+e}function r(t,e,A,r){return(t/=r)<1/2.75?A*(7.5625*t*t)+e:t<2/2.75?A*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?A*(7.5625*(t-=2.25/2.75)*t+.9375)+e:A*(7.5625*(t-=2.625/2.75)*t+.984375)+e}x.util.ease={easeInQuad:function(t,e,A,r){return A*(t/=r)*t+e},easeOutQuad:function(t,e,A,r){return-A*(t/=r)*(t-2)+e},easeInOutQuad:function(t,e,A,r){return(t/=r/2)<1?A/2*t*t+e:-A/2*(--t*(t-2)-1)+e},easeInCubic:function(t,e,A,r){return A*(t/=r)*t*t+e},easeOutCubic:function(t,e,A,r){return A*((t=t/r-1)*t*t+1)+e},easeInOutCubic:function(t,e,A,r){return(t/=r/2)<1?A/2*t*t*t+e:A/2*((t-=2)*t*t+2)+e},easeInQuart:function(t,e,A,r){return A*(t/=r)*t*t*t+e},easeOutQuart:function(t,e,A,r){return-A*((t=t/r-1)*t*t*t-1)+e},easeInOutQuart:function(t,e,A,r){return(t/=r/2)<1?A/2*t*t*t*t+e:-A/2*((t-=2)*t*t*t-2)+e},easeInQuint:function(t,e,A,r){return A*(t/=r)*t*t*t*t+e},easeOutQuint:function(t,e,A,r){return A*((t=t/r-1)*t*t*t*t+1)+e},easeInOutQuint:function(t,e,A,r){return(t/=r/2)<1?A/2*t*t*t*t*t+e:A/2*((t-=2)*t*t*t*t+2)+e},easeInSine:function(t,e,A,r){return-A*Math.cos(t/r*(Math.PI/2))+A+e},easeOutSine:function(t,e,A,r){return A*Math.sin(t/r*(Math.PI/2))+e},easeInOutSine:function(t,e,A,r){return-A/2*(Math.cos(Math.PI*t/r)-1)+e},easeInExpo:function(t,e,A,r){return 0===t?e:A*Math.pow(2,10*(t/r-1))+e},easeOutExpo:function(t,e,A,r){return t===r?e+A:A*(1-Math.pow(2,-10*t/r))+e},easeInOutExpo:function(t,e,A,r){return 0===t?e:t===r?e+A:(t/=r/2)<1?A/2*Math.pow(2,10*(t-1))+e:A/2*(2-Math.pow(2,-10*--t))+e},easeInCirc:function(t,e,A,r){return-A*(Math.sqrt(1-(t/=r)*t)-1)+e},easeOutCirc:function(t,e,A,r){return A*Math.sqrt(1-(t=t/r-1)*t)+e},easeInOutCirc:function(t,e,A,r){return(t/=r/2)<1?-A/2*(Math.sqrt(1-t*t)-1)+e:A/2*(Math.sqrt(1-(t-=2)*t)+1)+e},easeInElastic:function(A,r,n,i){var o=0;return 0===A?r:1===(A/=i)?r+n:(o||(o=.3*i),-e(t(n,n,o,1.70158),A,i)+r)},easeOutElastic:function(e,A,r,n){var i=0;if(0===e)return A;if(1===(e/=n))return A+r;i||(i=.3*n);var o=t(r,r,i,1.70158);return o.a*Math.pow(2,-10*e)*Math.sin((e*n-o.s)*(2*Math.PI)/o.p)+o.c+A},easeInOutElastic:function(A,r,n,i){var o=0;if(0===A)return r;if(2===(A/=i/2))return r+n;o||(o=i*(.3*1.5));var s=t(n,n,o,1.70158);return A<1?-.5*e(s,A,i)+r:s.a*Math.pow(2,-10*(A-=1))*Math.sin((A*i-s.s)*(2*Math.PI)/s.p)*.5+s.c+r},easeInBack:function(t,e,A,r,n){return void 0===n&&(n=1.70158),A*(t/=r)*t*((n+1)*t-n)+e},easeOutBack:function(t,e,A,r,n){return void 0===n&&(n=1.70158),A*((t=t/r-1)*t*((n+1)*t+n)+1)+e},easeInOutBack:function(t,e,A,r,n){return void 0===n&&(n=1.70158),(t/=r/2)<1?A/2*(t*t*((1+(n*=1.525))*t-n))+e:A/2*((t-=2)*t*((1+(n*=1.525))*t+n)+2)+e},easeInBounce:A,easeOutBounce:r,easeInOutBounce:function(t,e,n,i){return t<i/2?.5*A(2*t,0,n,i)+e:.5*r(2*t-i,0,n,i)+.5*n+e}}}(),function(t){"use strict";var e=t.fabric||(t.fabric={}),A=e.util.object.extend,r=e.util.object.clone,n=e.util.toFixed,i=e.util.parseUnit,o=e.util.multiplyTransformMatrices,s={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform"},a={stroke:"strokeOpacity",fill:"fillOpacity"};function c(t){return t in s?s[t]:t}function u(t,A,r,n){var s,a="[object Array]"===Object.prototype.toString.call(A);if("fill"!==t&&"stroke"!==t||"none"!==A)if("vector-effect"===t)A="non-scaling-stroke"===A;else if("strokeDashArray"===t)A="none"===A?null:A.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===t)A=r&&r.transformMatrix?o(r.transformMatrix,e.parseTransformAttribute(A)):e.parseTransformAttribute(A);else if("visible"===t)A="none"!==A&&"hidden"!==A,r&&!1===r.visible&&(A=!1);else if("opacity"===t)A=parseFloat(A),r&&void 0!==r.opacity&&(A*=r.opacity);else if("textAnchor"===t)A="start"===A?"left":"end"===A?"right":"center";else if("charSpacing"===t)s=i(A,n)/n*1e3;else if("paintFirst"===t){var c=A.indexOf("fill"),u=A.indexOf("stroke");A="fill";(c>-1&&u>-1&&u<c||-1===c&&u>-1)&&(A="stroke")}else{if("href"===t||"xlink:href"===t)return A;s=a?A.map(i):i(A,n)}else A="";return!a&&isNaN(s)?A:s}function h(t){return new RegExp("^("+t.join("|")+")\\b","i")}function l(t,e){var A,r,n,i,o=[];for(n=0,i=e.length;n<i;n++)A=e[n],r=t.getElementsByTagName(A),o=o.concat(Array.prototype.slice.call(r));return o}function f(t,e){var A,r=!0;return(A=d(t,e.pop()))&&e.length&&(r=function(t,e){var A,r=!0;for(;t.parentNode&&1===t.parentNode.nodeType&&e.length;)r&&(A=e.pop()),t=t.parentNode,r=d(t,A);return 0===e.length}(t,e)),A&&r&&0===e.length}function d(t,e){var A,r,n=t.nodeName,i=t.getAttribute("class"),o=t.getAttribute("id");if(A=new RegExp("^"+n,"i"),e=e.replace(A,""),o&&e.length&&(A=new RegExp("#"+o+"(?![a-zA-Z\\-]+)","i"),e=e.replace(A,"")),i&&e.length)for(r=(i=i.split(" ")).length;r--;)A=new RegExp("\\."+i[r]+"(?![a-zA-Z\\-]+)","i"),e=e.replace(A,"");return 0===e.length}function p(t,e){var A;if(t.getElementById&&(A=t.getElementById(e)),A)return A;var r,n,i,o=t.getElementsByTagName("*");for(n=0,i=o.length;n<i;n++)if(e===(r=o[n]).getAttribute("id"))return r}e.svgValidTagNamesRegEx=h(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),e.svgViewBoxElementsRegEx=h(["symbol","image","marker","pattern","view","svg"]),e.svgInvalidAncestorsRegEx=h(["pattern","defs","symbol","metadata","clipPath","mask","desc"]),e.svgValidParentsRegEx=h(["symbol","g","a","svg","clipPath","defs"]),e.cssRules={},e.gradientDefs={},e.clipPaths={},e.parseTransformAttribute=function(){function t(t,A,r){t[r]=Math.tan(e.util.degreesToRadians(A[0]))}var A=e.iMatrix,r=e.reNum,n="(?:\\s+,?\\s*|,\\s*)",i="(?:"+("(?:(matrix)\\s*\\(\\s*("+r+")"+n+"("+r+")"+n+"("+r+")"+n+"("+r+")"+n+"("+r+")"+n+"("+r+")\\s*\\))")+"|"+("(?:(translate)\\s*\\(\\s*("+r+")(?:"+n+"("+r+"))?\\s*\\))")+"|"+("(?:(scale)\\s*\\(\\s*("+r+")(?:"+n+"("+r+"))?\\s*\\))")+"|"+("(?:(rotate)\\s*\\(\\s*("+r+")(?:"+n+"("+r+")"+n+"("+r+"))?\\s*\\))")+"|"+("(?:(skewX)\\s*\\(\\s*("+r+")\\s*\\))")+"|"+("(?:(skewY)\\s*\\(\\s*("+r+")\\s*\\))")+")",o=new RegExp("^\\s*(?:"+("(?:"+i+"(?:"+n+"*"+i+")*)")+"?)\\s*$"),s=new RegExp(i,"g");return function(r){var n=A.concat(),a=[];if(!r||r&&!o.test(r))return n;r.replace(s,(function(r){var o=new RegExp(i).exec(r).filter((function(t){return!!t})),s=o[1],c=o.slice(2).map(parseFloat);switch(s){case"translate":!function(t,e){t[4]=e[0],2===e.length&&(t[5]=e[1])}(n,c);break;case"rotate":c[0]=e.util.degreesToRadians(c[0]),function(t,A){var r=e.util.cos(A[0]),n=e.util.sin(A[0]),i=0,o=0;3===A.length&&(i=A[1],o=A[2]),t[0]=r,t[1]=n,t[2]=-n,t[3]=r,t[4]=i-(r*i-n*o),t[5]=o-(n*i+r*o)}(n,c);break;case"scale":!function(t,e){var A=e[0],r=2===e.length?e[1]:e[0];t[0]=A,t[3]=r}(n,c);break;case"skewX":t(n,c,2);break;case"skewY":t(n,c,1);break;case"matrix":n=c}a.push(n.concat()),n=A.concat()}));for(var c=a[0];a.length>1;)a.shift(),c=e.util.multiplyTransformMatrices(c,a[0]);return c}}();var g=new RegExp("^\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*,?\\s*("+e.reNum+"+)\\s*$");function v(t){var A,r,n,o,s,a,c=t.getAttribute("viewBox"),u=1,h=1,l=t.getAttribute("width"),f=t.getAttribute("height"),d=t.getAttribute("x")||0,p=t.getAttribute("y")||0,v=t.getAttribute("preserveAspectRatio")||"",y=!c||!e.svgViewBoxElementsRegEx.test(t.nodeName)||!(c=c.match(g)),B=!l||!f||"100%"===l||"100%"===f,w=y&&B,m={},C="",b=0,_=0;if(m.width=0,m.height=0,m.toBeParsed=w,w)return m;if(y)return m.width=i(l),m.height=i(f),m;if(A=-parseFloat(c[1]),r=-parseFloat(c[2]),n=parseFloat(c[3]),o=parseFloat(c[4]),B?(m.width=n,m.height=o):(m.width=i(l),m.height=i(f),u=m.width/n,h=m.height/o),"none"!==(v=e.util.parsePreserveAspectRatioAttribute(v)).alignX&&("meet"===v.meetOrSlice&&(h=u=u>h?h:u),"slice"===v.meetOrSlice&&(h=u=u>h?u:h),b=m.width-n*u,_=m.height-o*u,"Mid"===v.alignX&&(b/=2),"Mid"===v.alignY&&(_/=2),"Min"===v.alignX&&(b=0),"Min"===v.alignY&&(_=0)),1===u&&1===h&&0===A&&0===r&&0===d&&0===p)return m;if((d||p)&&(C=" translate("+i(d)+" "+i(p)+") "),s=C+" matrix("+u+" 0 0 "+h+" "+(A*u+b)+" "+(r*h+_)+") ",m.viewboxTransform=e.parseTransformAttribute(s),"svg"===t.nodeName){for(a=t.ownerDocument.createElement("g");t.firstChild;)a.appendChild(t.firstChild);t.appendChild(a)}else s=(a=t).getAttribute("transform")+s;return a.setAttribute("transform",s),m}function y(t,e){var A=p(t,e.getAttribute("xlink:href").substr(1));if(A&&A.getAttribute("xlink:href")&&y(t,A),["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"].forEach((function(t){e.hasAttribute(t)||e.setAttribute(t,A.getAttribute(t))})),!e.children.length)for(var r=A.cloneNode(!0);r.firstChild;)e.appendChild(r.firstChild);e.removeAttribute("xlink:href")}e.parseSVGDocument=function(t,A,n,i){if(t){!function(t){for(var e=l(t,["use","svg:use"]),A=0;e.length&&A<e.length;){var r,n,i,o,s=e[A],a=(s.getAttribute("xlink:href")||s.getAttribute("href")).substr(1),c=s.getAttribute("x")||0,u=s.getAttribute("y")||0,h=p(t,a).cloneNode(!0),f=(h.getAttribute("transform")||"")+" translate("+c+", "+u+")",d=e.length;if(v(h),/^svg$/i.test(h.nodeName)){var g=h.ownerDocument.createElement("g");for(n=0,o=(i=h.attributes).length;n<o;n++)r=i.item(n),g.setAttribute(r.nodeName,r.nodeValue);for(;h.firstChild;)g.appendChild(h.firstChild);h=g}for(n=0,o=(i=s.attributes).length;n<o;n++)"x"!==(r=i.item(n)).nodeName&&"y"!==r.nodeName&&"xlink:href"!==r.nodeName&&"href"!==r.nodeName&&("transform"===r.nodeName?f=r.nodeValue+" "+f:h.setAttribute(r.nodeName,r.nodeValue));h.setAttribute("transform",f),h.setAttribute("instantiated_by_use","1"),h.removeAttribute("id"),s.parentNode.replaceChild(h,s),e.length===d&&A++}}(t);var o,s,a=e.Object.__uid++,c=v(t),u=e.util.toArray(t.getElementsByTagName("*"));if(c.crossOrigin=i&&i.crossOrigin,c.svgUid=a,0===u.length&&e.isLikelyNode){var h=[];for(o=0,s=(u=t.selectNodes('//*[name(.)!="svg"]')).length;o<s;o++)h[o]=u[o];u=h}var f=u.filter((function(t){return v(t),e.svgValidTagNamesRegEx.test(t.nodeName.replace("svg:",""))&&!function(t,e){for(;t&&(t=t.parentNode);)if(t.nodeName&&e.test(t.nodeName.replace("svg:",""))&&!t.getAttribute("instantiated_by_use"))return!0;return!1}(t,e.svgInvalidAncestorsRegEx)}));if(!f||f&&!f.length)A&&A([],{});else{var d={};u.filter((function(t){return"clipPath"===t.nodeName.replace("svg:","")})).forEach((function(t){var A=t.getAttribute("id");d[A]=e.util.toArray(t.getElementsByTagName("*")).filter((function(t){return e.svgValidTagNamesRegEx.test(t.nodeName.replace("svg:",""))}))})),e.gradientDefs[a]=e.getGradientDefs(t),e.cssRules[a]=e.getCSSRules(t),e.clipPaths[a]=d,e.parseElements(f,(function(t,r){A&&(A(t,c,r,u),delete e.gradientDefs[a],delete e.cssRules[a],delete e.clipPaths[a])}),r(c),n,i)}}};var B=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+e.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+e.reNum+"))?\\s+(.*)");A(e,{parseFontDeclaration:function(t,e){var A=t.match(B);if(A){var r=A[1],n=A[3],o=A[4],s=A[5],a=A[6];r&&(e.fontStyle=r),n&&(e.fontWeight=isNaN(parseFloat(n))?n:parseFloat(n)),o&&(e.fontSize=i(o)),a&&(e.fontFamily=a),s&&(e.lineHeight="normal"===s?1:s)}},getGradientDefs:function(t){var e,A=l(t,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),r=0,n={};for(r=A.length;r--;)(e=A[r]).getAttribute("xlink:href")&&y(t,e),n[e.getAttribute("id")]=e;return n},parseAttributes:function(t,r,o){if(t){var s,h,l,d={};void 0===o&&(o=t.getAttribute("svgUid")),t.parentNode&&e.svgValidParentsRegEx.test(t.parentNode.nodeName)&&(d=e.parseAttributes(t.parentNode,r,o));var p=r.reduce((function(e,A){return(s=t.getAttribute(A))&&(e[A]=s),e}),{});p=A(p,A(function(t,A){var r={};for(var n in e.cssRules[A])if(f(t,n.split(" ")))for(var i in e.cssRules[A][n])r[i]=e.cssRules[A][n][i];return r}(t,o),e.parseStyleAttribute(t))),h=l=d.fontSize||e.Text.DEFAULT_SVG_FONT_SIZE,p["font-size"]&&(p["font-size"]=h=i(p["font-size"],l));var g,v,y={};for(var B in p)v=u(g=c(B),p[B],d,h),y[g]=v;y&&y.font&&e.parseFontDeclaration(y.font,y);var w=A(d,y);return e.svgValidParentsRegEx.test(t.nodeName)?w:function(t){for(var A in a)if(void 0!==t[a[A]]&&""!==t[A]){if(void 0===t[A]){if(!e.Object.prototype[A])continue;t[A]=e.Object.prototype[A]}if(0!==t[A].indexOf("url(")){var r=new e.Color(t[A]);t[A]=r.setAlpha(n(r.getAlpha()*t[a[A]],2)).toRgba()}}return t}(w)}},parseElements:function(t,A,r,n,i){new e.ElementsParser(t,A,r,n,i).parse()},parseStyleAttribute:function(t){var e={},A=t.getAttribute("style");return A?("string"==typeof A?function(t,e){var A,r;t.replace(/;\s*$/,"").split(";").forEach((function(t){var n=t.split(":");A=n[0].trim().toLowerCase(),r=n[1].trim(),e[A]=r}))}(A,e):function(t,e){var A,r;for(var n in t)void 0!==t[n]&&(A=n.toLowerCase(),r=t[n],e[A]=r)}(A,e),e):e},parsePointsAttribute:function(t){if(!t)return null;var e,A,r=[];for(e=0,A=(t=(t=t.replace(/,/g," ").trim()).split(/\s+/)).length;e<A;e+=2)r.push({x:parseFloat(t[e]),y:parseFloat(t[e+1])});return r},getCSSRules:function(t){var A,r,n=t.getElementsByTagName("style"),i={};for(A=0,r=n.length;A<r;A++){var o=n[A].textContent||n[A].text;""!==(o=o.replace(/\/\*[\s\S]*?\*\//g,"")).trim()&&o.match(/[^{]*\{[\s\S]*?\}/g).map((function(t){return t.trim()})).forEach((function(t){var n=t.match(/([\s\S]*?)\s*\{([^}]*)\}/),o={},s=n[2].trim().replace(/;$/,"").split(/\s*;\s*/);for(A=0,r=s.length;A<r;A++){var a=s[A].split(/\s*:\s*/),c=a[0],u=a[1];o[c]=u}(t=n[1]).split(",").forEach((function(t){""!==(t=t.replace(/^svg/i,"").trim())&&(i[t]?e.util.object.extend(i[t],o):i[t]=e.util.object.clone(o))}))}))}return i},loadSVGFromURL:function(t,A,r,n){t=t.replace(/^\n\s*/,"").trim(),new e.util.request(t,{method:"get",onComplete:function(t){var i=t.responseXML;i&&!i.documentElement&&e.window.ActiveXObject&&t.responseText&&((i=new ActiveXObject("Microsoft.XMLDOM")).async="false",i.loadXML(t.responseText.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,"")));if(!i||!i.documentElement)return A&&A(null),!1;e.parseSVGDocument(i.documentElement,(function(t,e,r,n){A&&A(t,e,r,n)}),r,n)}})},loadSVGFromString:function(t,A,r,n){var i;if(t=t.trim(),"undefined"!=typeof DOMParser){var o=new DOMParser;o&&o.parseFromString&&(i=o.parseFromString(t,"text/xml"))}else e.window.ActiveXObject&&((i=new ActiveXObject("Microsoft.XMLDOM")).async="false",i.loadXML(t.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,"")));e.parseSVGDocument(i.documentElement,(function(t,e,r,n){A(t,e,r,n)}),r,n)}})}(e),x.ElementsParser=function(t,e,A,r,n){this.elements=t,this.callback=e,this.options=A,this.reviver=r,this.svgUid=A&&A.svgUid||0,this.parsingOptions=n,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g},(p=x.ElementsParser.prototype).parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},p.createObjects=function(){var t=this;this.elements.forEach((function(e,A){e.setAttribute("svgUid",t.svgUid),t.createObject(e,A)}))},p.findTag=function(t){return x[x.util.string.capitalize(t.tagName.replace("svg:",""))]},p.createObject=function(t,e){var A=this.findTag(t);if(A&&A.fromElement)try{A.fromElement(t,this.createCallback(e,t),this.options)}catch(t){x.log(t)}else this.checkIfDone()},p.createCallback=function(t,e){var A=this;return function(r){var n;A.resolveGradient(r,"fill"),A.resolveGradient(r,"stroke"),r instanceof x.Image&&r._originalElement&&(n=r.parsePreserveAspectRatioAttribute(e)),r._removeTransformMatrix(n),A.resolveClipPath(r),A.reviver&&A.reviver(e,r),A.instances[t]=r,A.checkIfDone()}},p.extractPropertyDefinition=function(t,e,A){var r=t[e];if(/^url\(/.test(r)){var n=this.regexUrl.exec(r)[1];return this.regexUrl.lastIndex=0,x[A][this.svgUid][n]}},p.resolveGradient=function(t,e){var A=this.extractPropertyDefinition(t,e,"gradientDefs");A&&t.set(e,x.Gradient.fromElement(A,t))},p.createClipPathCallback=function(t,e){return function(t){t._removeTransformMatrix(),t.fillRule=t.clipRule,e.push(t)}},p.resolveClipPath=function(t){var e,A,r,n,i=this.extractPropertyDefinition(t,"clipPath","clipPaths");if(i){r=[],A=x.util.invertTransform(t.calcTransformMatrix());for(var o=0;o<i.length;o++)e=i[o],this.findTag(e).fromElement(e,this.createClipPathCallback(t,r),this.options);i=1===r.length?r[0]:new x.Group(r),n=x.util.multiplyTransformMatrices(A,i.calcTransformMatrix());var s=x.util.qrDecompose(n);i.flipX=!1,i.flipY=!1,i.set("scaleX",s.scaleX),i.set("scaleY",s.scaleY),i.angle=s.angle,i.skewX=s.skewX,i.skewY=0,i.setPositionByOrigin({x:s.translateX,y:s.translateY},"center","center"),t.clipPath=i}},p.checkIfDone=function(){0==--this.numElements&&(this.instances=this.instances.filter((function(t){return null!=t})),this.callback(this.instances,this.elements))},function(t){"use strict";var e=t.fabric||(t.fabric={});function A(t,e){this.x=t,this.y=e}e.Point?e.warn("fabric.Point is already defined"):(e.Point=A,A.prototype={type:"point",constructor:A,add:function(t){return new A(this.x+t.x,this.y+t.y)},addEquals:function(t){return this.x+=t.x,this.y+=t.y,this},scalarAdd:function(t){return new A(this.x+t,this.y+t)},scalarAddEquals:function(t){return this.x+=t,this.y+=t,this},subtract:function(t){return new A(this.x-t.x,this.y-t.y)},subtractEquals:function(t){return this.x-=t.x,this.y-=t.y,this},scalarSubtract:function(t){return new A(this.x-t,this.y-t)},scalarSubtractEquals:function(t){return this.x-=t,this.y-=t,this},multiply:function(t){return new A(this.x*t,this.y*t)},multiplyEquals:function(t){return this.x*=t,this.y*=t,this},divide:function(t){return new A(this.x/t,this.y/t)},divideEquals:function(t){return this.x/=t,this.y/=t,this},eq:function(t){return this.x===t.x&&this.y===t.y},lt:function(t){return this.x<t.x&&this.y<t.y},lte:function(t){return this.x<=t.x&&this.y<=t.y},gt:function(t){return this.x>t.x&&this.y>t.y},gte:function(t){return this.x>=t.x&&this.y>=t.y},lerp:function(t,e){return void 0===e&&(e=.5),e=Math.max(Math.min(1,e),0),new A(this.x+(t.x-this.x)*e,this.y+(t.y-this.y)*e)},distanceFrom:function(t){var e=this.x-t.x,A=this.y-t.y;return Math.sqrt(e*e+A*A)},midPointFrom:function(t){return this.lerp(t)},min:function(t){return new A(Math.min(this.x,t.x),Math.min(this.y,t.y))},max:function(t){return new A(Math.max(this.x,t.x),Math.max(this.y,t.y))},toString:function(){return this.x+","+this.y},setXY:function(t,e){return this.x=t,this.y=e,this},setX:function(t){return this.x=t,this},setY:function(t){return this.y=t,this},setFromPoint:function(t){return this.x=t.x,this.y=t.y,this},swap:function(t){var e=this.x,A=this.y;this.x=t.x,this.y=t.y,t.x=e,t.y=A},clone:function(){return new A(this.x,this.y)}})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});function A(t){this.status=t,this.points=[]}e.Intersection?e.warn("fabric.Intersection is already defined"):(e.Intersection=A,e.Intersection.prototype={constructor:A,appendPoint:function(t){return this.points.push(t),this},appendPoints:function(t){return this.points=this.points.concat(t),this}},e.Intersection.intersectLineLine=function(t,r,n,i){var o,s=(i.x-n.x)*(t.y-n.y)-(i.y-n.y)*(t.x-n.x),a=(r.x-t.x)*(t.y-n.y)-(r.y-t.y)*(t.x-n.x),c=(i.y-n.y)*(r.x-t.x)-(i.x-n.x)*(r.y-t.y);if(0!==c){var u=s/c,h=a/c;0<=u&&u<=1&&0<=h&&h<=1?(o=new A("Intersection")).appendPoint(new e.Point(t.x+u*(r.x-t.x),t.y+u*(r.y-t.y))):o=new A}else o=new A(0===s||0===a?"Coincident":"Parallel");return o},e.Intersection.intersectLinePolygon=function(t,e,r){var n,i,o,s,a=new A,c=r.length;for(s=0;s<c;s++)n=r[s],i=r[(s+1)%c],o=A.intersectLineLine(t,e,n,i),a.appendPoints(o.points);return a.points.length>0&&(a.status="Intersection"),a},e.Intersection.intersectPolygonPolygon=function(t,e){var r,n=new A,i=t.length;for(r=0;r<i;r++){var o=t[r],s=t[(r+1)%i],a=A.intersectLinePolygon(o,s,e);n.appendPoints(a.points)}return n.points.length>0&&(n.status="Intersection"),n},e.Intersection.intersectPolygonRectangle=function(t,r,n){var i=r.min(n),o=r.max(n),s=new e.Point(o.x,i.y),a=new e.Point(i.x,o.y),c=A.intersectLinePolygon(i,s,t),u=A.intersectLinePolygon(s,o,t),h=A.intersectLinePolygon(o,a,t),l=A.intersectLinePolygon(a,i,t),f=new A;return f.appendPoints(c.points),f.appendPoints(u.points),f.appendPoints(h.points),f.appendPoints(l.points),f.points.length>0&&(f.status="Intersection"),f})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});function A(t){t?this._tryParsingColor(t):this.setSource([0,0,0,1])}function r(t,e,A){return A<0&&(A+=1),A>1&&(A-=1),A<1/6?t+6*(e-t)*A:A<.5?e:A<2/3?t+(e-t)*(2/3-A)*6:t}e.Color?e.warn("fabric.Color is already defined."):(e.Color=A,e.Color.prototype={_tryParsingColor:function(t){var e;t in A.colorNameMap&&(t=A.colorNameMap[t]),"transparent"===t&&(e=[255,255,255,0]),e||(e=A.sourceFromHex(t)),e||(e=A.sourceFromRgb(t)),e||(e=A.sourceFromHsl(t)),e||(e=[0,0,0,1]),e&&this.setSource(e)},_rgbToHsl:function(t,A,r){t/=255,A/=255,r/=255;var n,i,o,s=e.util.array.max([t,A,r]),a=e.util.array.min([t,A,r]);if(o=(s+a)/2,s===a)n=i=0;else{var c=s-a;switch(i=o>.5?c/(2-s-a):c/(s+a),s){case t:n=(A-r)/c+(A<r?6:0);break;case A:n=(r-t)/c+2;break;case r:n=(t-A)/c+4}n/=6}return[Math.round(360*n),Math.round(100*i),Math.round(100*o)]},getSource:function(){return this._source},setSource:function(t){this._source=t},toRgb:function(){var t=this.getSource();return"rgb("+t[0]+","+t[1]+","+t[2]+")"},toRgba:function(){var t=this.getSource();return"rgba("+t[0]+","+t[1]+","+t[2]+","+t[3]+")"},toHsl:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsl("+e[0]+","+e[1]+"%,"+e[2]+"%)"},toHsla:function(){var t=this.getSource(),e=this._rgbToHsl(t[0],t[1],t[2]);return"hsla("+e[0]+","+e[1]+"%,"+e[2]+"%,"+t[3]+")"},toHex:function(){var t,e,A,r=this.getSource();return t=1===(t=r[0].toString(16)).length?"0"+t:t,e=1===(e=r[1].toString(16)).length?"0"+e:e,A=1===(A=r[2].toString(16)).length?"0"+A:A,t.toUpperCase()+e.toUpperCase()+A.toUpperCase()},toHexa:function(){var t,e=this.getSource();return t=1===(t=(t=Math.round(255*e[3])).toString(16)).length?"0"+t:t,this.toHex()+t.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(t){var e=this.getSource();return e[3]=t,this.setSource(e),this},toGrayscale:function(){var t=this.getSource(),e=parseInt((.3*t[0]+.59*t[1]+.11*t[2]).toFixed(0),10),A=t[3];return this.setSource([e,e,e,A]),this},toBlackWhite:function(t){var e=this.getSource(),A=(.3*e[0]+.59*e[1]+.11*e[2]).toFixed(0),r=e[3];return t=t||127,A=Number(A)<Number(t)?0:255,this.setSource([A,A,A,r]),this},overlayWith:function(t){t instanceof A||(t=new A(t));var e,r=[],n=this.getAlpha(),i=this.getSource(),o=t.getSource();for(e=0;e<3;e++)r.push(Math.round(.5*i[e]+.5*o[e]));return r[3]=n,this.setSource(r),this}},e.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,e.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,e.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,e.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},e.Color.fromRgb=function(t){return A.fromSource(A.sourceFromRgb(t))},e.Color.sourceFromRgb=function(t){var e=t.match(A.reRGBa);if(e){var r=parseInt(e[1],10)/(/%$/.test(e[1])?100:1)*(/%$/.test(e[1])?255:1),n=parseInt(e[2],10)/(/%$/.test(e[2])?100:1)*(/%$/.test(e[2])?255:1),i=parseInt(e[3],10)/(/%$/.test(e[3])?100:1)*(/%$/.test(e[3])?255:1);return[parseInt(r,10),parseInt(n,10),parseInt(i,10),e[4]?parseFloat(e[4]):1]}},e.Color.fromRgba=A.fromRgb,e.Color.fromHsl=function(t){return A.fromSource(A.sourceFromHsl(t))},e.Color.sourceFromHsl=function(t){var e=t.match(A.reHSLa);if(e){var n,i,o,s=(parseFloat(e[1])%360+360)%360/360,a=parseFloat(e[2])/(/%$/.test(e[2])?100:1),c=parseFloat(e[3])/(/%$/.test(e[3])?100:1);if(0===a)n=i=o=c;else{var u=c<=.5?c*(a+1):c+a-c*a,h=2*c-u;n=r(h,u,s+1/3),i=r(h,u,s),o=r(h,u,s-1/3)}return[Math.round(255*n),Math.round(255*i),Math.round(255*o),e[4]?parseFloat(e[4]):1]}},e.Color.fromHsla=A.fromHsl,e.Color.fromHex=function(t){return A.fromSource(A.sourceFromHex(t))},e.Color.sourceFromHex=function(t){if(t.match(A.reHex)){var e=t.slice(t.indexOf("#")+1),r=3===e.length||4===e.length,n=8===e.length||4===e.length,i=r?e.charAt(0)+e.charAt(0):e.substring(0,2),o=r?e.charAt(1)+e.charAt(1):e.substring(2,4),s=r?e.charAt(2)+e.charAt(2):e.substring(4,6),a=n?r?e.charAt(3)+e.charAt(3):e.substring(6,8):"FF";return[parseInt(i,16),parseInt(o,16),parseInt(s,16),parseFloat((parseInt(a,16)/255).toFixed(2))]}},e.Color.fromSource=function(t){var e=new A;return e.setSource(t),e})}(e),function(){function t(t){var e,A,r,n,i=t.getAttribute("style"),o=t.getAttribute("offset")||0;if(o=(o=parseFloat(o)/(/%$/.test(o)?100:1))<0?0:o>1?1:o,i){var s=i.split(/\s*;\s*/);for(""===s[s.length-1]&&s.pop(),n=s.length;n--;){var a=s[n].split(/\s*:\s*/),c=a[0].trim(),u=a[1].trim();"stop-color"===c?e=u:"stop-opacity"===c&&(r=u)}}return e||(e=t.getAttribute("stop-color")||"rgb(0,0,0)"),r||(r=t.getAttribute("stop-opacity")),A=(e=new x.Color(e)).getAlpha(),r=isNaN(parseFloat(r))?1:parseFloat(r),r*=A,{offset:o,color:e.toRgb(),opacity:r}}var e=x.util.object.clone;function A(t,e,A){var r,n=0,i=1,o="";for(var s in e)"Infinity"===e[s]?e[s]=1:"-Infinity"===e[s]&&(e[s]=0),r=parseFloat(e[s],10),i="string"==typeof e[s]&&/^(\d+\.\d+)%|(\d+)%$/.test(e[s])?.01:1,"x1"===s||"x2"===s||"r2"===s?(i*="objectBoundingBox"===A?t.width:1,n="objectBoundingBox"===A&&t.left||0):"y1"!==s&&"y2"!==s||(i*="objectBoundingBox"===A?t.height:1,n="objectBoundingBox"===A&&t.top||0),e[s]=r*i+n;if("ellipse"===t.type&&null!==e.r2&&"objectBoundingBox"===A&&t.rx!==t.ry){var a=t.ry/t.rx;o=" scale(1, "+a+")",e.y1&&(e.y1/=a),e.y2&&(e.y2/=a)}return o}x.Gradient=x.util.createClass({offsetX:0,offsetY:0,initialize:function(t){t||(t={});var e={};this.id=x.Object.__uid++,this.type=t.type||"linear",e={x1:t.coords.x1||0,y1:t.coords.y1||0,x2:t.coords.x2||0,y2:t.coords.y2||0},"radial"===this.type&&(e.r1=t.coords.r1||0,e.r2=t.coords.r2||0),this.coords=e,this.colorStops=t.colorStops.slice(),t.gradientTransform&&(this.gradientTransform=t.gradientTransform),this.offsetX=t.offsetX||this.offsetX,this.offsetY=t.offsetY||this.offsetY},addColorStop:function(t){for(var e in t){var A=new x.Color(t[e]);this.colorStops.push({offset:parseFloat(e),color:A.toRgb(),opacity:A.getAlpha()})}return this},toObject:function(t){var e={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return x.util.populateWithProperties(this,e,t),e},toSVG:function(t){var A,r,n,i,o=e(this.coords,!0),s=e(this.colorStops,!0),a=o.r1>o.r2,c=this.gradientTransform?this.gradientTransform.concat():x.iMatrix.concat(),u=t.width/2-this.offsetX,h=t.height/2-this.offsetY;if(s.sort((function(t,e){return t.offset-e.offset})),"path"===t.type&&(u-=t.pathOffset.x,h-=t.pathOffset.y),c[4]-=u,c[5]-=h,i='id="SVGID_'+this.id+'" gradientUnits="userSpaceOnUse"',i+=' gradientTransform="matrix('+c.join(" ")+')" ',"linear"===this.type?n=["<linearGradient ",i,' x1="',o.x1,'" y1="',o.y1,'" x2="',o.x2,'" y2="',o.y2,'">\n']:"radial"===this.type&&(n=["<radialGradient ",i,' cx="',a?o.x1:o.x2,'" cy="',a?o.y1:o.y2,'" r="',a?o.r1:o.r2,'" fx="',a?o.x2:o.x1,'" fy="',a?o.y2:o.y1,'">\n']),"radial"===this.type){if(a)for((s=s.concat()).reverse(),A=0,r=s.length;A<r;A++)s[A].offset=1-s[A].offset;var l=Math.min(o.r1,o.r2);if(l>0){var f=l/Math.max(o.r1,o.r2);for(A=0,r=s.length;A<r;A++)s[A].offset+=f*(1-s[A].offset)}}for(A=0,r=s.length;A<r;A++){var d=s[A];n.push("<stop ",'offset="',100*d.offset+"%",'" style="stop-color:',d.color,void 0!==d.opacity?";stop-opacity: "+d.opacity:";",'"/>\n')}return n.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),n.join("")},toLive:function(t){var e,A,r,n=x.util.object.clone(this.coords);if(this.type){for("linear"===this.type?e=t.createLinearGradient(n.x1,n.y1,n.x2,n.y2):"radial"===this.type&&(e=t.createRadialGradient(n.x1,n.y1,n.r1,n.x2,n.y2,n.r2)),A=0,r=this.colorStops.length;A<r;A++){var i=this.colorStops[A].color,o=this.colorStops[A].opacity,s=this.colorStops[A].offset;void 0!==o&&(i=new x.Color(i).setAlpha(o).toRgba()),e.addColorStop(s,i)}return e}}}),x.util.object.extend(x.Gradient,{fromElement:function(e,r){var n,i,o,s,a=e.getElementsByTagName("stop"),c=e.getAttribute("gradientUnits")||"objectBoundingBox",u=e.getAttribute("gradientTransform"),h=[];for("linear"===(n="linearGradient"===e.nodeName||"LINEARGRADIENT"===e.nodeName?"linear":"radial")?i=function(t){return{x1:t.getAttribute("x1")||0,y1:t.getAttribute("y1")||0,x2:t.getAttribute("x2")||"100%",y2:t.getAttribute("y2")||0}}(e):"radial"===n&&(i=function(t){return{x1:t.getAttribute("fx")||t.getAttribute("cx")||"50%",y1:t.getAttribute("fy")||t.getAttribute("cy")||"50%",r1:0,x2:t.getAttribute("cx")||"50%",y2:t.getAttribute("cy")||"50%",r2:t.getAttribute("r")||"50%"}}(e)),s=a.length;s--;)h.push(t(a[s]));o=A(r,i,c);var l=new x.Gradient({type:n,coords:i,colorStops:h,offsetX:-r.left,offsetY:-r.top});return(u||""!==o)&&(l.gradientTransform=x.parseTransformAttribute((u||"")+o)),l},forObject:function(t,e){return e||(e={}),A(t,e.coords,"userSpaceOnUse"),new x.Gradient(e)}})}(),function(){"use strict";var t=x.util.toFixed;x.Pattern=x.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(t,e){if(t||(t={}),this.id=x.Object.__uid++,this.setOptions(t),!t.source||t.source&&"string"!=typeof t.source)e&&e(this);else if(void 0!==x.util.getFunctionBody(t.source))this.source=new Function(x.util.getFunctionBody(t.source)),e&&e(this);else{var A=this;this.source=x.util.createImage(),x.util.loadImage(t.source,(function(t){A.source=t,e&&e(A)}),null,this.crossOrigin)}},toObject:function(e){var A,r,n=x.Object.NUM_FRACTION_DIGITS;return"function"==typeof this.source?A=String(this.source):"string"==typeof this.source.src?A=this.source.src:"object"==typeof this.source&&this.source.toDataURL&&(A=this.source.toDataURL()),r={type:"pattern",source:A,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:t(this.offsetX,n),offsetY:t(this.offsetY,n),patternTransform:this.patternTransform?this.patternTransform.concat():null},x.util.populateWithProperties(this,r,e),r},toSVG:function(t){var e="function"==typeof this.source?this.source():this.source,A=e.width/t.width,r=e.height/t.height,n=this.offsetX/t.width,i=this.offsetY/t.height,o="";return"repeat-x"!==this.repeat&&"no-repeat"!==this.repeat||(r=1,i&&(r+=Math.abs(i))),"repeat-y"!==this.repeat&&"no-repeat"!==this.repeat||(A=1,n&&(A+=Math.abs(n))),e.src?o=e.src:e.toDataURL&&(o=e.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+n+'" y="'+i+'" width="'+A+'" height="'+r+'">\n<image x="0" y="0" width="'+e.width+'" height="'+e.height+'" xlink:href="'+o+'"></image>\n</pattern>\n'},setOptions:function(t){for(var e in t)this[e]=t[e]},toLive:function(t){var e="function"==typeof this.source?this.source():this.source;if(!e)return"";if(void 0!==e.src){if(!e.complete)return"";if(0===e.naturalWidth||0===e.naturalHeight)return""}return t.createPattern(e,this.repeat)}})}(),function(t){"use strict";var e=t.fabric||(t.fabric={}),A=e.util.toFixed;e.Shadow?e.warn("fabric.Shadow is already defined."):(e.Shadow=e.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,initialize:function(t){for(var A in"string"==typeof t&&(t=this._parseShadow(t)),t)this[A]=t[A];this.id=e.Object.__uid++},_parseShadow:function(t){var A=t.trim(),r=e.Shadow.reOffsetsAndBlur.exec(A)||[];return{color:(A.replace(e.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseInt(r[1],10)||0,offsetY:parseInt(r[2],10)||0,blur:parseInt(r[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(t){var r=40,n=40,i=e.Object.NUM_FRACTION_DIGITS,o=e.util.rotateVector({x:this.offsetX,y:this.offsetY},e.util.degreesToRadians(-t.angle)),s=new e.Color(this.color);return t.width&&t.height&&(r=100*A((Math.abs(o.x)+this.blur)/t.width,i)+20,n=100*A((Math.abs(o.y)+this.blur)/t.height,i)+20),t.flipX&&(o.x*=-1),t.flipY&&(o.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+n+'%" height="'+(100+2*n)+'%" x="-'+r+'%" width="'+(100+2*r)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+A(this.blur?this.blur/2:0,i)+'"></feGaussianBlur>\n\t<feOffset dx="'+A(o.x,i)+'" dy="'+A(o.y,i)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+s.toRgb()+'" flood-opacity="'+s.getAlpha()+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke};var t={},A=e.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke"].forEach((function(e){this[e]!==A[e]&&(t[e]=this[e])}),this),t}}),e.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:px)?(?:\s?|$))?(-?\d+(?:px)?(?:\s?|$))?(\d+(?:px)?)?(?:\s?|$)(?:$|\s)/)}(e),function(){"use strict";if(x.StaticCanvas)x.warn("fabric.StaticCanvas is already defined.");else{var t=x.util.object.extend,e=x.util.getElementOffset,A=x.util.removeFromArray,r=x.util.toFixed,n=x.util.transformPoint,i=x.util.invertTransform,o=x.util.getNodeCanvas,s=x.util.createCanvasElement,a=new Error("Could not initialize `canvas` element");x.StaticCanvas=x.util.createClass(x.CommonMethods,{initialize:function(t,e){e||(e={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(t,e)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,clipTo:null,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:x.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,onBeforeScaleRotate:function(){},enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(t,e){var A=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(t),this._initOptions(e),this._setImageSmoothing(),this.interactive||this._initRetinaScaling(),e.overlayImage&&this.setOverlayImage(e.overlayImage,A),e.backgroundImage&&this.setBackgroundImage(e.backgroundImage,A),e.backgroundColor&&this.setBackgroundColor(e.backgroundColor,A),e.overlayColor&&this.setOverlayColor(e.overlayColor,A),this.calcOffset()},_isRetinaScaling:function(){return 1!==x.devicePixelRatio&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?x.devicePixelRatio:1},_initRetinaScaling:function(){this._isRetinaScaling()&&(this.lowerCanvasEl.setAttribute("width",this.width*x.devicePixelRatio),this.lowerCanvasEl.setAttribute("height",this.height*x.devicePixelRatio),this.contextContainer.scale(x.devicePixelRatio,x.devicePixelRatio))},calcOffset:function(){return this._offset=e(this.lowerCanvasEl),this},setOverlayImage:function(t,e,A){return this.__setBgOverlayImage("overlayImage",t,e,A)},setBackgroundImage:function(t,e,A){return this.__setBgOverlayImage("backgroundImage",t,e,A)},setOverlayColor:function(t,e){return this.__setBgOverlayColor("overlayColor",t,e)},setBackgroundColor:function(t,e){return this.__setBgOverlayColor("backgroundColor",t,e)},_setImageSmoothing:function(){var t=this.getContext();t.imageSmoothingEnabled=t.imageSmoothingEnabled||t.webkitImageSmoothingEnabled||t.mozImageSmoothingEnabled||t.msImageSmoothingEnabled||t.oImageSmoothingEnabled,t.imageSmoothingEnabled=this.imageSmoothingEnabled},__setBgOverlayImage:function(t,e,A,r){return"string"==typeof e?x.util.loadImage(e,(function(e){if(e){var n=new x.Image(e,r);this[t]=n,n.canvas=this}A&&A(e)}),this,r&&r.crossOrigin):(r&&e.setOptions(r),this[t]=e,e&&(e.canvas=this),A&&A(e)),this},__setBgOverlayColor:function(t,e,A){return this[t]=e,this._initGradient(e,t),this._initPattern(e,t,A),this},_createCanvasElement:function(){var t=s();if(!t)throw a;if(t.style||(t.style={}),void 0===t.getContext)throw a;return t},_initOptions:function(t){var e=this.lowerCanvasEl;this._setOptions(t),this.width=this.width||parseInt(e.width,10)||0,this.height=this.height||parseInt(e.height,10)||0,this.lowerCanvasEl.style&&(e.width=this.width,e.height=this.height,e.style.width=this.width+"px",e.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(t){t&&t.getContext?this.lowerCanvasEl=t:this.lowerCanvasEl=x.util.getById(t)||this._createCanvasElement(),x.util.addClass(this.lowerCanvasEl,"lower-canvas"),this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(t,e){return this.setDimensions({width:t},e)},setHeight:function(t,e){return this.setDimensions({height:t},e)},setDimensions:function(t,e){var A;for(var r in e=e||{},t)A=t[r],e.cssOnly||(this._setBackstoreDimension(r,t[r]),A+="px",this.hasLostContext=!0),e.backstoreOnly||this._setCssDimension(r,A);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(),this._initRetinaScaling(),this._setImageSmoothing(),this.calcOffset(),e.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(t,e){return this.lowerCanvasEl[t]=e,this.upperCanvasEl&&(this.upperCanvasEl[t]=e),this.cacheCanvasEl&&(this.cacheCanvasEl[t]=e),this[t]=e,this},_setCssDimension:function(t,e){return this.lowerCanvasEl.style[t]=e,this.upperCanvasEl&&(this.upperCanvasEl.style[t]=e),this.wrapperEl&&(this.wrapperEl.style[t]=e),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(t){var e,A,r,n=this._activeObject;for(this.viewportTransform=t,A=0,r=this._objects.length;A<r;A++)(e=this._objects[A]).group||e.setCoords(!1,!0);return n&&"activeSelection"===n.type&&n.setCoords(!1,!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(t,e){var A=t,r=this.viewportTransform.slice(0);t=n(t,i(this.viewportTransform)),r[0]=e,r[3]=e;var o=n(t,r);return r[4]+=A.x-o.x,r[5]+=A.y-o.y,this.setViewportTransform(r)},setZoom:function(t){return this.zoomToPoint(new x.Point(0,0),t),this},absolutePan:function(t){var e=this.viewportTransform.slice(0);return e[4]=-t.x,e[5]=-t.y,this.setViewportTransform(e)},relativePan:function(t){return this.absolutePan(new x.Point(-t.x-this.viewportTransform[4],-t.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(t){this.stateful&&t.setupState(),t._set("canvas",this),t.setCoords(),this.fire("object:added",{target:t}),t.fire("added")},_onObjectRemoved:function(t){this.fire("object:removed",{target:t}),t.fire("removed"),delete t.canvas},clearContext:function(t){return t.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this._objects.length=0,this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var t=this.contextContainer;return this.renderCanvas(t,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=x.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var t={},e=this.width,A=this.height,r=i(this.viewportTransform);return t.tl=n({x:0,y:0},r),t.br=n({x:e,y:A},r),t.tr=new x.Point(t.br.x,t.tl.y),t.bl=new x.Point(t.tl.x,t.br.y),this.vptCoords=t,t},cancelRequestedRender:function(){this.isRendering&&(x.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(t,e){var A=this.viewportTransform,r=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(t),this.fire("before:render",{ctx:t}),this.clipTo&&x.util.clipContext(this,t),this._renderBackground(t),t.save(),t.transform(A[0],A[1],A[2],A[3],A[4],A[5]),this._renderObjects(t,e),t.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),this.clipTo&&t.restore(),r&&(r.canvas=this,r.shouldCache(),r._transformDone=!0,r.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(t)),this._renderOverlay(t),this.controlsAboveOverlay&&this.interactive&&this.drawControls(t),this.fire("after:render",{ctx:t})},drawClipPathOnCanvas:function(t){var e=this.viewportTransform,A=this.clipPath;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5]),t.globalCompositeOperation="destination-in",A.transform(t),t.scale(1/A.zoomX,1/A.zoomY),t.drawImage(A._cacheCanvas,-A.cacheTranslationX,-A.cacheTranslationY),t.restore()},_renderObjects:function(t,e){var A,r;for(A=0,r=e.length;A<r;++A)e[A]&&e[A].render(t)},_renderBackgroundOrOverlay:function(t,e){var A,r=this[e+"Color"];r&&(t.fillStyle=r.toLive?r.toLive(t,this):r,t.fillRect(r.offsetX||0,r.offsetY||0,this.width,this.height)),(r=this[e+"Image"])&&(this[e+"Vpt"]&&(A=this.viewportTransform,t.save(),t.transform(A[0],A[1],A[2],A[3],A[4],A[5])),r.render(t),this[e+"Vpt"]&&t.restore())},_renderBackground:function(t){this._renderBackgroundOrOverlay(t,"background")},_renderOverlay:function(t){this._renderBackgroundOrOverlay(t,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},centerObjectH:function(t){return this._centerObject(t,new x.Point(this.getCenter().left,t.getCenterPoint().y))},centerObjectV:function(t){return this._centerObject(t,new x.Point(t.getCenterPoint().x,this.getCenter().top))},centerObject:function(t){var e=this.getCenter();return this._centerObject(t,new x.Point(e.left,e.top))},viewportCenterObject:function(t){var e=this.getVpCenter();return this._centerObject(t,e)},viewportCenterObjectH:function(t){var e=this.getVpCenter();return this._centerObject(t,new x.Point(e.x,t.getCenterPoint().y)),this},viewportCenterObjectV:function(t){var e=this.getVpCenter();return this._centerObject(t,new x.Point(t.getCenterPoint().x,e.y))},getVpCenter:function(){var t=this.getCenter(),e=i(this.viewportTransform);return n({x:t.left,y:t.top},e)},_centerObject:function(t,e){return t.setPositionByOrigin(e,"center","center"),t.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(t){return this.toDatalessObject(t)},toObject:function(t){return this._toObjectMethod("toObject",t)},toDatalessObject:function(t){return this._toObjectMethod("toDatalessObject",t)},_toObjectMethod:function(e,A){var r=this.clipPath,n={version:x.version,objects:this._toObjects(e,A)};return r&&(n.clipPath=this._toObjectMethod(r,e,A)),t(n,this.__serializeBgOverlay(e,A)),x.util.populateWithProperties(this,n,A),n},_toObjects:function(t,e){return this._objects.filter((function(t){return!t.excludeFromExport})).map((function(A){return this._toObject(A,t,e)}),this)},_toObject:function(t,e,A){var r;this.includeDefaultValues||(r=t.includeDefaultValues,t.includeDefaultValues=!1);var n=t[e](A);return this.includeDefaultValues||(t.includeDefaultValues=r),n},__serializeBgOverlay:function(t,e){var A={},r=this.backgroundImage,n=this.overlayImage;return this.backgroundColor&&(A.background=this.backgroundColor.toObject?this.backgroundColor.toObject(e):this.backgroundColor),this.overlayColor&&(A.overlay=this.overlayColor.toObject?this.overlayColor.toObject(e):this.overlayColor),r&&!r.excludeFromExport&&(A.backgroundImage=this._toObject(r,t,e)),n&&!n.excludeFromExport&&(A.overlayImage=this._toObject(n,t,e)),A},svgViewportTransformation:!0,toSVG:function(t,e){t||(t={}),t.reviver=e;var A=[];return this._setSVGPreamble(A,t),this._setSVGHeader(A,t),this.clipPath&&A.push('<g clip-path="url(#'+this.clipPath.clipPathId+')" >\n'),this._setSVGBgOverlayColor(A,"backgroundColor"),this._setSVGBgOverlayImage(A,"backgroundImage",e),this._setSVGObjects(A,e),this.clipPath&&A.push("</g>\n"),this._setSVGBgOverlayColor(A,"overlayColor"),this._setSVGBgOverlayImage(A,"overlayImage",e),A.push("</svg>"),A.join("")},_setSVGPreamble:function(t,e){e.suppressPreamble||t.push('<?xml version="1.0" encoding="',e.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(t,e){var A,n=e.width||this.width,i=e.height||this.height,o='viewBox="0 0 '+this.width+" "+this.height+'" ',s=x.Object.NUM_FRACTION_DIGITS;e.viewBox?o='viewBox="'+e.viewBox.x+" "+e.viewBox.y+" "+e.viewBox.width+" "+e.viewBox.height+'" ':this.svgViewportTransformation&&(A=this.viewportTransform,o='viewBox="'+r(-A[4]/A[0],s)+" "+r(-A[5]/A[3],s)+" "+r(this.width/A[0],s)+" "+r(this.height/A[3],s)+'" '),t.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',n,'" ','height="',i,'" ',o,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",x.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(e),"</defs>\n")},createSVGClipPathMarkup:function(t){var e=this.clipPath;return e?(e.clipPathId="CLIPPATH_"+x.Object.__uid++,'<clipPath id="'+e.clipPathId+'" >\n'+this.clipPath.toClipPathSVG(t.reviver)+"</clipPath>\n"):""},createSVGRefElementsMarkup:function(){var t=this;return["backgroundColor","overlayColor"].map((function(e){var A=t[e];if(A&&A.toLive)return A.toSVG(t,!1)})).join("")},createSVGFontFacesMarkup:function(){var t,e,A,r,n,i,o,s,a="",c={},u=x.fontPaths,h=this._objects;for(o=0,s=h.length;o<s;o++)if(e=(t=h[o]).fontFamily,-1!==t.type.indexOf("text")&&!c[e]&&u[e]&&(c[e]=!0,t.styles))for(n in A=t.styles)for(i in r=A[n])!c[e=r[i].fontFamily]&&u[e]&&(c[e]=!0);for(var l in c)a+=["\t\t@font-face {\n","\t\t\tfont-family: '",l,"';\n","\t\t\tsrc: url('",u[l],"');\n","\t\t}\n"].join("");return a&&(a=['\t<style type="text/css">',"<![CDATA[\n",a,"]]>","</style>\n"].join("")),a},_setSVGObjects:function(t,e){var A,r,n,i=this._objects;for(r=0,n=i.length;r<n;r++)(A=i[r]).excludeFromExport||this._setSVGObject(t,A,e)},_setSVGObject:function(t,e,A){t.push(e.toSVG(A))},_setSVGBgOverlayImage:function(t,e,A){this[e]&&!this[e].excludeFromExport&&this[e].toSVG&&t.push(this[e].toSVG(A))},_setSVGBgOverlayColor:function(t,e){var A=this[e],r=this.viewportTransform,n=this.width/r[0],i=this.height/r[3];if(A)if(A.toLive){var o=A.repeat;t.push('<rect transform="translate(',n/2,",",i/2,')"',' x="',A.offsetX-n/2,'" y="',A.offsetY-i/2,'" ','width="',"repeat-y"===o||"no-repeat"===o?A.source.width:n,'" height="',"repeat-x"===o||"no-repeat"===o?A.source.height:i,'" fill="url(#SVGID_'+A.id+')"',"></rect>\n")}else t.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',this[e],'"',"></rect>\n")},sendToBack:function(t){if(!t)return this;var e,r,n,i=this._activeObject;if(t===i&&"activeSelection"===t.type)for(e=(n=i._objects).length;e--;)r=n[e],A(this._objects,r),this._objects.unshift(r);else A(this._objects,t),this._objects.unshift(t);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(t){if(!t)return this;var e,r,n,i=this._activeObject;if(t===i&&"activeSelection"===t.type)for(n=i._objects,e=0;e<n.length;e++)r=n[e],A(this._objects,r),this._objects.push(r);else A(this._objects,t),this._objects.push(t);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(t,e){if(!t)return this;var r,n,i,o,s,a=this._activeObject,c=0;if(t===a&&"activeSelection"===t.type)for(s=a._objects,r=0;r<s.length;r++)n=s[r],(i=this._objects.indexOf(n))>0+c&&(o=i-1,A(this._objects,n),this._objects.splice(o,0,n)),c++;else 0!==(i=this._objects.indexOf(t))&&(o=this._findNewLowerIndex(t,i,e),A(this._objects,t),this._objects.splice(o,0,t));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(t,e,A){var r,n;if(A)for(r=e,n=e-1;n>=0;--n){if(t.intersectsWithObject(this._objects[n])||t.isContainedWithinObject(this._objects[n])||this._objects[n].isContainedWithinObject(t)){r=n;break}}else r=e-1;return r},bringForward:function(t,e){if(!t)return this;var r,n,i,o,s,a=this._activeObject,c=0;if(t===a&&"activeSelection"===t.type)for(r=(s=a._objects).length;r--;)n=s[r],(i=this._objects.indexOf(n))<this._objects.length-1-c&&(o=i+1,A(this._objects,n),this._objects.splice(o,0,n)),c++;else(i=this._objects.indexOf(t))!==this._objects.length-1&&(o=this._findNewUpperIndex(t,i,e),A(this._objects,t),this._objects.splice(o,0,t));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(t,e,A){var r,n,i;if(A)for(r=e,n=e+1,i=this._objects.length;n<i;++n){if(t.intersectsWithObject(this._objects[n])||t.isContainedWithinObject(this._objects[n])||this._objects[n].isContainedWithinObject(t)){r=n;break}}else r=e+1;return r},moveTo:function(t,e){return A(this._objects,t),this._objects.splice(e,0,t),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(x.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject((function(t){t.dispose&&t.dispose()})),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,x.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),t(x.StaticCanvas.prototype,x.Observable),t(x.StaticCanvas.prototype,x.Collection),t(x.StaticCanvas.prototype,x.DataURLExporter),t(x.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(t){var e=s();if(!e||!e.getContext)return null;var A=e.getContext("2d");if(!A)return null;switch(t){case"setLineDash":return void 0!==A.setLineDash;default:return null}}}),x.StaticCanvas.prototype.toJSON=x.StaticCanvas.prototype.toObject,x.isLikelyNode&&(x.StaticCanvas.prototype.createPNGStream=function(){var t=o(this.lowerCanvasEl);return t&&t.createPNGStream()},x.StaticCanvas.prototype.createJPEGStream=function(t){var e=o(this.lowerCanvasEl);return e&&e.createJPEGStream(t)})}}(),x.BaseBrush=x.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,setShadow:function(t){return this.shadow=new x.Shadow(t),this},_setBrushStyles:function(){var t=this.canvas.contextTop;t.strokeStyle=this.color,t.lineWidth=this.width,t.lineCap=this.strokeLineCap,t.miterLimit=this.strokeMiterLimit,t.lineJoin=this.strokeLineJoin,x.StaticCanvas.supports("setLineDash")&&t.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(t){var e=this.canvas.viewportTransform;t.save(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5])},_setShadow:function(){if(this.shadow){var t=this.canvas.contextTop,e=this.canvas.getZoom();t.shadowColor=this.shadow.color,t.shadowBlur=this.shadow.blur*e,t.shadowOffsetX=this.shadow.offsetX*e,t.shadowOffsetY=this.shadow.offsetY*e}},_resetShadow:function(){var t=this.canvas.contextTop;t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0}}),x.PencilBrush=x.util.createClass(x.BaseBrush,{initialize:function(t){this.canvas=t,this._points=[]},_drawSegment:function(t,e,A){var r=e.midPointFrom(A);return t.quadraticCurveTo(e.x,e.y,r.x,r.y),r},onMouseDown:function(t){this._prepareForDrawing(t),this._captureDrawingPath(t),this._render()},onMouseMove:function(t){if(this._captureDrawingPath(t)&&this._points.length>1)if(this.needsFullRender)this.canvas.clearContext(this.canvas.contextTop),this._render();else{var e=this._points,A=e.length,r=this.canvas.contextTop;this._saveAndTransform(r),this.oldEnd&&(r.beginPath(),r.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(r,e[A-2],e[A-1],!0),r.stroke(),r.restore()}},onMouseUp:function(){this.oldEnd=void 0,this._finalizeAndAddPath()},_prepareForDrawing:function(t){var e=new x.Point(t.x,t.y);this._reset(),this._addPoint(e),this.canvas.contextTop.moveTo(e.x,e.y)},_addPoint:function(t){return!(this._points.length>1&&t.eq(this._points[this._points.length-1])||(this._points.push(t),0))},_reset:function(){this._points.length=0,this._setBrushStyles();var t=new x.Color(this.color);this.needsFullRender=t.getAlpha()<1,this._setShadow()},_captureDrawingPath:function(t){var e=new x.Point(t.x,t.y);return this._addPoint(e)},_render:function(){var t,e,A=this.canvas.contextTop,r=this._points[0],n=this._points[1];if(this._saveAndTransform(A),A.beginPath(),2===this._points.length&&r.x===n.x&&r.y===n.y){var i=this.width/1e3;r=new x.Point(r.x,r.y),n=new x.Point(n.x,n.y),r.x-=i,n.x+=i}for(A.moveTo(r.x,r.y),t=1,e=this._points.length;t<e;t++)this._drawSegment(A,r,n),r=this._points[t],n=this._points[t+1];A.lineTo(r.x,r.y),A.stroke(),A.restore()},convertPointsToSVGPath:function(t){var e,A=[],r=this.width/1e3,n=new x.Point(t[0].x,t[0].y),i=new x.Point(t[1].x,t[1].y),o=t.length,s=1,a=1,c=o>2;for(c&&(s=t[2].x<i.x?-1:t[2].x===i.x?0:1,a=t[2].y<i.y?-1:t[2].y===i.y?0:1),A.push("M ",n.x-s*r," ",n.y-a*r," "),e=1;e<o;e++){if(!n.eq(i)){var u=n.midPointFrom(i);A.push("Q ",n.x," ",n.y," ",u.x," ",u.y," ")}n=t[e],e+1<t.length&&(i=t[e+1])}return c&&(s=n.x>t[e-2].x?1:n.x===t[e-2].x?0:-1,a=n.y>t[e-2].y?1:n.y===t[e-2].y?0:-1),A.push("L ",n.x+s*r," ",n.y+a*r),A},createPath:function(t){var e=new x.Path(t,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray}),A=new x.Point(e.left+e.width/2,e.top+e.height/2);return A=e.translateToGivenOrigin(A,"center","center",e.originX,e.originY),e.top=A.y,e.left=A.x,this.shadow&&(this.shadow.affectStroke=!0,e.setShadow(this.shadow)),e},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath();var t=this.convertPointsToSVGPath(this._points).join("");if("M 0 0 Q 0 0 0 0 L 0 0"!==t){var e=this.createPath(t);this.canvas.clearContext(this.canvas.contextTop),this.canvas.add(e),this.canvas.renderAll(),e.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:e})}else this.canvas.requestRenderAll()}}),x.CircleBrush=x.util.createClass(x.BaseBrush,{width:10,initialize:function(t){this.canvas=t,this.points=[]},drawDot:function(t){var e=this.addPoint(t),A=this.canvas.contextTop;this._saveAndTransform(A),A.fillStyle=e.fill,A.beginPath(),A.arc(e.x,e.y,e.radius,0,2*Math.PI,!1),A.closePath(),A.fill(),A.restore()},onMouseDown:function(t){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(t)},_render:function(){var t,e,A,r=this.canvas.contextTop,n=this.points;for(this._saveAndTransform(r),t=0,e=n.length;t<e;t++)A=n[t],r.fillStyle=A.fill,r.beginPath(),r.arc(A.x,A.y,A.radius,0,2*Math.PI,!1),r.closePath(),r.fill();r.restore()},onMouseMove:function(t){this.drawDot(t)},onMouseUp:function(){var t,e,A=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;var r=[];for(t=0,e=this.points.length;t<e;t++){var n=this.points[t],i=new x.Circle({radius:n.radius,left:n.x,top:n.y,originX:"center",originY:"center",fill:n.fill});this.shadow&&i.setShadow(this.shadow),r.push(i)}var o=new x.Group(r);o.canvas=this.canvas,this.canvas.add(o),this.canvas.fire("path:created",{path:o}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=A,this.canvas.requestRenderAll()},addPoint:function(t){var e=new x.Point(t.x,t.y),A=x.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,r=new x.Color(this.color).setAlpha(x.util.getRandomInt(0,100)/100).toRgba();return e.radius=A,e.fill=r,this.points.push(e),e}}),x.SprayBrush=x.util.createClass(x.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(t){this.canvas=t,this.sprayChunks=[]},onMouseDown:function(t){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(t),this.render(this.sprayChunkPoints)},onMouseMove:function(t){this.addSprayChunk(t),this.render(this.sprayChunkPoints)},onMouseUp:function(){var t=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var e=[],A=0,r=this.sprayChunks.length;A<r;A++)for(var n=this.sprayChunks[A],i=0,o=n.length;i<o;i++){var s=new x.Rect({width:n[i].width,height:n[i].width,left:n[i].x+1,top:n[i].y+1,originX:"center",originY:"center",fill:this.color});e.push(s)}this.optimizeOverlapping&&(e=this._getOptimizedRects(e));var a=new x.Group(e);this.shadow&&a.setShadow(this.shadow),this.canvas.add(a),this.canvas.fire("path:created",{path:a}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=t,this.canvas.requestRenderAll()},_getOptimizedRects:function(t){var e,A,r,n={};for(A=0,r=t.length;A<r;A++)n[e=t[A].left+""+t[A].top]||(n[e]=t[A]);var i=[];for(e in n)i.push(n[e]);return i},render:function(t){var e,A,r=this.canvas.contextTop;for(r.fillStyle=this.color,this._saveAndTransform(r),e=0,A=t.length;e<A;e++){var n=t[e];void 0!==n.opacity&&(r.globalAlpha=n.opacity),r.fillRect(n.x,n.y,n.width,n.width)}r.restore()},_render:function(){var t,e,A=this.canvas.contextTop;for(A.fillStyle=this.color,this._saveAndTransform(A),t=0,e=this.sprayChunks.length;t<e;t++)this.render(this.sprayChunks[t]);A.restore()},addSprayChunk:function(t){this.sprayChunkPoints=[];var e,A,r,n,i=this.width/2;for(n=0;n<this.density;n++){e=x.util.getRandomInt(t.x-i,t.x+i),A=x.util.getRandomInt(t.y-i,t.y+i),r=this.dotWidthVariance?x.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var o=new x.Point(e,A);o.width=r,this.randomOpacity&&(o.opacity=x.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(o)}this.sprayChunks.push(this.sprayChunkPoints)}}),x.PatternBrush=x.util.createClass(x.PencilBrush,{getPatternSrc:function(){var t=x.util.createCanvasElement(),e=t.getContext("2d");return t.width=t.height=25,e.fillStyle=this.color,e.beginPath(),e.arc(10,10,10,0,2*Math.PI,!1),e.closePath(),e.fill(),t},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(t){var e=this.callSuper("createPath",t),A=e._getLeftTopCoords().scalarAdd(e.strokeWidth/2);return e.stroke=new x.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-A.x,offsetY:-A.y}),e}}),function(){var t=x.util.getPointer,e=x.util.degreesToRadians,A=x.util.radiansToDegrees,r=Math.atan2,n=Math.abs,i=x.StaticCanvas.supports("setLineDash");for(var o in x.Canvas=x.util.createClass(x.StaticCanvas,{initialize:function(t,e){e||(e={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(t,e),this._initInteractive(),this._createCacheCanvas()},uniScaleTransform:!1,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=x.PencilBrush&&new x.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var t,e,A,r=this.getActiveObjects();if(r.length>0&&!this.preserveObjectStacking){e=[],A=[];for(var n=0,i=this._objects.length;n<i;n++)t=this._objects[n],-1===r.indexOf(t)?e.push(t):A.push(t);r.length>1&&(this._activeObject._objects=A),e.push.apply(e,A)}else e=this._objects;return e},renderAll:function(){!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&this.renderTopLayer(this.contextTop);var t=this.contextContainer;return this.renderCanvas(t,this._chooseObjectsToRender()),this},renderTopLayer:function(t){t.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(t),this.contextTopDirty=!0),t.restore()},renderTop:function(){var t=this.contextTop;return this.clearContext(t),this.renderTopLayer(t),this.fire("after:render"),this},_resetCurrentTransform:function(){var t=this._currentTransform;t.target.set({scaleX:t.original.scaleX,scaleY:t.original.scaleY,skewX:t.original.skewX,skewY:t.original.skewY,left:t.original.left,top:t.original.top}),this._shouldCenterTransform(t.target)?("center"!==t.originX&&("right"===t.originX?t.mouseXSign=-1:t.mouseXSign=1),"center"!==t.originY&&("bottom"===t.originY?t.mouseYSign=-1:t.mouseYSign=1),t.originX="center",t.originY="center"):(t.originX=t.original.originX,t.originY=t.original.originY)},containsPoint:function(t,e,A){var r,n=A||this.getPointer(t,!0);return r=e.group&&e.group===this._activeObject&&"activeSelection"===e.group.type?this._normalizePointer(e.group,n):{x:n.x,y:n.y},e.containsPoint(r)||e._findTargetCorner(n)},_normalizePointer:function(t,e){var A=t.calcTransformMatrix(),r=x.util.invertTransform(A),n=this.restorePointerVpt(e);return x.util.transformPoint(n,r)},isTargetTransparent:function(t,e,A){if(t.shouldCache()&&t._cacheCanvas&&t!==this._activeObject){var r=this._normalizePointer(t,{x:e,y:A}),n=Math.max(t.cacheTranslationX+r.x*t.zoomX,0),i=Math.max(t.cacheTranslationY+r.y*t.zoomY,0);return x.util.isTransparent(t._cacheContext,Math.round(n),Math.round(i),this.targetFindTolerance)}var o=this.contextCache,s=t.selectionBackgroundColor,a=this.viewportTransform;return t.selectionBackgroundColor="",this.clearContext(o),o.save(),o.transform(a[0],a[1],a[2],a[3],a[4],a[5]),t.render(o),o.restore(),t===this._activeObject&&t._renderControls(o,{hasBorders:!1,transparentCorners:!1},{hasBorders:!1}),t.selectionBackgroundColor=s,x.util.isTransparent(o,e,A,this.targetFindTolerance)},_isSelectionKeyPressed:function(t){return"[object Array]"===Object.prototype.toString.call(this.selectionKey)?!!this.selectionKey.find((function(e){return!0===t[e]})):t[this.selectionKey]},_shouldClearSelection:function(t,e){var A=this.getActiveObjects(),r=this._activeObject;return!e||e&&r&&A.length>1&&-1===A.indexOf(e)&&r!==e&&!this._isSelectionKeyPressed(t)||e&&!e.evented||e&&!e.selectable&&r&&r!==e},_shouldCenterTransform:function(t){if(t){var e,A=this._currentTransform;return"scale"===A.action||"scaleX"===A.action||"scaleY"===A.action?e=this.centeredScaling||t.centeredScaling:"rotate"===A.action&&(e=this.centeredRotation||t.centeredRotation),e?!A.altKey:A.altKey}},_getOriginFromCorner:function(t,e){var A={x:t.originX,y:t.originY};return"ml"===e||"tl"===e||"bl"===e?A.x="right":"mr"!==e&&"tr"!==e&&"br"!==e||(A.x="left"),"tl"===e||"mt"===e||"tr"===e?A.y="bottom":"bl"!==e&&"mb"!==e&&"br"!==e||(A.y="top"),A},_getActionFromCorner:function(t,e,A){if(!e||!t)return"drag";switch(e){case"mtr":return"rotate";case"ml":case"mr":return A[this.altActionKey]?"skewY":"scaleX";case"mt":case"mb":return A[this.altActionKey]?"skewX":"scaleY";default:return"scale"}},_setupCurrentTransform:function(t,A,r){if(A){var n=this.getPointer(t),i=A._findTargetCorner(this.getPointer(t,!0)),o=this._getActionFromCorner(r,i,t,A),s=this._getOriginFromCorner(A,i);this._currentTransform={target:A,action:o,corner:i,scaleX:A.scaleX,scaleY:A.scaleY,skewX:A.skewX,skewY:A.skewY,offsetX:n.x-A.left,offsetY:n.y-A.top,originX:s.x,originY:s.y,ex:n.x,ey:n.y,lastX:n.x,lastY:n.y,theta:e(A.angle),width:A.width*A.scaleX,mouseXSign:1,mouseYSign:1,shiftKey:t.shiftKey,altKey:t[this.centeredKey],original:x.util.saveObjectTransform(A)},this._currentTransform.original.originX=s.x,this._currentTransform.original.originY=s.y,this._resetCurrentTransform(),this._beforeTransform(t)}},_translateObject:function(t,e){var A=this._currentTransform,r=A.target,n=t-A.offsetX,i=e-A.offsetY,o=!r.get("lockMovementX")&&r.left!==n,s=!r.get("lockMovementY")&&r.top!==i;return o&&r.set("left",n),s&&r.set("top",i),o||s},_changeSkewTransformOrigin:function(t,e,A){var r="originX",n={0:"center"},i=e.target.skewX,o="left",s="right",a="mt"===e.corner||"ml"===e.corner?1:-1,c=1;t=t>0?1:-1,"y"===A&&(i=e.target.skewY,o="top",s="bottom",r="originY"),n[-1]=o,n[1]=s,e.target.flipX&&(c*=-1),e.target.flipY&&(c*=-1),0===i?(e.skewSign=-a*t*c,e[r]=n[-t]):(i=i>0?1:-1,e.skewSign=i,e[r]=n[i*a*c])},_skewObject:function(t,e,A){var r,n=this._currentTransform,i=n.target,o=i.get("lockSkewingX"),s=i.get("lockSkewingY");if(o&&"x"===A||s&&"y"===A)return!1;var a,c,u=i.getCenterPoint(),h=i.toLocalPoint(new x.Point(t,e),"center","center")[A],l=i.toLocalPoint(new x.Point(n.lastX,n.lastY),"center","center")[A],f=i._getTransformedDimensions();return this._changeSkewTransformOrigin(h-l,n,A),a=i.toLocalPoint(new x.Point(t,e),n.originX,n.originY)[A],c=i.translateToOriginPoint(u,n.originX,n.originY),r=this._setObjectSkew(a,n,A,f),n.lastX=t,n.lastY=e,i.setPositionByOrigin(c,n.originX,n.originY),r},_setObjectSkew:function(t,e,A,r){var n,i,o,s,a,c,u,h,l,f,d=e.target,p=e.skewSign;return"x"===A?(a="y",c="Y",u="X",l=0,f=d.skewY):(a="x",c="X",u="Y",l=d.skewX,f=0),s=d._getTransformedDimensions(l,f),(h=2*Math.abs(t)-s[A])<=2?n=0:(n=p*Math.atan(h/d["scale"+u]/(s[a]/d["scale"+c])),n=x.util.radiansToDegrees(n)),i=d["skew"+u]!==n,d.set("skew"+u,n),0!==d["skew"+c]&&(o=d._getTransformedDimensions(),n=r[a]/o[a]*d["scale"+c],d.set("scale"+c,n)),i},_scaleObject:function(t,e,A){var r=this._currentTransform,n=r.target,i=n.lockScalingX,o=n.lockScalingY,s=n.lockScalingFlip;if(i&&o)return!1;var a,c=n.translateToOriginPoint(n.getCenterPoint(),r.originX,r.originY),u=n.toLocalPoint(new x.Point(t,e),r.originX,r.originY),h=n._getTransformedDimensions();return this._setLocalMouse(u,r),a=this._setObjectScale(u,r,i,o,A,s,h),n.setPositionByOrigin(c,r.originX,r.originY),a},_setObjectScale:function(t,e,A,r,n,i,o){var s=e.target,a=!1,c=!1,u=!1,h=t.x*s.scaleX/o.x,l=t.y*s.scaleY/o.y,f=s.scaleX!==h,d=s.scaleY!==l;return i&&h<=0&&h<s.scaleX&&(a=!0,t.x=0),i&&l<=0&&l<s.scaleY&&(c=!0,t.y=0),"equally"!==n||A||r?n?"x"!==n||s.get("lockUniScaling")?"y"!==n||s.get("lockUniScaling")||c||r||s.set("scaleY",l)&&(u=d):a||A||s.set("scaleX",h)&&(u=f):(a||A||s.set("scaleX",h)&&(u=u||f),c||r||s.set("scaleY",l)&&(u=u||d)):u=this._scaleObjectEqually(t,s,e,o),e.newScaleX=h,e.newScaleY=l,a||c||this._flipObject(e,n),u},_scaleObjectEqually:function(t,e,A,r){var n,i,o,s=t.y+t.x,a=r.y*A.original.scaleY/e.scaleY+r.x*A.original.scaleX/e.scaleX,c=t.x<0?-1:1,u=t.y<0?-1:1;return i=c*Math.abs(A.original.scaleX*s/a),o=u*Math.abs(A.original.scaleY*s/a),n=i!==e.scaleX||o!==e.scaleY,e.set("scaleX",i),e.set("scaleY",o),n},_flipObject:function(t,e){t.newScaleX<0&&"y"!==e&&("left"===t.originX?t.originX="right":"right"===t.originX&&(t.originX="left")),t.newScaleY<0&&"x"!==e&&("top"===t.originY?t.originY="bottom":"bottom"===t.originY&&(t.originY="top"))},_setLocalMouse:function(t,e){var A=e.target,r=this.getZoom(),i=A.padding/r;"right"===e.originX?t.x*=-1:"center"===e.originX&&(t.x*=2*e.mouseXSign,t.x<0&&(e.mouseXSign=-e.mouseXSign)),"bottom"===e.originY?t.y*=-1:"center"===e.originY&&(t.y*=2*e.mouseYSign,t.y<0&&(e.mouseYSign=-e.mouseYSign)),n(t.x)>i?t.x<0?t.x+=i:t.x-=i:t.x=0,n(t.y)>i?t.y<0?t.y+=i:t.y-=i:t.y=0},_rotateObject:function(t,e){var n=this._currentTransform,i=n.target,o=i.translateToOriginPoint(i.getCenterPoint(),n.originX,n.originY);if(i.lockRotation)return!1;var s=r(n.ey-o.y,n.ex-o.x),a=r(e-o.y,t-o.x),c=A(a-s+n.theta),u=!0;if(i.snapAngle>0){var h=i.snapAngle,l=i.snapThreshold||h,f=Math.ceil(c/h)*h,d=Math.floor(c/h)*h;Math.abs(c-d)<l?c=d:Math.abs(c-f)<l&&(c=f)}return c<0&&(c=360+c),c%=360,i.angle===c?u=!1:(i.angle=c,i.setPositionByOrigin(o,n.originX,n.originY)),u},setCursor:function(t){this.upperCanvasEl.style.cursor=t},_drawSelection:function(t){var e=this._groupSelector,A=e.left,r=e.top,o=n(A),s=n(r);if(this.selectionColor&&(t.fillStyle=this.selectionColor,t.fillRect(e.ex-(A>0?0:-A),e.ey-(r>0?0:-r),o,s)),this.selectionLineWidth&&this.selectionBorderColor)if(t.lineWidth=this.selectionLineWidth,t.strokeStyle=this.selectionBorderColor,this.selectionDashArray.length>1&&!i){var a=e.ex+.5-(A>0?0:o),c=e.ey+.5-(r>0?0:s);t.beginPath(),x.util.drawDashedLine(t,a,c,a+o,c,this.selectionDashArray),x.util.drawDashedLine(t,a,c+s-1,a+o,c+s-1,this.selectionDashArray),x.util.drawDashedLine(t,a,c,a,c+s,this.selectionDashArray),x.util.drawDashedLine(t,a+o-1,c,a+o-1,c+s,this.selectionDashArray),t.closePath(),t.stroke()}else x.Object.prototype._setLineDash.call(this,t,this.selectionDashArray),t.strokeRect(e.ex+.5-(A>0?0:o),e.ey+.5-(r>0?0:s),o,s)},findTarget:function(t,e){if(!this.skipTargetFind){var A,r,n=this.getPointer(t,!0),i=this._activeObject,o=this.getActiveObjects();if(this.targets=[],o.length>1&&!e&&i===this._searchPossibleTargets([i],n))return i;if(1===o.length&&i._findTargetCorner(n))return i;if(1===o.length&&i===this._searchPossibleTargets([i],n)){if(!this.preserveObjectStacking)return i;A=i,r=this.targets,this.targets=[]}var s=this._searchPossibleTargets(this._objects,n);return t[this.altSelectionKey]&&s&&A&&s!==A&&(s=A,this.targets=r),s}},_checkTarget:function(t,e,A){if(e&&e.visible&&e.evented&&this.containsPoint(null,e,t)){if(!this.perPixelTargetFind&&!e.perPixelTargetFind||e.isEditing)return!0;if(!this.isTargetTransparent(e,A.x,A.y))return!0}},_searchPossibleTargets:function(t,e){for(var A,r,n=t.length;n--;){var i=t[n],o=i.group&&"activeSelection"!==i.group.type?this._normalizePointer(i.group,e):e;if(this._checkTarget(o,i,e)){(A=t[n]).subTargetCheck&&A instanceof x.Group&&(r=this._searchPossibleTargets(A._objects,e))&&this.targets.push(r);break}}return A},restorePointerVpt:function(t){return x.util.transformPoint(t,x.util.invertTransform(this.viewportTransform))},getPointer:function(e,A){if(this._absolutePointer&&!A)return this._absolutePointer;if(this._pointer&&A)return this._pointer;var r,n=t(e),i=this.upperCanvasEl,o=i.getBoundingClientRect(),s=o.width||0,a=o.height||0;return s&&a||("top"in o&&"bottom"in o&&(a=Math.abs(o.top-o.bottom)),"right"in o&&"left"in o&&(s=Math.abs(o.right-o.left))),this.calcOffset(),n.x=n.x-this._offset.left,n.y=n.y-this._offset.top,A||(n=this.restorePointerVpt(n)),r=0===s||0===a?{width:1,height:1}:{width:i.width/s,height:i.height/a},{x:n.x*r.width,y:n.y*r.height}},_createUpperCanvas:function(){var t=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,"");this.upperCanvasEl?this.upperCanvasEl.className="":this.upperCanvasEl=this._createCanvasElement(),x.util.addClass(this.upperCanvasEl,"upper-canvas "+t),this.wrapperEl.appendChild(this.upperCanvasEl),this._copyCanvasStyle(this.lowerCanvasEl,this.upperCanvasEl),this._applyCanvasStyle(this.upperCanvasEl),this.contextTop=this.upperCanvasEl.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=x.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),x.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),x.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(t){var e=this.width||t.width,A=this.height||t.height;x.util.setStyle(t,{position:"absolute",width:e+"px",height:A+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none"}),t.width=e,t.height=A,x.util.makeElementUnselectable(t)},_copyCanvasStyle:function(t,e){e.style.cssText=t.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var t=this._activeObject;return t?"activeSelection"===t.type&&t._objects?t._objects.slice(0):[t]:[]},_onObjectRemoved:function(t){t===this._activeObject&&(this.fire("before:selection:cleared",{target:t}),this._discardActiveObject(),this.fire("selection:cleared",{target:t}),t.fire("deselected")),this._hoveredTarget===t&&(this._hoveredTarget=null),this.callSuper("_onObjectRemoved",t)},_fireSelectionEvents:function(t,e){var A=!1,r=this.getActiveObjects(),n=[],i=[],o={e:e};t.forEach((function(t){-1===r.indexOf(t)&&(A=!0,t.fire("deselected",o),i.push(t))})),r.forEach((function(e){-1===t.indexOf(e)&&(A=!0,e.fire("selected",o),n.push(e))})),t.length>0&&r.length>0?(o.selected=n,o.deselected=i,o.updated=n[0]||i[0],o.target=this._activeObject,A&&this.fire("selection:updated",o)):r.length>0?(1===r.length&&(o.target=n[0],this.fire("object:selected",o)),o.selected=n,o.target=this._activeObject,this.fire("selection:created",o)):t.length>0&&(o.deselected=i,this.fire("selection:cleared",o))},setActiveObject:function(t,e){var A=this.getActiveObjects();return this._setActiveObject(t,e),this._fireSelectionEvents(A,e),this},_setActiveObject:function(t,e){return this._activeObject!==t&&(!!this._discardActiveObject(e,t)&&(!t.onSelect({e:e})&&(this._activeObject=t,!0)))},_discardActiveObject:function(t,e){var A=this._activeObject;if(A){if(A.onDeselect({e:t,object:e}))return!1;this._activeObject=null}return!0},discardActiveObject:function(t){var e=this.getActiveObjects();return e.length&&this.fire("before:selection:cleared",{target:e[0],e:t}),this._discardActiveObject(t),this._fireSelectionEvents(e,t),this},dispose:function(){var t=this.wrapperEl;return this.removeListeners(),t.removeChild(this.upperCanvasEl),t.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(t){x.util.cleanUpJsdomNode(this[t]),this[t]=void 0}.bind(this)),t.parentNode&&t.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,x.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(t){var e=this._activeObject;e&&e._renderControls(t)},_toObject:function(t,e,A){var r=this._realizeGroupTransformOnObject(t),n=this.callSuper("_toObject",t,e,A);return this._unwindGroupTransformOnObject(t,r),n},_realizeGroupTransformOnObject:function(t){if(t.group&&"activeSelection"===t.group.type&&this._activeObject===t.group){var e={};return["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach((function(A){e[A]=t[A]})),this._activeObject.realizeTransform(t),e}return null},_unwindGroupTransformOnObject:function(t,e){e&&t.set(e)},_setSVGObject:function(t,e,A){var r=this._realizeGroupTransformOnObject(e);this.callSuper("_setSVGObject",t,e,A),this._unwindGroupTransformOnObject(e,r)},setViewportTransform:function(t){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),x.StaticCanvas.prototype.setViewportTransform.call(this,t)}}),x.StaticCanvas)"prototype"!==o&&(x.Canvas[o]=x.StaticCanvas[o]);x.isTouchSupported&&(x.Canvas.prototype._setCursorFromEvent=function(){})}(),function(){var t={mt:0,tr:1,mr:2,br:3,mb:4,bl:5,ml:6,tl:7},e=x.util.addListener,A=x.util.removeListener,r={passive:!1};function n(t,e){return"which"in t?t.which===e:t.button===e-1}x.util.object.extend(x.Canvas.prototype,{cursorMap:["n-resize","ne-resize","e-resize","se-resize","s-resize","sw-resize","w-resize","nw-resize"],_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(e,"add")},addOrRemove:function(t,e){t(x.window,"resize",this._onResize),t(this.upperCanvasEl,"mousedown",this._onMouseDown),t(this.upperCanvasEl,"mousemove",this._onMouseMove,r),t(this.upperCanvasEl,"mouseout",this._onMouseOut),t(this.upperCanvasEl,"mouseenter",this._onMouseEnter),t(this.upperCanvasEl,"wheel",this._onMouseWheel),t(this.upperCanvasEl,"contextmenu",this._onContextMenu),t(this.upperCanvasEl,"dblclick",this._onDoubleClick),t(this.upperCanvasEl,"touchstart",this._onMouseDown,r),t(this.upperCanvasEl,"touchmove",this._onMouseMove,r),t(this.upperCanvasEl,"dragover",this._onDragOver),t(this.upperCanvasEl,"dragenter",this._onDragEnter),t(this.upperCanvasEl,"dragleave",this._onDragLeave),t(this.upperCanvasEl,"drop",this._onDrop),"undefined"!=typeof eventjs&&e in eventjs&&(eventjs[e](this.upperCanvasEl,"gesture",this._onGesture),eventjs[e](this.upperCanvasEl,"drag",this._onDrag),eventjs[e](this.upperCanvasEl,"orientation",this._onOrientationChange),eventjs[e](this.upperCanvasEl,"shake",this._onShake),eventjs[e](this.upperCanvasEl,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(A,"remove"),A(x.document,"mouseup",this._onMouseUp),A(x.document,"touchend",this._onMouseUp,r),A(x.document,"mousemove",this._onMouseMove,r),A(x.document,"touchmove",this._onMouseMove,r)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._simpleEventHandler.bind(this,"drop"),this.eventsBound=!0)},_onGesture:function(t,e){this.__onTransformGesture&&this.__onTransformGesture(t,e)},_onDrag:function(t,e){this.__onDrag&&this.__onDrag(t,e)},_onMouseWheel:function(t){this.__onMouseWheel(t)},_onMouseOut:function(t){var e=this._hoveredTarget;this.fire("mouse:out",{target:e,e:t}),this._hoveredTarget=null,e&&e.fire("mouseout",{e:t}),this._iTextInstances&&this._iTextInstances.forEach((function(t){t.isEditing&&t.hiddenTextarea.focus()}))},_onMouseEnter:function(t){this.findTarget(t)||(this.fire("mouse:over",{target:null,e:t}),this._hoveredTarget=null)},_onOrientationChange:function(t,e){this.__onOrientationChange&&this.__onOrientationChange(t,e)},_onShake:function(t,e){this.__onShake&&this.__onShake(t,e)},_onLongPress:function(t,e){this.__onLongPress&&this.__onLongPress(t,e)},_onDragOver:function(t){t.preventDefault();var e=this._simpleEventHandler("dragover",t);this._fireEnterLeaveEvents(e,t)},_onContextMenu:function(t){return this.stopContextMenu&&(t.stopPropagation(),t.preventDefault()),!1},_onDoubleClick:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"dblclick"),this._resetTransformEventData(t)},_onMouseDown:function(t){this.__onMouseDown(t),this._resetTransformEventData(),e(x.document,"touchend",this._onMouseUp,r),e(x.document,"touchmove",this._onMouseMove,r),A(this.upperCanvasEl,"mousemove",this._onMouseMove,r),A(this.upperCanvasEl,"touchmove",this._onMouseMove,r),"touchstart"===t.type?A(this.upperCanvasEl,"mousedown",this._onMouseDown):(e(x.document,"mouseup",this._onMouseUp),e(x.document,"mousemove",this._onMouseMove,r))},_onMouseUp:function(t){if(this.__onMouseUp(t),this._resetTransformEventData(),A(x.document,"mouseup",this._onMouseUp),A(x.document,"touchend",this._onMouseUp,r),A(x.document,"mousemove",this._onMouseMove,r),A(x.document,"touchmove",this._onMouseMove,r),e(this.upperCanvasEl,"mousemove",this._onMouseMove,r),e(this.upperCanvasEl,"touchmove",this._onMouseMove,r),"touchend"===t.type){var n=this;setTimeout((function(){e(n.upperCanvasEl,"mousedown",n._onMouseDown)}),400)}},_onMouseMove:function(t){!this.allowTouchScrolling&&t.preventDefault&&t.preventDefault(),this.__onMouseMove(t)},_onResize:function(){this.calcOffset()},_shouldRender:function(t){var e=this._activeObject;return!!(!!e!=!!t||e&&t&&e!==t)||(e&&e.isEditing,!1)},__onMouseUp:function(t){var e,A=this._currentTransform,r=this._groupSelector,i=!1,o=!r||0===r.left&&0===r.top;if(this._cacheTransformEventData(t),e=this._target,this._handleEvent(t,"up:before"),!n(t,3))return n(t,2)?(this.fireMiddleClick&&this._handleEvent(t,"up",2,o),void this._resetTransformEventData()):void(this.isDrawingMode&&this._isCurrentlyDrawing?this._onMouseUpInDrawingMode(t):(A&&(this._finalizeCurrentTransform(t),i=A.actionPerformed),o||(this._maybeGroupObjects(t),i||(i=this._shouldRender(e))),e&&(e.isMoving=!1),this._setCursorFromEvent(t,e),this._handleEvent(t,"up",1,o),this._groupSelector=null,this._currentTransform=null,e&&(e.__corner=0),i?this.requestRenderAll():o||this.renderTop()));this.fireRightClick&&this._handleEvent(t,"up",3,o)},_simpleEventHandler:function(t,e){var A=this.findTarget(e),r=this.targets,n={e:e,target:A,subTargets:r};if(this.fire(t,n),A&&A.fire(t,n),!r)return A;for(var i=0;i<r.length;i++)r[i].fire(t,n);return A},_handleEvent:function(t,e,A,r){var n=this._target,i=this.targets||[],o={e:t,target:n,subTargets:i,button:A||1,isClick:r||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};this.fire("mouse:"+e,o),n&&n.fire("mouse"+e,o);for(var s=0;s<i.length;s++)i[s].fire("mouse"+e,o)},_finalizeCurrentTransform:function(t){var e,A=this._currentTransform,r=A.target,n={e:t,target:r,transform:A};r._scaling&&(r._scaling=!1),r.setCoords(),(A.actionPerformed||this.stateful&&r.hasStateChanged())&&(A.actionPerformed&&(e=this._addEventOptions(n,A),this._fire(e,n)),this._fire("modified",n))},_addEventOptions:function(t,e){var A,r;switch(e.action){case"scaleX":A="scaled",r="x";break;case"scaleY":A="scaled",r="y";break;case"skewX":A="skewed",r="x";break;case"skewY":A="skewed",r="y";break;case"scale":A="scaled",r="equally";break;case"rotate":A="rotated";break;case"drag":A="moved"}return t.by=r,A},_onMouseDownInDrawingMode:function(t){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(t).requestRenderAll(),this.clipTo&&x.util.clipContext(this,this.contextTop);var e=this.getPointer(t);this.freeDrawingBrush.onMouseDown(e),this._handleEvent(t,"down")},_onMouseMoveInDrawingMode:function(t){if(this._isCurrentlyDrawing){var e=this.getPointer(t);this.freeDrawingBrush.onMouseMove(e)}this.setCursor(this.freeDrawingCursor),this._handleEvent(t,"move")},_onMouseUpInDrawingMode:function(t){this._isCurrentlyDrawing=!1,this.clipTo&&this.contextTop.restore(),this.freeDrawingBrush.onMouseUp(),this._handleEvent(t,"up")},__onMouseDown:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"down:before");var e=this._target;if(n(t,3))this.fireRightClick&&this._handleEvent(t,"down",3);else if(n(t,2))this.fireMiddleClick&&this._handleEvent(t,"down",2);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(t);else if(!this._currentTransform){var A=this._pointer;this._previousPointer=A;var r=this._shouldRender(e),i=this._shouldGroup(t,e);if(this._shouldClearSelection(t,e)?this.discardActiveObject(t):i&&(this._handleGrouping(t,e),e=this._activeObject),!this.selection||e&&(e.selectable||e.isEditing||e===this._activeObject)||(this._groupSelector={ex:A.x,ey:A.y,top:0,left:0}),e){var o=e===this._activeObject;e.selectable&&this.setActiveObject(e,t),e!==this._activeObject||!e.__corner&&i||this._setupCurrentTransform(t,e,o)}this._handleEvent(t,"down"),(r||i)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(t){this._resetTransformEventData(),this._pointer=this.getPointer(t,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(t)||null},_beforeTransform:function(t){var e=this._currentTransform;this.stateful&&e.target.saveState(),this.fire("before:transform",{e:t,transform:e}),e.corner&&this.onBeforeScaleRotate(e.target)},__onMouseMove:function(t){var e,A;if(this._handleEvent(t,"move:before"),this._cacheTransformEventData(t),this.isDrawingMode)this._onMouseMoveInDrawingMode(t);else if(!(void 0!==t.touches&&t.touches.length>1)){var r=this._groupSelector;r?(A=this._pointer,r.left=A.x-r.ex,r.top=A.y-r.ey,this.renderTop()):this._currentTransform?this._transformObject(t):(e=this.findTarget(t)||null,this._setCursorFromEvent(t,e),this._fireOverOutEvents(e,t)),this._handleEvent(t,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(t,e){this.fireSynteticInOutEvents(t,e,{targetName:"_hoveredTarget",canvasEvtOut:"mouse:out",evtOut:"mouseout",canvasEvtIn:"mouse:over",evtIn:"mouseover"})},_fireEnterLeaveEvents:function(t,e){this.fireSynteticInOutEvents(t,e,{targetName:"_draggedoverTarget",evtOut:"dragleave",evtIn:"dragenter"})},fireSynteticInOutEvents:function(t,e,A){var r,n,i,o=this[A.targetName],s=o!==t,a=A.canvasEvtIn,c=A.canvasEvtOut;s&&(r={e:e,target:t,previousTarget:o},n={e:e,target:o,nextTarget:t},this[A.targetName]=t),i=t&&s,o&&s&&(c&&this.fire(c,n),o.fire(A.evtOut,n)),i&&(a&&this.fire(a,r),t.fire(A.evtIn,r))},__onMouseWheel:function(t){this._cacheTransformEventData(t),this._handleEvent(t,"wheel"),this._resetTransformEventData()},_transformObject:function(t){var e=this.getPointer(t),A=this._currentTransform;A.reset=!1,A.target.isMoving=!0,A.shiftKey=t.shiftKey,A.altKey=t[this.centeredKey],this._beforeScaleTransform(t,A),this._performTransformAction(t,A,e),A.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(t,e,A){var r=A.x,n=A.y,i=e.action,o=!1,s={target:e.target,e:t,transform:e,pointer:A};"rotate"===i?(o=this._rotateObject(r,n))&&this._fire("rotating",s):"scale"===i?(o=this._onScale(t,e,r,n))&&this._fire("scaling",s):"scaleX"===i?(o=this._scaleObject(r,n,"x"))&&this._fire("scaling",s):"scaleY"===i?(o=this._scaleObject(r,n,"y"))&&this._fire("scaling",s):"skewX"===i?(o=this._skewObject(r,n,"x"))&&this._fire("skewing",s):"skewY"===i?(o=this._skewObject(r,n,"y"))&&this._fire("skewing",s):(o=this._translateObject(r,n))&&(this._fire("moving",s),this.setCursor(s.target.moveCursor||this.moveCursor)),e.actionPerformed=e.actionPerformed||o},_fire:function(t,e){this.fire("object:"+t,e),e.target.fire(t,e)},_beforeScaleTransform:function(t,e){if("scale"===e.action||"scaleX"===e.action||"scaleY"===e.action){var A=this._shouldCenterTransform(e.target);(A&&("center"!==e.originX||"center"!==e.originY)||!A&&"center"===e.originX&&"center"===e.originY)&&(this._resetCurrentTransform(),e.reset=!0)}},_onScale:function(t,e,A,r){return this._isUniscalePossible(t,e.target)?(e.currentAction="scale",this._scaleObject(A,r)):(e.reset||"scale"!==e.currentAction||this._resetCurrentTransform(),e.currentAction="scaleEqually",this._scaleObject(A,r,"equally"))},_isUniscalePossible:function(t,e){return(t[this.uniScaleKey]||this.uniScaleTransform)&&!e.get("lockUniScaling")},_setCursorFromEvent:function(t,e){if(!e)return this.setCursor(this.defaultCursor),!1;var A=e.hoverCursor||this.hoverCursor,r=this._activeObject&&"activeSelection"===this._activeObject.type?this._activeObject:null,n=(!r||!r.contains(e))&&e._findTargetCorner(this.getPointer(t,!0));n?this.setCursor(this.getCornerCursor(n,e,t)):this.setCursor(A)},getCornerCursor:function(e,A,r){return this.actionIsDisabled(e,A,r)?this.notAllowedCursor:e in t?this._getRotatedCornerCursor(e,A,r):"mtr"===e&&A.hasRotatingPoint?this.rotationCursor:this.defaultCursor},actionIsDisabled:function(t,e,A){return"mt"===t||"mb"===t?A[this.altActionKey]?e.lockSkewingX:e.lockScalingY:"ml"===t||"mr"===t?A[this.altActionKey]?e.lockSkewingY:e.lockScalingX:"mtr"===t?e.lockRotation:this._isUniscalePossible(A,e)?e.lockScalingX&&e.lockScalingY:e.lockScalingX||e.lockScalingY},_getRotatedCornerCursor:function(e,A,r){var n=Math.round(A.angle%360/45);return n<0&&(n+=8),n+=t[e],r[this.altActionKey]&&t[e]%2==0&&(n+=2),n%=8,this.cursorMap[n]}})}(),g=Math.min,v=Math.max,x.util.object.extend(x.Canvas.prototype,{_shouldGroup:function(t,e){var A=this._activeObject;return A&&this._isSelectionKeyPressed(t)&&e&&e.selectable&&this.selection&&(A!==e||"activeSelection"===A.type)&&!e.onSelect({e:t})},_handleGrouping:function(t,e){var A=this._activeObject;A.__corner||(e!==A||(e=this.findTarget(t,!0))&&e.selectable)&&(A&&"activeSelection"===A.type?this._updateActiveSelection(e,t):this._createActiveSelection(e,t))},_updateActiveSelection:function(t,e){var A=this._activeObject,r=A._objects.slice(0);A.contains(t)?(A.removeWithUpdate(t),this._hoveredTarget=t,1===A.size()&&this._setActiveObject(A.item(0),e)):(A.addWithUpdate(t),this._hoveredTarget=A),this._fireSelectionEvents(r,e)},_createActiveSelection:function(t,e){var A=this.getActiveObjects(),r=this._createGroup(t);this._hoveredTarget=r,this._setActiveObject(r,e),this._fireSelectionEvents(A,e)},_createGroup:function(t){var e=this._objects,A=e.indexOf(this._activeObject)<e.indexOf(t)?[this._activeObject,t]:[t,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new x.ActiveSelection(A,{canvas:this})},_groupSelectedObjects:function(t){var e,A=this._collectObjects(t);1===A.length?this.setActiveObject(A[0],t):A.length>1&&(e=new x.ActiveSelection(A.reverse(),{canvas:this}),this.setActiveObject(e,t))},_collectObjects:function(t){for(var e,A=[],r=this._groupSelector.ex,n=this._groupSelector.ey,i=r+this._groupSelector.left,o=n+this._groupSelector.top,s=new x.Point(g(r,i),g(n,o)),a=new x.Point(v(r,i),v(n,o)),c=!this.selectionFullyContained,u=r===i&&n===o,h=this._objects.length;h--&&!((e=this._objects[h])&&e.selectable&&e.visible&&!e.onSelect({e:t})&&(c&&e.intersectsWithRect(s,a)||e.isContainedWithinRect(s,a)||c&&e.containsPoint(s)||c&&e.containsPoint(a))&&(A.push(e),u)););return A},_maybeGroupObjects:function(t){this.selection&&this._groupSelector&&this._groupSelectedObjects(t),this.setCursor(this.defaultCursor),this._groupSelector=null}}),x.util.object.extend(x.StaticCanvas.prototype,{toDataURL:function(t){t||(t={});var e=t.format||"png",A=t.quality||1,r=(t.multiplier||1)*(t.enableRetinaScaling?this.getRetinaScaling():1),n=this.toCanvasElement(r,t);return x.util.toDataURL(n,e,A)},toCanvasElement:function(t,e){t=t||1;var A=((e=e||{}).width||this.width)*t,r=(e.height||this.height)*t,n=this.getZoom(),i=this.width,o=this.height,s=n*t,a=this.viewportTransform,c=(a[4]-(e.left||0))*t,u=(a[5]-(e.top||0))*t,h=this.interactive,l=this.contextContainer,f=[s,0,0,s,c,u],d=x.util.createCanvasElement();return d.width=A,d.height=r,this.interactive=!1,this.viewportTransform=f,this.width=A,this.height=r,this.calcViewportBoundaries(),this.contextContainer=d.getContext("2d"),this.renderAll(),this.viewportTransform=a,this.width=i,this.height=o,this.calcViewportBoundaries(),this.contextContainer=l,this.interactive=h,d}}),x.util.object.extend(x.StaticCanvas.prototype,{loadFromDatalessJSON:function(t,e,A){return this.loadFromJSON(t,e,A)},loadFromJSON:function(t,e,A){if(t){var r="string"==typeof t?JSON.parse(t):x.util.object.clone(t),n=this,i=this.renderOnAddRemove;return this.renderOnAddRemove=!1,this._enlivenObjects(r.objects,(function(t){n.clear(),n._setBgOverlay(r,(function(){t.forEach((function(t,e){n.insertAt(t,e)})),n.renderOnAddRemove=i,delete r.objects,delete r.backgroundImage,delete r.overlayImage,delete r.background,delete r.overlay,n._setOptions(r),n.renderAll(),e&&e()}))}),A),this}},_setBgOverlay:function(t,e){var A={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(t.backgroundImage||t.overlayImage||t.background||t.overlay){var r=function(){A.backgroundImage&&A.overlayImage&&A.backgroundColor&&A.overlayColor&&e&&e()};this.__setBgOverlay("backgroundImage",t.backgroundImage,A,r),this.__setBgOverlay("overlayImage",t.overlayImage,A,r),this.__setBgOverlay("backgroundColor",t.background,A,r),this.__setBgOverlay("overlayColor",t.overlay,A,r)}else e&&e()},__setBgOverlay:function(t,e,A,r){var n=this;if(!e)return A[t]=!0,void(r&&r());"backgroundImage"===t||"overlayImage"===t?x.util.enlivenObjects([e],(function(e){n[t]=e[0],A[t]=!0,r&&r()})):this["set"+x.util.string.capitalize(t,!0)](e,(function(){A[t]=!0,r&&r()}))},_enlivenObjects:function(t,e,A){t&&0!==t.length?x.util.enlivenObjects(t,(function(t){e&&e(t)}),null,A):e&&e([])},_toDataURL:function(t,e){this.clone((function(A){e(A.toDataURL(t))}))},_toDataURLWithMultiplier:function(t,e,A){this.clone((function(r){A(r.toDataURLWithMultiplier(t,e))}))},clone:function(t,e){var A=JSON.stringify(this.toJSON(e));this.cloneWithoutData((function(e){e.loadFromJSON(A,(function(){t&&t(e)}))}))},cloneWithoutData:function(t){var e=x.util.createCanvasElement();e.width=this.width,e.height=this.height;var A=new x.Canvas(e);A.clipTo=this.clipTo,this.backgroundImage?(A.setBackgroundImage(this.backgroundImage.src,(function(){A.renderAll(),t&&t(A)})),A.backgroundImageOpacity=this.backgroundImageOpacity,A.backgroundImageStretch=this.backgroundImageStretch):t&&t(A)}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),A=e.util.object.extend,r=e.util.object.clone,n=e.util.toFixed,i=e.util.string.capitalize,o=e.util.degreesToRadians,s=e.StaticCanvas.supports("setLineDash"),a=!e.isLikelyNode;e.Object||(e.Object=e.util.createClass(e.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgba(102,153,255,0.75)",borderDashArray:null,cornerColor:"rgba(102,153,255,0.5)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,transformMatrix:null,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,hasRotatingPoint:!0,rotatingPointOffset:40,perPixelTargetFind:!1,includeDefaultValues:!0,clipTo:null,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockUniScaling:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:a,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow clipTo visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(t){t&&this.setOptions(t)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=e.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(t){var A=e.perfLimitSizeTotal,r=t.width,n=t.height,i=e.maxCacheSideLimit,o=e.minCacheSideLimit;if(r<=i&&n<=i&&r*n<=A)return r<o&&(t.width=o),n<o&&(t.height=o),t;var s=r/n,a=e.util.limitDimsByArea(s,A),c=e.util.capValue,u=c(o,a.x,i),h=c(o,a.y,i);return r>u&&(t.zoomX/=r/u,t.width=u,t.capped=!0),n>h&&(t.zoomY/=n/h,t.height=h,t.capped=!0),t},_getCacheCanvasDimensions:function(){var t=this.getTotalObjectScaling(),e=this._getNonTransformedDimensions(),A=t.scaleX,r=t.scaleY;return{width:e.x*A+2,height:e.y*r+2,zoomX:A,zoomY:r,x:e.x,y:e.y}},_updateCacheCanvas:function(){var t=this.canvas;if(this.noScaleCache&&t&&t._currentTransform){var A=t._currentTransform.target,r=t._currentTransform.action;if(this===A&&r.slice&&"scale"===r.slice(0,5))return!1}var n,i,o=this._cacheCanvas,s=this._limitCacheSize(this._getCacheCanvasDimensions()),a=e.minCacheSideLimit,c=s.width,u=s.height,h=s.zoomX,l=s.zoomY,f=c!==this.cacheWidth||u!==this.cacheHeight,d=this.zoomX!==h||this.zoomY!==l,p=f||d,g=0,v=0,y=!1;if(f){var B=this._cacheCanvas.width,w=this._cacheCanvas.height,m=c>B||u>w;y=m||(c<.9*B||u<.9*w)&&B>a&&w>a,m&&!s.capped&&(c>a||u>a)&&(g=.1*c,v=.1*u)}return!!p&&(y?(o.width=Math.ceil(c+g),o.height=Math.ceil(u+v)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,o.width,o.height)),n=s.x*h/2,i=s.y*l/2,this.cacheTranslationX=Math.round(o.width/2-n)+n,this.cacheTranslationY=Math.round(o.height/2-i)+i,this.cacheWidth=c,this.cacheHeight=u,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(h,l),this.zoomX=h,this.zoomY=l,!0)},setOptions:function(t){this._setOptions(t),this._initGradient(t.fill,"fill"),this._initGradient(t.stroke,"stroke"),this._initClipping(t),this._initPattern(t.fill,"fill"),this._initPattern(t.stroke,"stroke")},transform:function(t){var e;e=this.group&&!this.group._transformDone?this.calcTransformMatrix():this.calcOwnMatrix(),t.transform(e[0],e[1],e[2],e[3],e[4],e[5])},toObject:function(t){var A=e.Object.NUM_FRACTION_DIGITS,r={type:this.type,version:e.version,originX:this.originX,originY:this.originY,left:n(this.left,A),top:n(this.top,A),width:n(this.width,A),height:n(this.height,A),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:n(this.strokeWidth,A),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:n(this.strokeMiterLimit,A),scaleX:n(this.scaleX,A),scaleY:n(this.scaleY,A),angle:n(this.angle,A),flipX:this.flipX,flipY:this.flipY,opacity:n(this.opacity,A),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,clipTo:this.clipTo&&String(this.clipTo),backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,transformMatrix:this.transformMatrix?this.transformMatrix.concat():null,skewX:n(this.skewX,A),skewY:n(this.skewY,A)};return this.clipPath&&(r.clipPath=this.clipPath.toObject(t),r.clipPath.inverted=this.clipPath.inverted,r.clipPath.absolutePositioned=this.clipPath.absolutePositioned),e.util.populateWithProperties(this,r,t),this.includeDefaultValues||(r=this._removeDefaultValues(r)),r},toDatalessObject:function(t){return this.toObject(t)},_removeDefaultValues:function(t){var A=e.util.getKlass(t.type).prototype;return A.stateProperties.forEach((function(e){t[e]===A[e]&&delete t[e],"[object Array]"===Object.prototype.toString.call(t[e])&&"[object Array]"===Object.prototype.toString.call(A[e])&&0===t[e].length&&0===A[e].length&&delete t[e]})),t},toString:function(){return"#<fabric."+i(this.type)+">"},getObjectScaling:function(){var t=this.scaleX,e=this.scaleY;if(this.group){var A=this.group.getObjectScaling();t*=A.scaleX,e*=A.scaleY}return{scaleX:t,scaleY:e}},getTotalObjectScaling:function(){var t=this.getObjectScaling(),e=t.scaleX,A=t.scaleY;if(this.canvas){var r=this.canvas.getZoom(),n=this.canvas.getRetinaScaling();e*=r*n,A*=r*n}return{scaleX:e,scaleY:A}},getObjectOpacity:function(){var t=this.opacity;return this.group&&(t*=this.group.getObjectOpacity()),t},_set:function(t,A){var r="scaleX"===t||"scaleY"===t,n=this[t]!==A,i=!1;return r&&(A=this._constrainScale(A)),"scaleX"===t&&A<0?(this.flipX=!this.flipX,A*=-1):"scaleY"===t&&A<0?(this.flipY=!this.flipY,A*=-1):"shadow"!==t||!A||A instanceof e.Shadow?"dirty"===t&&this.group&&this.group.set("dirty",A):A=new e.Shadow(A),this[t]=A,n&&(i=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(t)>-1?(this.dirty=!0,i&&this.group.set("dirty",!0)):i&&this.stateProperties.indexOf(t)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:e.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||0===this.width&&0===this.height&&0===this.strokeWidth||!this.visible},render:function(t){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(t.save(),this._setupCompositeOperation(t),this.drawSelectionBackground(t),this.transform(t),this._setOpacity(t),this._setShadow(t,this),this.transformMatrix&&t.transform.apply(t,this.transformMatrix),this.clipTo&&e.util.clipContext(this,t),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(t)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(t),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),this.clipTo&&t.restore(),t.restore())},renderCache:function(t){t=t||{},this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,t.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},needsItsOwnCache:function(){return"stroke"===this.paintFirst&&"object"==typeof this.shadow||!!this.clipPath},shouldCache:function(){return this.ownCaching=this.objectCaching&&(!this.group||this.needsItsOwnCache()||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawClipPathOnCache:function(t){var A=this.clipPath;if(t.save(),A.inverted?t.globalCompositeOperation="destination-out":t.globalCompositeOperation="destination-in",A.absolutePositioned){var r=e.util.invertTransform(this.calcTransformMatrix());t.transform(r[0],r[1],r[2],r[3],r[4],r[5])}A.transform(t),t.scale(1/A.zoomX,1/A.zoomY),t.drawImage(A._cacheCanvas,-A.cacheTranslationX,-A.cacheTranslationY),t.restore()},drawObject:function(t,e){var A=this.fill,r=this.stroke;e?(this.fill="black",this.stroke="",this._setClippingProperties(t)):(this._renderBackground(t),this._setStrokeStyles(t,this),this._setFillStyles(t,this)),this._render(t),this._drawClipPath(t),this.fill=A,this.stroke=r},_drawClipPath:function(t){var e=this.clipPath;e&&(e.canvas=this.canvas,e.shouldCache(),e._transformDone=!0,e.renderCache({forClipping:!0}),this.drawClipPathOnCache(t))},drawCacheOnCanvas:function(t){t.scale(1/this.zoomX,1/this.zoomY),t.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(t){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!t&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!t){var e=this.cacheWidth/this.zoomX,A=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-e/2,-A/2,e,A)}return!0}return!1},_renderBackground:function(t){if(this.backgroundColor){var e=this._getNonTransformedDimensions();t.fillStyle=this.backgroundColor,t.fillRect(-e.x/2,-e.y/2,e.x,e.y),this._removeShadow(t)}},_setOpacity:function(t){this.group&&!this.group._transformDone?t.globalAlpha=this.getObjectOpacity():t.globalAlpha*=this.opacity},_setStrokeStyles:function(t,e){e.stroke&&(t.lineWidth=e.strokeWidth,t.lineCap=e.strokeLineCap,t.lineDashOffset=e.strokeDashOffset,t.lineJoin=e.strokeLineJoin,t.miterLimit=e.strokeMiterLimit,t.strokeStyle=e.stroke.toLive?e.stroke.toLive(t,this):e.stroke)},_setFillStyles:function(t,e){e.fill&&(t.fillStyle=e.fill.toLive?e.fill.toLive(t,this):e.fill)},_setClippingProperties:function(t){t.globalAlpha=1,t.strokeStyle="transparent",t.fillStyle="#000000"},_setLineDash:function(t,e,A){e&&(1&e.length&&e.push.apply(e,e),s?t.setLineDash(e):A&&A(t),this.strokeUniform&&t.setLineDash(t.getLineDash().map((function(e){return e*t.lineWidth}))))},_renderControls:function(t,A){var r,n,i,s=this.getViewportTransform(),a=this.calcTransformMatrix();n=void 0!==(A=A||{}).hasBorders?A.hasBorders:this.hasBorders,i=void 0!==A.hasControls?A.hasControls:this.hasControls,a=e.util.multiplyTransformMatrices(s,a),r=e.util.qrDecompose(a),t.save(),t.translate(r.translateX,r.translateY),t.lineWidth=1*this.borderScaleFactor,this.group||(t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),A.forActiveSelection?(t.rotate(o(r.angle)),n&&this.drawBordersInGroup(t,r,A)):(t.rotate(o(this.angle)),n&&this.drawBorders(t,A)),i&&this.drawControls(t,A),t.restore()},_setShadow:function(t){if(this.shadow){var A=this.shadow,r=this.canvas,n=r&&r.viewportTransform[0]||1,i=r&&r.viewportTransform[3]||1,o=this.getObjectScaling();r&&r._isRetinaScaling()&&(n*=e.devicePixelRatio,i*=e.devicePixelRatio),t.shadowColor=A.color,t.shadowBlur=A.blur*e.browserShadowBlurConstant*(n+i)*(o.scaleX+o.scaleY)/4,t.shadowOffsetX=A.offsetX*n*o.scaleX,t.shadowOffsetY=A.offsetY*i*o.scaleY}},_removeShadow:function(t){this.shadow&&(t.shadowColor="",t.shadowBlur=t.shadowOffsetX=t.shadowOffsetY=0)},_applyPatternGradientTransform:function(t,e){if(!e||!e.toLive)return{offsetX:0,offsetY:0};var A=e.gradientTransform||e.patternTransform,r=-this.width/2+e.offsetX||0,n=-this.height/2+e.offsetY||0;return t.translate(r,n),A&&t.transform(A[0],A[1],A[2],A[3],A[4],A[5]),{offsetX:r,offsetY:n}},_renderPaintInOrder:function(t){"stroke"===this.paintFirst?(this._renderStroke(t),this._renderFill(t)):(this._renderFill(t),this._renderStroke(t))},_renderFill:function(t){this.fill&&(t.save(),this._applyPatternGradientTransform(t,this.fill),"evenodd"===this.fillRule?t.fill("evenodd"):t.fill(),t.restore())},_renderStroke:function(t){this.stroke&&0!==this.strokeWidth&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this.strokeUniform&&t.scale(1/this.scaleX,1/this.scaleY),this._setLineDash(t,this.strokeDashArray,this._renderDashedStroke),this._applyPatternGradientTransform(t,this.stroke),t.stroke(),t.restore())},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var t=e.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",t.scaleX),this.set("scaleY",t.scaleY),this.angle=t.angle,this.skewX=t.skewX,this.skewY=0}},_removeTransformMatrix:function(t){var A=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),A=e.util.transformPoint(A,this.transformMatrix)),this.transformMatrix=null,t&&(this.scaleX*=t.scaleX,this.scaleY*=t.scaleY,this.cropX=t.cropX,this.cropY=t.cropY,A.x+=t.offsetLeft,A.y+=t.offsetTop,this.width=t.width,this.height=t.height),this.setPositionByOrigin(A,"center","center")},clone:function(t,A){var r=this.toObject(A);this.constructor.fromObject?this.constructor.fromObject(r,t):e.Object._fromObject("Object",r,t)},cloneAsImage:function(t,A){var r=this.toCanvasElement(A);return t&&t(new e.Image(r)),this},toCanvasElement:function(t){t||(t={});var A=e.util,r=A.saveObjectTransform(this),n=this.shadow,i=Math.abs,o=(t.multiplier||1)*(t.enableRetinaScaling?e.devicePixelRatio:1);t.withoutTransform&&A.resetObjectTransform(this),t.withoutShadow&&(this.shadow=null);var s,a,c=e.util.createCanvasElement(),u=this.getBoundingRect(!0,!0),h=this.shadow,l={x:0,y:0};h&&(a=h.blur,s=this.getObjectScaling(),l.x=2*Math.round((i(h.offsetX)+a)*i(s.scaleX)),l.y=2*Math.round((i(h.offsetY)+a)*i(s.scaleY))),c.width=u.width+l.x,c.height=u.height+l.y,c.width+=c.width%2?2-c.width%2:0,c.height+=c.height%2?2-c.height%2:0;var f=new e.StaticCanvas(c,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});"jpeg"===t.format&&(f.backgroundColor="#fff"),this.setPositionByOrigin(new e.Point(f.width/2,f.height/2),"center","center");var d=this.canvas;f.add(this);var p=f.toCanvasElement(o||1,t);return this.shadow=n,this.canvas=d,this.set(r).setCoords(),f._objects=[],f.dispose(),f=null,p},toDataURL:function(t){return t||(t={}),e.util.toDataURL(this.toCanvasElement(t),t.format||"png",t.quality||1)},isType:function(t){return this.type===t},complexity:function(){return 1},toJSON:function(t){return this.toObject(t)},setGradient:function(t,A){A||(A={});var r={colorStops:[]};return r.type=A.type||(A.r1||A.r2?"radial":"linear"),r.coords={x1:A.x1,y1:A.y1,x2:A.x2,y2:A.y2},(A.r1||A.r2)&&(r.coords.r1=A.r1,r.coords.r2=A.r2),r.gradientTransform=A.gradientTransform,e.Gradient.prototype.addColorStop.call(r,A.colorStops),this.set(t,e.Gradient.forObject(this,r))},setPatternFill:function(t,A){return this.set("fill",new e.Pattern(t,A))},setShadow:function(t){return this.set("shadow",t?new e.Shadow(t):null)},setColor:function(t){return this.set("fill",t),this},rotate:function(t){var e=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return e&&this._setOriginToCenter(),this.set("angle",t),e&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(t,A){A=A||this.canvas.getPointer(t);var r=new e.Point(A.x,A.y),n=this._getLeftTopCoords();return this.angle&&(r=e.util.rotatePoint(r,n,o(-this.angle))),{x:r.x-n.x,y:r.y-n.y}},_setupCompositeOperation:function(t){this.globalCompositeOperation&&(t.globalCompositeOperation=this.globalCompositeOperation)}}),e.util.createAccessors&&e.util.createAccessors(e.Object),A(e.Object.prototype,e.Observable),e.Object.NUM_FRACTION_DIGITS=2,e.Object._fromObject=function(t,A,n,i){var o=e[t];A=r(A,!0),e.util.enlivenPatterns([A.fill,A.stroke],(function(t){void 0!==t[0]&&(A.fill=t[0]),void 0!==t[1]&&(A.stroke=t[1]),e.util.enlivenObjects([A.clipPath],(function(t){A.clipPath=t[0];var e=i?new o(A[i],A):new o(A);n&&n(e)}))}))},e.Object.__uid=0)}(e),y=x.util.degreesToRadians,B={left:-.5,center:0,right:.5},w={top:-.5,center:0,bottom:.5},x.util.object.extend(x.Object.prototype,{translateToGivenOrigin:function(t,e,A,r,n){var i,o,s,a=t.x,c=t.y;return"string"==typeof e?e=B[e]:e-=.5,"string"==typeof r?r=B[r]:r-=.5,"string"==typeof A?A=w[A]:A-=.5,"string"==typeof n?n=w[n]:n-=.5,o=n-A,((i=r-e)||o)&&(s=this._getTransformedDimensions(),a=t.x+i*s.x,c=t.y+o*s.y),new x.Point(a,c)},translateToCenterPoint:function(t,e,A){var r=this.translateToGivenOrigin(t,e,A,"center","center");return this.angle?x.util.rotatePoint(r,t,y(this.angle)):r},translateToOriginPoint:function(t,e,A){var r=this.translateToGivenOrigin(t,"center","center",e,A);return this.angle?x.util.rotatePoint(r,t,y(this.angle)):r},getCenterPoint:function(){var t=new x.Point(this.left,this.top);return this.translateToCenterPoint(t,this.originX,this.originY)},getPointByOrigin:function(t,e){var A=this.getCenterPoint();return this.translateToOriginPoint(A,t,e)},toLocalPoint:function(t,e,A){var r,n,i=this.getCenterPoint();return r=void 0!==e&&void 0!==A?this.translateToGivenOrigin(i,"center","center",e,A):new x.Point(this.left,this.top),n=new x.Point(t.x,t.y),this.angle&&(n=x.util.rotatePoint(n,i,-y(this.angle))),n.subtractEquals(r)},setPositionByOrigin:function(t,e,A){var r=this.translateToCenterPoint(t,e,A),n=this.translateToOriginPoint(r,this.originX,this.originY);this.set("left",n.x),this.set("top",n.y)},adjustPosition:function(t){var e,A,r=y(this.angle),n=this.getScaledWidth(),i=x.util.cos(r)*n,o=x.util.sin(r)*n;e="string"==typeof this.originX?B[this.originX]:this.originX-.5,A="string"==typeof t?B[t]:t-.5,this.left+=i*(A-e),this.top+=o*(A-e),this.setCoords(),this.originX=t},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var t=this.getCenterPoint();this.originX="center",this.originY="center",this.left=t.x,this.top=t.y},_resetOrigin:function(){var t=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=t.x,this.top=t.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}}),function(){var t=x.util.degreesToRadians,e=x.util.multiplyTransformMatrices,A=x.util.transformPoint;x.util.object.extend(x.Object.prototype,{oCoords:null,aCoords:null,ownMatrixCache:null,matrixCache:null,getCoords:function(t,e){this.oCoords||this.setCoords();var A=t?this.aCoords:this.oCoords;return function(t){return[new x.Point(t.tl.x,t.tl.y),new x.Point(t.tr.x,t.tr.y),new x.Point(t.br.x,t.br.y),new x.Point(t.bl.x,t.bl.y)]}(e?this.calcCoords(t):A)},intersectsWithRect:function(t,e,A,r){var n=this.getCoords(A,r);return"Intersection"===x.Intersection.intersectPolygonRectangle(n,t,e).status},intersectsWithObject:function(t,e,A){return"Intersection"===x.Intersection.intersectPolygonPolygon(this.getCoords(e,A),t.getCoords(e,A)).status||t.isContainedWithinObject(this,e,A)||this.isContainedWithinObject(t,e,A)},isContainedWithinObject:function(t,e,A){for(var r=this.getCoords(e,A),n=0,i=t._getImageLines(A?t.calcCoords(e):e?t.aCoords:t.oCoords);n<4;n++)if(!t.containsPoint(r[n],i))return!1;return!0},isContainedWithinRect:function(t,e,A,r){var n=this.getBoundingRect(A,r);return n.left>=t.x&&n.left+n.width<=e.x&&n.top>=t.y&&n.top+n.height<=e.y},containsPoint:function(t,e,A,r){e=e||this._getImageLines(r?this.calcCoords(A):A?this.aCoords:this.oCoords);var n=this._findCrossPoints(t,e);return 0!==n&&n%2==1},isOnScreen:function(t){if(!this.canvas)return!1;for(var e,A=this.canvas.vptCoords.tl,r=this.canvas.vptCoords.br,n=this.getCoords(!0,t),i=0;i<4;i++)if((e=n[i]).x<=r.x&&e.x>=A.x&&e.y<=r.y&&e.y>=A.y)return!0;return!!this.intersectsWithRect(A,r,!0,t)||this._containsCenterOfCanvas(A,r,t)},_containsCenterOfCanvas:function(t,e,A){var r={x:(t.x+e.x)/2,y:(t.y+e.y)/2};return!!this.containsPoint(r,null,!0,A)},isPartiallyOnScreen:function(t){if(!this.canvas)return!1;var e=this.canvas.vptCoords.tl,A=this.canvas.vptCoords.br;return!!this.intersectsWithRect(e,A,!0,t)||this._containsCenterOfCanvas(e,A,t)},_getImageLines:function(t){return{topline:{o:t.tl,d:t.tr},rightline:{o:t.tr,d:t.br},bottomline:{o:t.br,d:t.bl},leftline:{o:t.bl,d:t.tl}}},_findCrossPoints:function(t,e){var A,r,n,i=0;for(var o in e)if(!((n=e[o]).o.y<t.y&&n.d.y<t.y||n.o.y>=t.y&&n.d.y>=t.y||(n.o.x===n.d.x&&n.o.x>=t.x?r=n.o.x:(0,A=(n.d.y-n.o.y)/(n.d.x-n.o.x),r=-(t.y-0*t.x-(n.o.y-A*n.o.x))/(0-A)),r>=t.x&&(i+=1),2!==i)))break;return i},getBoundingRect:function(t,e){var A=this.getCoords(t,e);return x.util.makeBoundingBoxFromPoints(A)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(t){return Math.abs(t)<this.minScaleLimit?t<0?-this.minScaleLimit:this.minScaleLimit:0===t?1e-4:t},scale:function(t){return this._set("scaleX",t),this._set("scaleY",t),this.setCoords()},scaleToWidth:function(t,e){var A=this.getBoundingRect(e).width/this.getScaledWidth();return this.scale(t/this.width/A)},scaleToHeight:function(t,e){var A=this.getBoundingRect(e).height/this.getScaledHeight();return this.scale(t/this.height/A)},calcCoords:function(r){var n=this._calcRotateMatrix(),i=this._calcTranslateMatrix(),o=e(i,n),s=this.getViewportTransform(),a=r?o:e(s,o),c=this._getTransformedDimensions(),u=c.x/2,h=c.y/2,l=A({x:-u,y:-h},a),f=A({x:u,y:-h},a),d=A({x:-u,y:h},a),p=A({x:u,y:h},a);if(!r){var g=this.padding,v=t(this.angle),y=x.util.cos(v),B=x.util.sin(v),w=y*g,m=B*g,C=w+m,b=w-m;g&&(l.x-=b,l.y-=C,f.x+=C,f.y-=b,d.x-=C,d.y+=b,p.x+=b,p.y+=C);var _=new x.Point((l.x+d.x)/2,(l.y+d.y)/2),E=new x.Point((f.x+l.x)/2,(f.y+l.y)/2),F=new x.Point((p.x+f.x)/2,(p.y+f.y)/2),Q=new x.Point((p.x+d.x)/2,(p.y+d.y)/2),U=new x.Point(E.x+B*this.rotatingPointOffset,E.y-y*this.rotatingPointOffset)}var S={tl:l,tr:f,br:p,bl:d};return r||(S.ml=_,S.mt=E,S.mr=F,S.mb=Q,S.mtr=U),S},setCoords:function(t,e){return this.oCoords=this.calcCoords(t),e||(this.aCoords=this.calcCoords(!0)),t||this._setCornerCoords&&this._setCornerCoords(),this},_calcRotateMatrix:function(){if(this.angle){var e=t(this.angle),A=x.util.cos(e),r=x.util.sin(e);return[A,r,-r,A,0,0]}return x.iMatrix.concat()},_calcTranslateMatrix:function(){var t=this.getCenterPoint();return[1,0,0,1,t.x,t.y]},transformMatrixKey:function(t){var e="";return!t&&this.group&&(e=this.group.transformMatrixKey(t)+"_"),e+this.top+"_"+this.left+"_"+this.scaleX+"_"+this.scaleY+"_"+this.skewX+"_"+this.skewY+"_"+this.angle+"_"+this.originX+"_"+this.originY+"_"+this.width+"_"+this.height+"_"+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(t){if(t)return this.calcOwnMatrix();var A=this.transformMatrixKey(),r=this.matrixCache||(this.matrixCache={});if(r.key===A)return r.value;var n=this.calcOwnMatrix();return this.group&&(n=e(this.group.calcTransformMatrix(),n)),r.key=A,r.value=n,n},calcOwnMatrix:function(){var t=this.transformMatrixKey(!0),A=this.ownMatrixCache||(this.ownMatrixCache={});if(A.key===t)return A.value;var r,n=this._calcTranslateMatrix(),i=this._calcDimensionsTransformMatrix(this.skewX,this.skewY,!0);return this.angle&&(r=this._calcRotateMatrix(),n=e(n,r)),n=e(n,i),A.key=t,A.value=n,n},_calcDimensionsTransformMatrix:function(A,r,n){var i,o=[this.scaleX*(n&&this.flipX?-1:1),0,0,this.scaleY*(n&&this.flipY?-1:1),0,0];return A&&(i=[1,0,Math.tan(t(A)),1],o=e(o,i,!0)),r&&(i=[1,Math.tan(t(r)),0,1],o=e(o,i,!0)),o},_getNonTransformedDimensions:function(){var t=this.strokeWidth;return{x:this.width+t,y:this.height+t}},_getTransformedDimensions:function(t,e){void 0===t&&(t=this.skewX),void 0===e&&(e=this.skewY);var A,r,n=this._getNonTransformedDimensions(),i=0===t&&0===e;if(this.strokeUniform?(A=this.width,r=this.height):(A=n.x,r=n.y),i)return this._finalizeDiemensions(A*this.scaleX,r*this.scaleY);var o,s,a=[{x:-(A/=2),y:-(r/=2)},{x:A,y:-r},{x:-A,y:r},{x:A,y:r}],c=this._calcDimensionsTransformMatrix(t,e,!1);for(o=0;o<a.length;o++)a[o]=x.util.transformPoint(a[o],c);return s=x.util.makeBoundingBoxFromPoints(a),this._finalizeDiemensions(s.width,s.height)},_finalizeDiemensions:function(t,e){return this.strokeUniform?{x:t+this.strokeWidth,y:e+this.strokeWidth}:{x:t,y:e}},_calculateCurrentDimensions:function(){var t=this.getViewportTransform(),e=this._getTransformedDimensions();return x.util.transformPoint(e,t,!0).scalarAdd(2*this.padding)}})}(),x.util.object.extend(x.Object.prototype,{sendToBack:function(){return this.group?x.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?x.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas.bringToFront(this),this},sendBackwards:function(t){return this.group?x.StaticCanvas.prototype.sendBackwards.call(this.group,this,t):this.canvas.sendBackwards(this,t),this},bringForward:function(t){return this.group?x.StaticCanvas.prototype.bringForward.call(this.group,this,t):this.canvas.bringForward(this,t),this},moveTo:function(t){return this.group&&"activeSelection"!==this.group.type?x.StaticCanvas.prototype.moveTo.call(this.group,this,t):this.canvas.moveTo(this,t),this}}),function(){function t(t,e){if(e){if(e.toLive)return t+": url(#SVGID_"+e.id+"); ";var A=new x.Color(e),r=t+": "+A.toRgb()+"; ",n=A.getAlpha();return 1!==n&&(r+=t+"-opacity: "+n.toString()+"; "),r}return t+": none; "}var e=x.util.toFixed;x.util.object.extend(x.Object.prototype,{getSvgStyles:function(e){var A=this.fillRule?this.fillRule:"nonzero",r=this.strokeWidth?this.strokeWidth:"0",n=this.strokeDashArray?this.strokeDashArray.join(" "):"none",i=this.strokeDashOffset?this.strokeDashOffset:"0",o=this.strokeLineCap?this.strokeLineCap:"butt",s=this.strokeLineJoin?this.strokeLineJoin:"miter",a=this.strokeMiterLimit?this.strokeMiterLimit:"4",c=void 0!==this.opacity?this.opacity:"1",u=this.visible?"":" visibility: hidden;",h=e?"":this.getSvgFilter(),l=t("fill",this.fill);return[t("stroke",this.stroke),"stroke-width: ",r,"; ","stroke-dasharray: ",n,"; ","stroke-linecap: ",o,"; ","stroke-dashoffset: ",i,"; ","stroke-linejoin: ",s,"; ","stroke-miterlimit: ",a,"; ",l,"fill-rule: ",A,"; ","opacity: ",c,";",h,u].join("")},getSvgSpanStyles:function(e,A){var r=e.fontFamily?"font-family: "+(-1===e.fontFamily.indexOf("'")&&-1===e.fontFamily.indexOf('"')?"'"+e.fontFamily+"'":e.fontFamily)+"; ":"",n=e.strokeWidth?"stroke-width: "+e.strokeWidth+"; ":"",i=(r=r,e.fontSize?"font-size: "+e.fontSize+"px; ":""),o=e.fontStyle?"font-style: "+e.fontStyle+"; ":"",s=e.fontWeight?"font-weight: "+e.fontWeight+"; ":"",a=e.fill?t("fill",e.fill):"",c=e.stroke?t("stroke",e.stroke):"",u=this.getSvgTextDecoration(e);return u&&(u="text-decoration: "+u+"; "),[c,n,r,i,o,s,u,a,e.deltaY?"baseline-shift: "+-e.deltaY+"; ":"",A?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(t){return"overline"in t||"underline"in t||"linethrough"in t?(t.overline?"overline ":"")+(t.underline?"underline ":"")+(t.linethrough?"line-through ":""):""},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(t,A){return'transform="matrix('+(t?this.calcTransformMatrix():this.calcOwnMatrix()).map((function(t){return e(t,x.Object.NUM_FRACTION_DIGITS)})).join(" ")+")"+(A||"")+this.getSvgTransformMatrix()+'" '},getSvgTransformMatrix:function(){return this.transformMatrix?" matrix("+this.transformMatrix.join(" ")+")":""},_setSVGBg:function(t){if(this.backgroundColor){var A=x.Object.NUM_FRACTION_DIGITS;t.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',e(-this.width/2,A),'" y="',e(-this.height/2,A),'" width="',e(this.width,A),'" height="',e(this.height,A),'"></rect>\n')}},toSVG:function(t){return this._createBaseSVGMarkup(this._toSVG(),{reviver:t})},toClipPathSVG:function(t){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:t})},_createBaseClipPathSVGMarkup:function(t,e){var A=(e=e||{}).reviver,r=e.additionalTransform||"",n=[this.getSvgTransform(!0,r),this.getSvgCommons()].join(""),i=t.indexOf("COMMON_PARTS");return t[i]=n,A?A(t.join("")):t.join("")},_createBaseSVGMarkup:function(t,e){var A,r,n=(e=e||{}).noStyle,i=e.withShadow,o=e.reviver,s=n?"":'style="'+this.getSvgStyles()+'" ',a=i?'style="'+this.getSvgFilter()+'" ':"",c=this.clipPath,u=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",h=this.clipPath&&this.clipPath.absolutePositioned,l=[],f=t.indexOf("COMMON_PARTS"),d=e.additionalTransform;return c&&(c.clipPathId="CLIPPATH_"+x.Object.__uid++,r='<clipPath id="'+c.clipPathId+'" >\n'+this.clipPath.toClipPathSVG(o)+"</clipPath>\n"),h&&l.push("<g ",a,this.getSvgCommons()," >\n"),l.push("<g ",this.getSvgTransform(!1),h?"":a+this.getSvgCommons()," >\n"),A=[s,u,n?"":this.addPaintOrder()," ",d?'transform="'+d+'" ':""].join(""),t[f]=A,this.fill&&this.fill.toLive&&l.push(this.fill.toSVG(this,!1)),this.stroke&&this.stroke.toLive&&l.push(this.stroke.toSVG(this,!1)),this.shadow&&l.push(this.shadow.toSVG(this)),c&&l.push(r),l.push(t.join("")),l.push("</g>\n"),h&&l.push("</g>\n"),o?o(l.join("")):l.join("")},addPaintOrder:function(){return"fill"!==this.paintFirst?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var t=x.util.object.extend;function e(e,A,r){var n={};r.forEach((function(t){n[t]=e[t]})),t(e[A],n,!0)}x.util.object.extend(x.Object.prototype,{hasStateChanged:function(t){var e="_"+(t=t||"stateProperties");return Object.keys(this[e]).length<this[t].length||!function t(e,A,r){if(e===A)return!0;if(Array.isArray(e)){if(!Array.isArray(A)||e.length!==A.length)return!1;for(var n=0,i=e.length;n<i;n++)if(!t(e[n],A[n]))return!1;return!0}if(e&&"object"==typeof e){var o,s=Object.keys(e);if(!A||"object"!=typeof A||!r&&s.length!==Object.keys(A).length)return!1;for(n=0,i=s.length;n<i;n++)if("canvas"!==(o=s[n])&&!t(e[o],A[o]))return!1;return!0}}(this[e],this,!0)},saveState:function(t){var A=t&&t.propertySet||"stateProperties",r="_"+A;return this[r]?(e(this,r,this[A]),t&&t.stateProperties&&e(this,r,t.stateProperties),this):this.setupState(t)},setupState:function(t){var e=(t=t||{}).propertySet||"stateProperties";return t.propertySet=e,this["_"+e]={},this.saveState(t),this}})}(),function(){var t=x.util.degreesToRadians;x.util.object.extend(x.Object.prototype,{_controlsVisibility:null,_findTargetCorner:function(t){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var e,A,r=t.x,n=t.y;for(var i in this.__corner=0,this.oCoords)if(this.isControlVisible(i)&&("mtr"!==i||this.hasRotatingPoint)&&(!this.get("lockUniScaling")||"mt"!==i&&"mr"!==i&&"mb"!==i&&"ml"!==i)&&(A=this._getImageLines(this.oCoords[i].corner),0!==(e=this._findCrossPoints({x:r,y:n},A))&&e%2==1))return this.__corner=i,i;return!1},_setCornerCoords:function(){var e,A,r=this.oCoords,n=t(45-this.angle),i=.707106*this.cornerSize,o=i*x.util.cos(n),s=i*x.util.sin(n);for(var a in r)e=r[a].x,A=r[a].y,r[a].corner={tl:{x:e-s,y:A-o},tr:{x:e+o,y:A-s},bl:{x:e-o,y:A+s},br:{x:e+s,y:A+o}}},drawSelectionBackground:function(e){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;e.save();var A=this.getCenterPoint(),r=this._calculateCurrentDimensions(),n=this.canvas.viewportTransform;return e.translate(A.x,A.y),e.scale(1/n[0],1/n[3]),e.rotate(t(this.angle)),e.fillStyle=this.selectionBackgroundColor,e.fillRect(-r.x/2,-r.y/2,r.x,r.y),e.restore(),this},drawBorders:function(t,e){e=e||{};var A=this._calculateCurrentDimensions(),r=1/this.borderScaleFactor,n=A.x+r,i=A.y+r,o=void 0!==e.hasRotatingPoint?e.hasRotatingPoint:this.hasRotatingPoint,s=void 0!==e.hasControls?e.hasControls:this.hasControls,a=void 0!==e.rotatingPointOffset?e.rotatingPointOffset:this.rotatingPointOffset;if(t.save(),t.strokeStyle=e.borderColor||this.borderColor,this._setLineDash(t,e.borderDashArray||this.borderDashArray,null),t.strokeRect(-n/2,-i/2,n,i),o&&this.isControlVisible("mtr")&&s){var c=-i/2;t.beginPath(),t.moveTo(0,c),t.lineTo(0,c-a),t.stroke()}return t.restore(),this},drawBordersInGroup:function(t,e,A){A=A||{};var r=this._getNonTransformedDimensions(),n=x.util.customTransformMatrix(e.scaleX,e.scaleY,e.skewX),i=x.util.transformPoint(r,n),o=1/this.borderScaleFactor,s=i.x+o,a=i.y+o;return t.save(),this._setLineDash(t,A.borderDashArray||this.borderDashArray,null),t.strokeStyle=A.borderColor||this.borderColor,t.strokeRect(-s/2,-a/2,s,a),t.restore(),this},drawControls:function(t,e){e=e||{};var A=this._calculateCurrentDimensions(),r=A.x,n=A.y,i=e.cornerSize||this.cornerSize,o=-(r+i)/2,s=-(n+i)/2,a=void 0!==e.transparentCorners?e.transparentCorners:this.transparentCorners,c=void 0!==e.hasRotatingPoint?e.hasRotatingPoint:this.hasRotatingPoint,u=a?"stroke":"fill";return t.save(),t.strokeStyle=t.fillStyle=e.cornerColor||this.cornerColor,this.transparentCorners||(t.strokeStyle=e.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(t,e.cornerDashArray||this.cornerDashArray,null),this._drawControl("tl",t,u,o,s,e),this._drawControl("tr",t,u,o+r,s,e),this._drawControl("bl",t,u,o,s+n,e),this._drawControl("br",t,u,o+r,s+n,e),this.get("lockUniScaling")||(this._drawControl("mt",t,u,o+r/2,s,e),this._drawControl("mb",t,u,o+r/2,s+n,e),this._drawControl("mr",t,u,o+r,s+n/2,e),this._drawControl("ml",t,u,o,s+n/2,e)),c&&this._drawControl("mtr",t,u,o+r/2,s-this.rotatingPointOffset,e),t.restore(),this},_drawControl:function(t,e,A,r,n,i){if(i=i||{},this.isControlVisible(t)){var o=this.cornerSize,s=!this.transparentCorners&&this.cornerStrokeColor;switch(i.cornerStyle||this.cornerStyle){case"circle":e.beginPath(),e.arc(r+o/2,n+o/2,o/2,0,2*Math.PI,!1),e[A](),s&&e.stroke();break;default:this.transparentCorners||e.clearRect(r,n,o,o),e[A+"Rect"](r,n,o,o),s&&e.strokeRect(r,n,o,o)}}},isControlVisible:function(t){return this._getControlsVisibility()[t]},setControlVisible:function(t,e){return this._getControlsVisibility()[t]=e,this},setControlsVisibility:function(t){for(var e in t||(t={}),t)this.setControlVisible(e,t[e]);return this},_getControlsVisibility:function(){return this._controlsVisibility||(this._controlsVisibility={tl:!0,tr:!0,br:!0,bl:!0,ml:!0,mt:!0,mr:!0,mb:!0,mtr:!0}),this._controlsVisibility},onDeselect:function(){},onSelect:function(){}})}(),x.util.object.extend(x.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(t,e){var A=function(){},r=(e=e||{}).onComplete||A,n=e.onChange||A,i=this;return x.util.animate({startValue:t.left,endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(e){t.set("left",e),i.requestRenderAll(),n()},onComplete:function(){t.setCoords(),r()}}),this},fxCenterObjectV:function(t,e){var A=function(){},r=(e=e||{}).onComplete||A,n=e.onChange||A,i=this;return x.util.animate({startValue:t.top,endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(e){t.set("top",e),i.requestRenderAll(),n()},onComplete:function(){t.setCoords(),r()}}),this},fxRemove:function(t,e){var A=function(){},r=(e=e||{}).onComplete||A,n=e.onChange||A,i=this;return x.util.animate({startValue:t.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(e){t.set("opacity",e),i.requestRenderAll(),n()},onComplete:function(){i.remove(t),r()}}),this}}),x.util.object.extend(x.Object.prototype,{animate:function(){if(arguments[0]&&"object"==typeof arguments[0]){var t,e,A=[];for(t in arguments[0])A.push(t);for(var r=0,n=A.length;r<n;r++)t=A[r],e=r!==n-1,this._animate(t,arguments[0][t],arguments[1],e)}else this._animate.apply(this,arguments);return this},_animate:function(t,e,A,r){var n,i=this;e=e.toString(),A=A?x.util.object.clone(A):{},~t.indexOf(".")&&(n=t.split("."));var o=n?this.get(n[0])[n[1]]:this.get(t);"from"in A||(A.from=o),e=~e.indexOf("=")?o+parseFloat(e.replace("=","")):parseFloat(e),x.util.animate({startValue:A.from,endValue:e,byValue:A.by,easing:A.easing,duration:A.duration,abort:A.abort&&function(){return A.abort.call(i)},onChange:function(e,o,s){n?i[n[0]][n[1]]=e:i.set(t,e),r||A.onChange&&A.onChange(e,o,s)},onComplete:function(t,e,n){r||(i.setCoords(),A.onComplete&&A.onComplete(t,e,n))}})}}),function(t){"use strict";var e=t.fabric||(t.fabric={}),A=e.util.object.extend,r=e.util.object.clone,n={x1:1,x2:1,y1:1,y2:1},i=e.StaticCanvas.supports("setLineDash");function o(t,e){var A=t.origin,r=t.axis1,n=t.axis2,i=t.dimension,o=e.nearest,s=e.center,a=e.farthest;return function(){switch(this.get(A)){case o:return Math.min(this.get(r),this.get(n));case s:return Math.min(this.get(r),this.get(n))+.5*this.get(i);case a:return Math.max(this.get(r),this.get(n))}}}e.Line?e.warn("fabric.Line is already defined"):(e.Line=e.util.createClass(e.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:e.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(t,e){t||(t=[0,0,0,0]),this.callSuper("initialize",e),this.set("x1",t[0]),this.set("y1",t[1]),this.set("x2",t[2]),this.set("y2",t[3]),this._setWidthHeight(e)},_setWidthHeight:function(t){t||(t={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in t?t.left:this._getLeftToOriginX(),this.top="top"in t?t.top:this._getTopToOriginY()},_set:function(t,e){return this.callSuper("_set",t,e),void 0!==n[t]&&this._setWidthHeight(),this},_getLeftToOriginX:o({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:o({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(t){if(t.beginPath(),!this.strokeDashArray||this.strokeDashArray&&i){var e=this.calcLinePoints();t.moveTo(e.x1,e.y1),t.lineTo(e.x2,e.y2)}t.lineWidth=this.strokeWidth;var A=t.strokeStyle;t.strokeStyle=this.stroke||t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=A},_renderDashedStroke:function(t){var A=this.calcLinePoints();t.beginPath(),e.util.drawDashedLine(t,A.x1,A.y1,A.x2,A.y2,this.strokeDashArray),t.closePath()},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(t){return A(this.callSuper("toObject",t),this.calcLinePoints())},_getNonTransformedDimensions:function(){var t=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(t.y-=this.strokeWidth),0===this.height&&(t.x-=this.strokeWidth)),t},calcLinePoints:function(){var t=this.x1<=this.x2?-1:1,e=this.y1<=this.y2?-1:1,A=t*this.width*.5,r=e*this.height*.5;return{x1:A,x2:t*this.width*-.5,y1:r,y2:e*this.height*-.5}},_toSVG:function(){var t=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',t.x1,'" y1="',t.y1,'" x2="',t.x2,'" y2="',t.y2,'" />\n']}}),e.Line.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),e.Line.fromElement=function(t,r,n){n=n||{};var i=e.parseAttributes(t,e.Line.ATTRIBUTE_NAMES),o=[i.x1||0,i.y1||0,i.x2||0,i.y2||0];r(new e.Line(o,A(i,n)))},e.Line.fromObject=function(t,A){var n=r(t,!0);n.points=[t.x1,t.y1,t.x2,t.y2],e.Object._fromObject("Line",n,(function(t){delete t.points,A&&A(t)}),"points")})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),A=Math.PI;e.Circle?e.warn("fabric.Circle is already defined."):(e.Circle=e.util.createClass(e.Object,{type:"circle",radius:0,startAngle:0,endAngle:2*A,cacheProperties:e.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(t,e){return this.callSuper("_set",t,e),"radius"===t&&this.setRadius(e),this},toObject:function(t){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(t))},_toSVG:function(){var t,r=(this.endAngle-this.startAngle)%(2*A);if(0===r)t=["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',this.radius,'" />\n'];else{var n=e.util.cos(this.startAngle)*this.radius,i=e.util.sin(this.startAngle)*this.radius,o=e.util.cos(this.endAngle)*this.radius,s=e.util.sin(this.endAngle)*this.radius,a=r>A?"1":"0";t=['<path d="M '+n+" "+i," A "+this.radius+" "+this.radius," 0 ",+a+" 1"," "+o+" "+s,'" ',"COMMON_PARTS"," />\n"]}return t},_render:function(t){t.beginPath(),t.arc(0,0,this.radius,this.startAngle,this.endAngle,!1),this._renderPaintInOrder(t)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(t){return this.radius=t,this.set("width",2*t).set("height",2*t)}}),e.Circle.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),e.Circle.fromElement=function(t,A){var r,n=e.parseAttributes(t,e.Circle.ATTRIBUTE_NAMES);if(!("radius"in(r=n)&&r.radius>=0))throw new Error("value of `r` attribute is required and can not be negative");n.left=(n.left||0)-n.radius,n.top=(n.top||0)-n.radius,A(new e.Circle(n))},e.Circle.fromObject=function(t,A){return e.Object._fromObject("Circle",t,A)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Triangle?e.warn("fabric.Triangle is already defined"):(e.Triangle=e.util.createClass(e.Object,{type:"triangle",width:100,height:100,_render:function(t){var e=this.width/2,A=this.height/2;t.beginPath(),t.moveTo(-e,A),t.lineTo(0,-A),t.lineTo(e,A),t.closePath(),this._renderPaintInOrder(t)},_renderDashedStroke:function(t){var A=this.width/2,r=this.height/2;t.beginPath(),e.util.drawDashedLine(t,-A,r,0,-r,this.strokeDashArray),e.util.drawDashedLine(t,0,-r,A,r,this.strokeDashArray),e.util.drawDashedLine(t,A,r,-A,r,this.strokeDashArray),t.closePath()},_toSVG:function(){var t=this.width/2,e=this.height/2;return["<polygon ","COMMON_PARTS",'points="',[-t+" "+e,"0 "+-e,t+" "+e].join(","),'" />']}}),e.Triangle.fromObject=function(t,A){return e.Object._fromObject("Triangle",t,A)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),A=2*Math.PI;e.Ellipse?e.warn("fabric.Ellipse is already defined."):(e.Ellipse=e.util.createClass(e.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:e.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(t){this.callSuper("initialize",t),this.set("rx",t&&t.rx||0),this.set("ry",t&&t.ry||0)},_set:function(t,e){switch(this.callSuper("_set",t,e),t){case"rx":this.rx=e,this.set("width",2*e);break;case"ry":this.ry=e,this.set("height",2*e)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,'" />\n']},_render:function(t){t.beginPath(),t.save(),t.transform(1,0,0,this.ry/this.rx,0,0),t.arc(0,0,this.rx,0,A,!1),t.restore(),this._renderPaintInOrder(t)}}),e.Ellipse.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),e.Ellipse.fromElement=function(t,A){var r=e.parseAttributes(t,e.Ellipse.ATTRIBUTE_NAMES);r.left=(r.left||0)-r.rx,r.top=(r.top||0)-r.ry,A(new e.Ellipse(r))},e.Ellipse.fromObject=function(t,A){return e.Object._fromObject("Ellipse",t,A)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),A=e.util.object.extend;e.Rect?e.warn("fabric.Rect is already defined"):(e.Rect=e.util.createClass(e.Object,{stateProperties:e.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:e.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(t){this.callSuper("initialize",t),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(t){var e=this.rx?Math.min(this.rx,this.width/2):0,A=this.ry?Math.min(this.ry,this.height/2):0,r=this.width,n=this.height,i=-this.width/2,o=-this.height/2,s=0!==e||0!==A,a=.4477152502;t.beginPath(),t.moveTo(i+e,o),t.lineTo(i+r-e,o),s&&t.bezierCurveTo(i+r-a*e,o,i+r,o+a*A,i+r,o+A),t.lineTo(i+r,o+n-A),s&&t.bezierCurveTo(i+r,o+n-a*A,i+r-a*e,o+n,i+r-e,o+n),t.lineTo(i+e,o+n),s&&t.bezierCurveTo(i+a*e,o+n,i,o+n-a*A,i,o+n-A),t.lineTo(i,o+A),s&&t.bezierCurveTo(i,o+a*A,i+a*e,o,i+e,o),t.closePath(),this._renderPaintInOrder(t)},_renderDashedStroke:function(t){var A=-this.width/2,r=-this.height/2,n=this.width,i=this.height;t.beginPath(),e.util.drawDashedLine(t,A,r,A+n,r,this.strokeDashArray),e.util.drawDashedLine(t,A+n,r,A+n,r+i,this.strokeDashArray),e.util.drawDashedLine(t,A+n,r+i,A,r+i,this.strokeDashArray),e.util.drawDashedLine(t,A,r+i,A,r,this.strokeDashArray),t.closePath()},toObject:function(t){return this.callSuper("toObject",["rx","ry"].concat(t))},_toSVG:function(){return["<rect ","COMMON_PARTS",'x="',-this.width/2,'" y="',-this.height/2,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,'" />\n']}}),e.Rect.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),e.Rect.fromElement=function(t,r,n){if(!t)return r(null);n=n||{};var i=e.parseAttributes(t,e.Rect.ATTRIBUTE_NAMES);i.left=i.left||0,i.top=i.top||0;var o=new e.Rect(A(n?e.util.object.clone(n):{},i));o.visible=o.visible&&o.width>0&&o.height>0,r(o)},e.Rect.fromObject=function(t,A){return e.Object._fromObject("Rect",t,A)})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),A=e.util.object.extend,r=e.util.array.min,n=e.util.array.max,i=e.util.toFixed;e.Polyline?e.warn("fabric.Polyline is already defined"):(e.Polyline=e.util.createClass(e.Object,{type:"polyline",points:null,cacheProperties:e.Object.prototype.cacheProperties.concat("points"),initialize:function(t,e){e=e||{},this.points=t||[],this.callSuper("initialize",e);var A=this._calcDimensions();void 0===e.left&&(this.left=A.left),void 0===e.top&&(this.top=A.top),this.width=A.width,this.height=A.height,this.pathOffset={x:A.left+this.width/2,y:A.top+this.height/2}},_calcDimensions:function(){var t=this.points,e=r(t,"x")||0,A=r(t,"y")||0;return{left:e,top:A,width:(n(t,"x")||0)-e,height:(n(t,"y")||0)-A}},toObject:function(t){return A(this.callSuper("toObject",t),{points:this.points.concat()})},_toSVG:function(){for(var t=[],A=this.pathOffset.x,r=this.pathOffset.y,n=e.Object.NUM_FRACTION_DIGITS,o=0,s=this.points.length;o<s;o++)t.push(i(this.points[o].x-A,n),",",i(this.points[o].y-r,n)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',t.join(""),'" />\n']},commonRender:function(t){var e,A=this.points.length,r=this.pathOffset.x,n=this.pathOffset.y;if(!A||isNaN(this.points[A-1].y))return!1;t.beginPath(),t.moveTo(this.points[0].x-r,this.points[0].y-n);for(var i=0;i<A;i++)e=this.points[i],t.lineTo(e.x-r,e.y-n);return!0},_render:function(t){this.commonRender(t)&&this._renderPaintInOrder(t)},_renderDashedStroke:function(t){var A,r;t.beginPath();for(var n=0,i=this.points.length;n<i;n++)A=this.points[n],r=this.points[n+1]||A,e.util.drawDashedLine(t,A.x,A.y,r.x,r.y,this.strokeDashArray)},complexity:function(){return this.get("points").length}}),e.Polyline.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polyline.fromElement=function(t,A,r){if(!t)return A(null);r||(r={});var n=e.parsePointsAttribute(t.getAttribute("points")),i=e.parseAttributes(t,e.Polyline.ATTRIBUTE_NAMES);A(new e.Polyline(n,e.util.object.extend(i,r)))},e.Polyline.fromObject=function(t,A){return e.Object._fromObject("Polyline",t,A,"points")})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),A=e.util.object.extend;e.Polygon?e.warn("fabric.Polygon is already defined"):(e.Polygon=e.util.createClass(e.Polyline,{type:"polygon",_render:function(t){this.commonRender(t)&&(t.closePath(),this._renderPaintInOrder(t))},_renderDashedStroke:function(t){this.callSuper("_renderDashedStroke",t),t.closePath()}}),e.Polygon.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(),e.Polygon.fromElement=function(t,r,n){if(!t)return r(null);n||(n={});var i=e.parsePointsAttribute(t.getAttribute("points")),o=e.parseAttributes(t,e.Polygon.ATTRIBUTE_NAMES);r(new e.Polygon(i,A(o,n)))},e.Polygon.fromObject=function(t,A){return e.Object._fromObject("Polygon",t,A,"points")})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),A=e.util.array.min,r=e.util.array.max,n=e.util.object.extend,i=Object.prototype.toString,o=e.util.drawArc,s=e.util.toFixed,a={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},c={m:"l",M:"L"};e.Path?e.warn("fabric.Path is already defined"):(e.Path=e.util.createClass(e.Object,{type:"path",path:null,cacheProperties:e.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:e.Object.prototype.stateProperties.concat("path"),initialize:function(t,e){e=e||{},this.callSuper("initialize",e),t||(t=[]);var A="[object Array]"===i.call(t);this.path=A?t:t.match&&t.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi),this.path&&(A||(this.path=this._parsePath()),this._setPositionDimensions(e))},_setPositionDimensions:function(t){var e=this._parseDimensions();this.width=e.width,this.height=e.height,void 0===t.left&&(this.left=e.left),void 0===t.top&&(this.top=e.top),this.pathOffset=this.pathOffset||{x:e.left+this.width/2,y:e.top+this.height/2}},_renderPathCommands:function(t){var e,A,r,n=null,i=0,s=0,a=0,c=0,u=0,h=0,l=-this.pathOffset.x,f=-this.pathOffset.y;t.beginPath();for(var d=0,p=this.path.length;d<p;++d){switch((e=this.path[d])[0]){case"l":a+=e[1],c+=e[2],t.lineTo(a+l,c+f);break;case"L":a=e[1],c=e[2],t.lineTo(a+l,c+f);break;case"h":a+=e[1],t.lineTo(a+l,c+f);break;case"H":a=e[1],t.lineTo(a+l,c+f);break;case"v":c+=e[1],t.lineTo(a+l,c+f);break;case"V":c=e[1],t.lineTo(a+l,c+f);break;case"m":i=a+=e[1],s=c+=e[2],t.moveTo(a+l,c+f);break;case"M":i=a=e[1],s=c=e[2],t.moveTo(a+l,c+f);break;case"c":A=a+e[5],r=c+e[6],u=a+e[3],h=c+e[4],t.bezierCurveTo(a+e[1]+l,c+e[2]+f,u+l,h+f,A+l,r+f),a=A,c=r;break;case"C":a=e[5],c=e[6],u=e[3],h=e[4],t.bezierCurveTo(e[1]+l,e[2]+f,u+l,h+f,a+l,c+f);break;case"s":A=a+e[3],r=c+e[4],null===n[0].match(/[CcSs]/)?(u=a,h=c):(u=2*a-u,h=2*c-h),t.bezierCurveTo(u+l,h+f,a+e[1]+l,c+e[2]+f,A+l,r+f),u=a+e[1],h=c+e[2],a=A,c=r;break;case"S":A=e[3],r=e[4],null===n[0].match(/[CcSs]/)?(u=a,h=c):(u=2*a-u,h=2*c-h),t.bezierCurveTo(u+l,h+f,e[1]+l,e[2]+f,A+l,r+f),a=A,c=r,u=e[1],h=e[2];break;case"q":A=a+e[3],r=c+e[4],u=a+e[1],h=c+e[2],t.quadraticCurveTo(u+l,h+f,A+l,r+f),a=A,c=r;break;case"Q":A=e[3],r=e[4],t.quadraticCurveTo(e[1]+l,e[2]+f,A+l,r+f),a=A,c=r,u=e[1],h=e[2];break;case"t":A=a+e[1],r=c+e[2],null===n[0].match(/[QqTt]/)?(u=a,h=c):(u=2*a-u,h=2*c-h),t.quadraticCurveTo(u+l,h+f,A+l,r+f),a=A,c=r;break;case"T":A=e[1],r=e[2],null===n[0].match(/[QqTt]/)?(u=a,h=c):(u=2*a-u,h=2*c-h),t.quadraticCurveTo(u+l,h+f,A+l,r+f),a=A,c=r;break;case"a":o(t,a+l,c+f,[e[1],e[2],e[3],e[4],e[5],e[6]+a+l,e[7]+c+f]),a+=e[6],c+=e[7];break;case"A":o(t,a+l,c+f,[e[1],e[2],e[3],e[4],e[5],e[6]+l,e[7]+f]),a=e[6],c=e[7];break;case"z":case"Z":a=i,c=s,t.closePath()}n=e}},_render:function(t){this._renderPathCommands(t),this._renderPaintInOrder(t)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(t){return n(this.callSuper("toObject",t),{path:this.path.map((function(t){return t.slice()})),top:this.top,left:this.left})},toDatalessObject:function(t){var e=this.toObject(["sourcePath"].concat(t));return e.sourcePath&&delete e.path,e},_toSVG:function(){return["<path ","COMMON_PARTS",'d="',this.path.map((function(t){return t.join(" ")})).join(" "),'" stroke-linecap="round" ',"/>\n"]},_getOffsetTransform:function(){var t=e.Object.NUM_FRACTION_DIGITS;return" translate("+s(-this.pathOffset.x,t)+", "+s(-this.pathOffset.y,t)+")"},toClipPathSVG:function(t){var e=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})},toSVG:function(t){var e=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:t,additionalTransform:e})},complexity:function(){return this.path.length},_parsePath:function(){for(var t,e,A,r,n,i=[],o=[],s=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi,u=0,h=this.path.length;u<h;u++){for(r=(t=this.path[u]).slice(1).trim(),o.length=0;A=s.exec(r);)o.push(A[0]);n=[t.charAt(0)];for(var l=0,f=o.length;l<f;l++)e=parseFloat(o[l]),isNaN(e)||n.push(e);var d=n[0],p=a[d.toLowerCase()],g=c[d]||d;if(n.length-1>p)for(var v=1,y=n.length;v<y;v+=p)i.push([d].concat(n.slice(v,v+p))),d=g;else i.push(n)}return i},_parseDimensions:function(){for(var t,n,i,o,s=[],a=[],c=null,u=0,h=0,l=0,f=0,d=0,p=0,g=0,v=this.path.length;g<v;++g){switch((t=this.path[g])[0]){case"l":l+=t[1],f+=t[2],o=[];break;case"L":l=t[1],f=t[2],o=[];break;case"h":l+=t[1],o=[];break;case"H":l=t[1],o=[];break;case"v":f+=t[1],o=[];break;case"V":f=t[1],o=[];break;case"m":u=l+=t[1],h=f+=t[2],o=[];break;case"M":u=l=t[1],h=f=t[2],o=[];break;case"c":n=l+t[5],i=f+t[6],d=l+t[3],p=f+t[4],o=e.util.getBoundsOfCurve(l,f,l+t[1],f+t[2],d,p,n,i),l=n,f=i;break;case"C":d=t[3],p=t[4],o=e.util.getBoundsOfCurve(l,f,t[1],t[2],d,p,t[5],t[6]),l=t[5],f=t[6];break;case"s":n=l+t[3],i=f+t[4],null===c[0].match(/[CcSs]/)?(d=l,p=f):(d=2*l-d,p=2*f-p),o=e.util.getBoundsOfCurve(l,f,d,p,l+t[1],f+t[2],n,i),d=l+t[1],p=f+t[2],l=n,f=i;break;case"S":n=t[3],i=t[4],null===c[0].match(/[CcSs]/)?(d=l,p=f):(d=2*l-d,p=2*f-p),o=e.util.getBoundsOfCurve(l,f,d,p,t[1],t[2],n,i),l=n,f=i,d=t[1],p=t[2];break;case"q":n=l+t[3],i=f+t[4],d=l+t[1],p=f+t[2],o=e.util.getBoundsOfCurve(l,f,d,p,d,p,n,i),l=n,f=i;break;case"Q":d=t[1],p=t[2],o=e.util.getBoundsOfCurve(l,f,d,p,d,p,t[3],t[4]),l=t[3],f=t[4];break;case"t":n=l+t[1],i=f+t[2],null===c[0].match(/[QqTt]/)?(d=l,p=f):(d=2*l-d,p=2*f-p),o=e.util.getBoundsOfCurve(l,f,d,p,d,p,n,i),l=n,f=i;break;case"T":n=t[1],i=t[2],null===c[0].match(/[QqTt]/)?(d=l,p=f):(d=2*l-d,p=2*f-p),o=e.util.getBoundsOfCurve(l,f,d,p,d,p,n,i),l=n,f=i;break;case"a":o=e.util.getBoundsOfArc(l,f,t[1],t[2],t[3],t[4],t[5],t[6]+l,t[7]+f),l+=t[6],f+=t[7];break;case"A":o=e.util.getBoundsOfArc(l,f,t[1],t[2],t[3],t[4],t[5],t[6],t[7]),l=t[6],f=t[7];break;case"z":case"Z":l=u,f=h}c=t,o.forEach((function(t){s.push(t.x),a.push(t.y)})),s.push(l),a.push(f)}var y=A(s)||0,B=A(a)||0;return{left:y,top:B,width:(r(s)||0)-y,height:(r(a)||0)-B}}}),e.Path.fromObject=function(t,A){if("string"==typeof t.sourcePath){var r=t.sourcePath;e.loadSVGFromURL(r,(function(e){var r=e[0];r.setOptions(t),A&&A(r)}))}else e.Object._fromObject("Path",t,A,"path")},e.Path.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat(["d"]),e.Path.fromElement=function(t,A,r){var i=e.parseAttributes(t,e.Path.ATTRIBUTE_NAMES);A(new e.Path(i.d,n(i,r)))})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),A=e.util.array.min,r=e.util.array.max;e.Group||(e.Group=e.util.createClass(e.Object,e.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(t,e,A){e=e||{},this._objects=[],A&&this.callSuper("initialize",e),this._objects=t||[];for(var r=this._objects.length;r--;)this._objects[r].group=this;if(A)this._updateObjectsACoords();else{var n=e&&e.centerPoint;void 0!==e.originX&&(this.originX=e.originX),void 0!==e.originY&&(this.originY=e.originY),n||this._calcBounds(),this._updateObjectsCoords(n),delete e.centerPoint,this.callSuper("initialize",e)}this.setCoords()},_updateObjectsACoords:function(){for(var t=this._objects.length;t--;)this._objects[t].setCoords(!0,!0)},_updateObjectsCoords:function(t){t=t||this.getCenterPoint();for(var e=this._objects.length;e--;)this._updateObjectCoords(this._objects[e],t)},_updateObjectCoords:function(t,e){var A=t.left,r=t.top;t.set({left:A-e.x,top:r-e.y}),t.group=this,t.setCoords(!0,!0)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(t){return this._restoreObjectsState(),e.util.resetObjectTransform(this),t&&(this._objects.push(t),t.group=this,t._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},removeWithUpdate:function(t){return this._restoreObjectsState(),e.util.resetObjectTransform(this),this.remove(t),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(t){this.dirty=!0,t.group=this,t._set("canvas",this.canvas)},_onObjectRemoved:function(t){this.dirty=!0,delete t.group},_set:function(t,A){var r=this._objects.length;if(this.useSetOnGroup)for(;r--;)this._objects[r].setOnGroup(t,A);if("canvas"===t)for(;r--;)this._objects[r]._set(t,A);e.Object.prototype._set.call(this,t,A)},toObject:function(t){var A=this.includeDefaultValues,r=this._objects.map((function(e){var r=e.includeDefaultValues;e.includeDefaultValues=A;var n=e.toObject(t);return e.includeDefaultValues=r,n})),n=e.Object.prototype.toObject.call(this,t);return n.objects=r,n},toDatalessObject:function(t){var A,r=this.sourcePath;if(r)A=r;else{var n=this.includeDefaultValues;A=this._objects.map((function(e){var A=e.includeDefaultValues;e.includeDefaultValues=n;var r=e.toDatalessObject(t);return e.includeDefaultValues=A,r}))}var i=e.Object.prototype.toDatalessObject.call(this,t);return i.objects=A,i},render:function(t){this._transformDone=!0,this.callSuper("render",t),this._transformDone=!1},shouldCache:function(){var t=this.objectCaching&&(!this.group||this.needsItsOwnCache()||!this.group.isOnACache());if(this.ownCaching=t,t)for(var e=0,A=this._objects.length;e<A;e++)if(this._objects[e].willDrawShadow())return this.ownCaching=!1,!1;return t},willDrawShadow:function(){if(this.shadow)return e.Object.prototype.willDrawShadow.call(this);for(var t=0,A=this._objects.length;t<A;t++)if(this._objects[t].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(t){for(var e=0,A=this._objects.length;e<A;e++)this._objects[e].render(t);this._drawClipPath(t)},isCacheDirty:function(t){if(this.callSuper("isCacheDirty",t))return!0;if(!this.statefullCache)return!1;for(var e=0,A=this._objects.length;e<A;e++)if(this._objects[e].isCacheDirty(!0)){if(this._cacheCanvas){var r=this.cacheWidth/this.zoomX,n=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-r/2,-n/2,r,n)}return!0}return!1},_restoreObjectsState:function(){return this._objects.forEach(this._restoreObjectState,this),this},realizeTransform:function(t){var A=t.calcTransformMatrix(),r=e.util.qrDecompose(A),n=new e.Point(r.translateX,r.translateY);return t.flipX=!1,t.flipY=!1,t.set("scaleX",r.scaleX),t.set("scaleY",r.scaleY),t.skewX=r.skewX,t.skewY=r.skewY,t.angle=r.angle,t.setPositionByOrigin(n,"center","center"),t},_restoreObjectState:function(t){return this.realizeTransform(t),t.setCoords(),delete t.group,this},destroy:function(){return this._objects.forEach((function(t){t.set("dirty",!0)})),this._restoreObjectsState()},toActiveSelection:function(){if(this.canvas){var t=this._objects,A=this.canvas;this._objects=[];var r=this.toObject();delete r.objects;var n=new e.ActiveSelection([]);return n.set(r),n.type="activeSelection",A.remove(this),t.forEach((function(t){t.group=n,t.dirty=!0,A.add(t)})),n.canvas=A,n._objects=t,A._activeObject=n,n.setCoords(),n}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){return this.forEachObject((function(t){t.setCoords(!0,!0)})),this},_calcBounds:function(t){for(var e,A,r,n=[],i=[],o=["tr","br","bl","tl"],s=0,a=this._objects.length,c=o.length;s<a;++s)for((e=this._objects[s]).setCoords(!0),r=0;r<c;r++)A=o[r],n.push(e.oCoords[A].x),i.push(e.oCoords[A].y);this._getBounds(n,i,t)},_getBounds:function(t,n,i){var o=new e.Point(A(t),A(n)),s=new e.Point(r(t),r(n)),a=o.y||0,c=o.x||0,u=s.x-o.x||0,h=s.y-o.y||0;this.width=u,this.height=h,i||this.setPositionByOrigin({x:c,y:a},"left","top")},toSVG:function(t){for(var e=[],A=0,r=this._objects.length;A<r;A++)e.push("\t",this._objects[A].toSVG(t));return this._createBaseSVGMarkup(e,{reviver:t,noStyle:!0,withShadow:!0})},toClipPathSVG:function(t){for(var e=[],A=0,r=this._objects.length;A<r;A++)e.push("\t",this._objects[A].toClipPathSVG(t));return this._createBaseClipPathSVGMarkup(e,{reviver:t})}}),e.Group.fromObject=function(t,A){e.util.enlivenObjects(t.objects,(function(r){e.util.enlivenObjects([t.clipPath],(function(n){var i=e.util.object.clone(t,!0);i.clipPath=n[0],delete i.objects,A&&A(new e.Group(r,i,!0))}))}))})}(e),function(t){"use strict";var e=t.fabric||(t.fabric={});e.ActiveSelection||(e.ActiveSelection=e.util.createClass(e.Group,{type:"activeSelection",initialize:function(t,A){A=A||{},this._objects=t||[];for(var r=this._objects.length;r--;)this._objects[r].group=this;A.originX&&(this.originX=A.originX),A.originY&&(this.originY=A.originY),this._calcBounds(),this._updateObjectsCoords(),e.Object.prototype.initialize.call(this,A),this.setCoords()},toGroup:function(){var t=this._objects.concat();this._objects=[];var A=e.Object.prototype.toObject.call(this),r=new e.Group([]);if(delete A.type,r.set(A),t.forEach((function(t){t.canvas.remove(t),t.group=r})),r._objects=t,!this.canvas)return r;var n=this.canvas;return n.add(r),n._activeObject=r,r.setCoords(),r},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(t,e,A){t.save(),t.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",t,e),void 0===(A=A||{}).hasControls&&(A.hasControls=!1),void 0===A.hasRotatingPoint&&(A.hasRotatingPoint=!1),A.forActiveSelection=!0;for(var r=0,n=this._objects.length;r<n;r++)this._objects[r]._renderControls(t,A);t.restore()}}),e.ActiveSelection.fromObject=function(t,A){e.util.enlivenObjects(t.objects,(function(r){delete t.objects,A&&A(new e.ActiveSelection(r,t,!0))}))})}(e),function(t){"use strict";var e=x.util.object.extend;t.fabric||(t.fabric={}),t.fabric.Image?x.warn("fabric.Image is already defined."):(x.Image=x.util.createClass(x.Object,{type:"image",crossOrigin:"",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:x.Object.prototype.stateProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,initialize:function(t,e){e||(e={}),this.filters=[],this.cacheKey="texture"+x.Object.__uid++,this.callSuper("initialize",e),this._initElement(t,e)},getElement:function(){return this._element||{}},setElement:function(t,e){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=t,this._originalElement=t,this._initConfig(e),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(t){var e=x.filterBackend;e&&e.evictCachesForKey&&e.evictCachesForKey(t)},dispose:function(){this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(t){x.util.cleanUpJsdomNode(this[t]),this[t]=void 0}.bind(this))},setCrossOrigin:function(t){return this.crossOrigin=t,this._element.crossOrigin=t,this},getOriginalSize:function(){var t=this.getElement();return{width:t.naturalWidth||t.width,height:t.naturalHeight||t.height}},_stroke:function(t){if(this.stroke&&0!==this.strokeWidth){var e=this.width/2,A=this.height/2;t.beginPath(),t.moveTo(-e,-A),t.lineTo(e,-A),t.lineTo(e,A),t.lineTo(-e,A),t.lineTo(-e,-A),t.closePath()}},_renderDashedStroke:function(t){var e=-this.width/2,A=-this.height/2,r=this.width,n=this.height;t.save(),this._setStrokeStyles(t,this),t.beginPath(),x.util.drawDashedLine(t,e,A,e+r,A,this.strokeDashArray),x.util.drawDashedLine(t,e+r,A,e+r,A+n,this.strokeDashArray),x.util.drawDashedLine(t,e+r,A+n,e,A+n,this.strokeDashArray),x.util.drawDashedLine(t,e,A+n,e,A,this.strokeDashArray),t.closePath(),t.restore()},toObject:function(t){var A=[];this.filters.forEach((function(t){t&&A.push(t.toObject())}));var r=e(this.callSuper("toObject",["crossOrigin","cropX","cropY"].concat(t)),{src:this.getSrc(),filters:A});return this.resizeFilter&&(r.resizeFilter=this.resizeFilter.toObject()),r},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var t,e=[],A=[],r=-this.width/2,n=-this.height/2,i="";if(this.hasCrop()){var o=x.Object.__uid++;e.push('<clipPath id="imageCrop_'+o+'">\n','\t<rect x="'+r+'" y="'+n+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),i=' clip-path="url(#imageCrop_'+o+')" '}if(A.push("\t<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',r-this.cropX,'" y="',n-this.cropY,'" width="',this._element.width||this._element.naturalWidth,'" height="',this._element.height||this._element.height,'"',i,"></image>\n"),this.stroke||this.strokeDashArray){var s=this.fill;this.fill=null,t=["\t<rect ",'x="',r,'" y="',n,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'],this.fill=s}return e="fill"!==this.paintFirst?e.concat(t,A):e.concat(A,t)},getSrc:function(t){var e=t?this._element:this._originalElement;return e?e.toDataURL?e.toDataURL():this.srcFromAttribute?e.getAttribute("src"):e.src:this.src||""},setSrc:function(t,e,A){return x.util.loadImage(t,(function(t){this.setElement(t,A),this._setWidthHeight(),e&&e(this)}),this,A&&A.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var t=this.resizeFilter,e=this.minimumScaleTrigger,A=this.getTotalObjectScaling(),r=A.scaleX,n=A.scaleY,i=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!t||r>e&&n>e)return this._element=i,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=r,void(this._lastScaleY=n);x.filterBackend||(x.filterBackend=x.initFilterBackend());var o=x.util.createCanvasElement(),s=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,a=i.width,c=i.height;o.width=a,o.height=c,this._element=o,this._lastScaleX=t.scaleX=r,this._lastScaleY=t.scaleY=n,x.filterBackend.applyFilters([t],i,a,c,this._element,s),this._filterScalingX=o.width/this._originalElement.width,this._filterScalingY=o.height/this._originalElement.height},applyFilters:function(t){if(t=(t=t||this.filters||[]).filter((function(t){return t&&!t.isNeutralState()})),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),0===t.length)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var e=this._originalElement,A=e.naturalWidth||e.width,r=e.naturalHeight||e.height;if(this._element===this._originalElement){var n=x.util.createCanvasElement();n.width=A,n.height=r,this._element=n,this._filteredEl=n}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,A,r),this._lastScaleX=1,this._lastScaleY=1;return x.filterBackend||(x.filterBackend=x.initFilterBackend()),x.filterBackend.applyFilters(t,this._originalElement,A,r,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(t){!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(t),this._renderPaintInOrder(t)},shouldCache:function(){return this.ownCaching=this.objectCaching&&this.needsItsOwnCache(),this.ownCaching},_renderFill:function(t){var e=this._element,A=this.width,r=this.height,n=Math.min(e.naturalWidth||e.width,A*this._filterScalingX),i=Math.min(e.naturalHeight||e.height,r*this._filterScalingY),o=-A/2,s=-r/2,a=Math.max(0,this.cropX*this._filterScalingX),c=Math.max(0,this.cropY*this._filterScalingY);e&&t.drawImage(e,a,c,n,i,o,s,A,r)},_needsResize:function(){var t=this.getTotalObjectScaling();return t.scaleX!==this._lastScaleX||t.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(t,e){this.setElement(x.util.getById(t),e),x.util.addClass(this.getElement(),x.Image.CSS_CANVAS)},_initConfig:function(t){t||(t={}),this.setOptions(t),this._setWidthHeight(t),this._element&&this.crossOrigin&&(this._element.crossOrigin=this.crossOrigin)},_initFilters:function(t,e){t&&t.length?x.util.enlivenObjects(t,(function(t){e&&e(t)}),"fabric.Image.filters"):e&&e()},_setWidthHeight:function(t){t||(t={});var e=this.getElement();this.width=t.width||e.naturalWidth||e.width||0,this.height=t.height||e.naturalHeight||e.height||0},parsePreserveAspectRatioAttribute:function(){var t,e=x.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),A=this._element.width,r=this._element.height,n=1,i=1,o=0,s=0,a=0,c=0,u=this.width,h=this.height,l={width:u,height:h};return!e||"none"===e.alignX&&"none"===e.alignY?(n=u/A,i=h/r):("meet"===e.meetOrSlice&&(t=(u-A*(n=i=x.util.findScaleToFit(this._element,l)))/2,"Min"===e.alignX&&(o=-t),"Max"===e.alignX&&(o=t),t=(h-r*i)/2,"Min"===e.alignY&&(s=-t),"Max"===e.alignY&&(s=t)),"slice"===e.meetOrSlice&&(t=A-u/(n=i=x.util.findScaleToCover(this._element,l)),"Mid"===e.alignX&&(a=t/2),"Max"===e.alignX&&(a=t),t=r-h/i,"Mid"===e.alignY&&(c=t/2),"Max"===e.alignY&&(c=t),A=u/n,r=h/i)),{width:A,height:r,scaleX:n,scaleY:i,offsetLeft:o,offsetTop:s,cropX:a,cropY:c}}}),x.Image.CSS_CANVAS="canvas-img",x.Image.prototype.getSvgSrc=x.Image.prototype.getSrc,x.Image.fromObject=function(t,e){var A=x.util.object.clone(t);x.util.loadImage(A.src,(function(t,r){r?e&&e(null,r):x.Image.prototype._initFilters.call(A,A.filters,(function(r){A.filters=r||[],x.Image.prototype._initFilters.call(A,[A.resizeFilter],(function(r){A.resizeFilter=r[0],x.util.enlivenObjects([A.clipPath],(function(r){A.clipPath=r[0];var n=new x.Image(t,A);e(n)}))}))}))}),null,A.crossOrigin)},x.Image.fromURL=function(t,e,A){x.util.loadImage(t,(function(t){e&&e(new x.Image(t,A))}),null,A&&A.crossOrigin)},x.Image.ATTRIBUTE_NAMES=x.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin".split(" ")),x.Image.fromElement=function(t,A,r){var n=x.parseAttributes(t,x.Image.ATTRIBUTE_NAMES);x.Image.fromURL(n["xlink:href"],A,e(r?x.util.object.clone(r):{},n))})}(e),x.util.object.extend(x.Object.prototype,{_getAngleValueForStraighten:function(){var t=this.angle%360;return t>0?90*Math.round((t-1)/90):90*Math.round(t/90)},straighten:function(){return this.rotate(this._getAngleValueForStraighten()),this},fxStraighten:function(t){var e=function(){},A=(t=t||{}).onComplete||e,r=t.onChange||e,n=this;return x.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(t){n.rotate(t),r()},onComplete:function(){n.setCoords(),A()}}),this}}),x.util.object.extend(x.StaticCanvas.prototype,{straightenObject:function(t){return t.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(t){return t.fxStraighten({onChange:this.requestRenderAllBound}),this}}),function(){"use strict";function t(t,e){var A="precision "+e+" float;\nvoid main(){}",r=t.createShader(t.FRAGMENT_SHADER);return t.shaderSource(r,A),t.compileShader(r),!!t.getShaderParameter(r,t.COMPILE_STATUS)}function e(t){t&&t.tileSize&&(this.tileSize=t.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}x.isWebglSupported=function(e){if(x.isLikelyNode)return!1;e=e||x.WebglFilterBackend.prototype.tileSize;var A=document.createElement("canvas"),r=A.getContext("webgl")||A.getContext("experimental-webgl"),n=!1;if(r){x.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),n=x.maxTextureSize>=e;for(var i=["highp","mediump","lowp"],o=0;o<3;o++)if(t(r,i[o])){x.webGlPrecision=i[o];break}}return this.isSupported=n,n},x.WebglFilterBackend=e,e.prototype={tileSize:2048,resources:{},setupGLContext:function(t,e){this.dispose(),this.createWebGLCanvas(t,e),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(t,e)},chooseFastestCopyGLTo2DMethod:function(t,e){var A,r=void 0!==window.performance;try{new ImageData(1,1),A=!0}catch(t){A=!1}var n="undefined"!=typeof ArrayBuffer,i="undefined"!=typeof Uint8ClampedArray;if(r&&A&&n&&i){var o,s,a=x.util.createCanvasElement(),c=new ArrayBuffer(t*e*4),u={imageBuffer:c,destinationWidth:t,destinationHeight:e,targetCanvas:a};a.width=t,a.height=e,o=window.performance.now(),E.call(u,this.gl,u),s=window.performance.now()-o,o=window.performance.now(),F.call(u,this.gl,u),s>window.performance.now()-o?(this.imageBuffer=c,this.copyGLTo2D=F):this.copyGLTo2D=E}},createWebGLCanvas:function(t,e){var A=x.util.createCanvasElement();A.width=t,A.height=e;var r={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},n=A.getContext("webgl",r);n||(n=A.getContext("experimental-webgl",r)),n&&(n.clearColor(0,0,0,0),this.canvas=A,this.gl=n)},applyFilters:function(t,e,A,r,n,i){var o,s=this.gl;i&&(o=this.getCachedTexture(i,e));var a={originalWidth:e.width||e.originalWidth,originalHeight:e.height||e.originalHeight,sourceWidth:A,sourceHeight:r,destinationWidth:A,destinationHeight:r,context:s,sourceTexture:this.createTexture(s,A,r,!o&&e),targetTexture:this.createTexture(s,A,r),originalTexture:o||this.createTexture(s,A,r,!o&&e),passes:t.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:n},c=s.createFramebuffer();return s.bindFramebuffer(s.FRAMEBUFFER,c),t.forEach((function(t){t&&t.applyTo(a)})),function(t){var e=t.targetCanvas,A=e.width,r=e.height,n=t.destinationWidth,i=t.destinationHeight;A===n&&r===i||(e.width=n,e.height=i)}(a),this.copyGLTo2D(s,a),s.bindTexture(s.TEXTURE_2D,null),s.deleteTexture(a.sourceTexture),s.deleteTexture(a.targetTexture),s.deleteFramebuffer(c),n.getContext("2d").setTransform(1,0,0,1,0,0),a},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(t,e,A,r){var n=t.createTexture();return t.bindTexture(t.TEXTURE_2D,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),r?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,r):t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,A,0,t.RGBA,t.UNSIGNED_BYTE,null),n},getCachedTexture:function(t,e){if(this.textureCache[t])return this.textureCache[t];var A=this.createTexture(this.gl,e.width,e.height,e);return this.textureCache[t]=A,A},evictCachesForKey:function(t){this.textureCache[t]&&(this.gl.deleteTexture(this.textureCache[t]),delete this.textureCache[t])},copyGLTo2D:E,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var t=this.gl,e={renderer:"",vendor:""};if(!t)return e;var A=t.getExtension("WEBGL_debug_renderer_info");if(A){var r=t.getParameter(A.UNMASKED_RENDERER_WEBGL),n=t.getParameter(A.UNMASKED_VENDOR_WEBGL);r&&(e.renderer=r.toLowerCase()),n&&(e.vendor=n.toLowerCase())}return this.gpuInfo=e,e}}}(),function(){"use strict";var t=function(){};function e(){}x.Canvas2dFilterBackend=e,e.prototype={evictCachesForKey:t,dispose:t,clearWebGLCaches:t,resources:{},applyFilters:function(t,e,A,r,n){var i=n.getContext("2d");i.drawImage(e,0,0,A,r);var o={sourceWidth:A,sourceHeight:r,imageData:i.getImageData(0,0,A,r),originalEl:e,originalImageData:i.getImageData(0,0,A,r),canvasEl:n,ctx:i,filterBackend:this};return t.forEach((function(t){t.applyTo(o)})),o.imageData.width===A&&o.imageData.height===r||(n.width=o.imageData.width,n.height=o.imageData.height),i.putImageData(o.imageData,0,0),o}}}(),x.Image=x.Image||{},x.Image.filters=x.Image.filters||{},x.Image.filters.BaseFilter=x.util.createClass({type:"BaseFilter",vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:"precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",initialize:function(t){t&&this.setOptions(t)},setOptions:function(t){for(var e in t)this[e]=t[e]},createProgram:function(t,e,A){e=e||this.fragmentSource,A=A||this.vertexSource,"highp"!==x.webGlPrecision&&(e=e.replace(/precision highp float/g,"precision "+x.webGlPrecision+" float"));var r=t.createShader(t.VERTEX_SHADER);if(t.shaderSource(r,A),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+t.getShaderInfoLog(r));var n=t.createShader(t.FRAGMENT_SHADER);if(t.shaderSource(n,e),t.compileShader(n),!t.getShaderParameter(n,t.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+t.getShaderInfoLog(n));var i=t.createProgram();if(t.attachShader(i,r),t.attachShader(i,n),t.linkProgram(i),!t.getProgramParameter(i,t.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+t.getProgramInfoLog(i));var o=this.getAttributeLocations(t,i),s=this.getUniformLocations(t,i)||{};return s.uStepW=t.getUniformLocation(i,"uStepW"),s.uStepH=t.getUniformLocation(i,"uStepH"),{program:i,attributeLocations:o,uniformLocations:s}},getAttributeLocations:function(t,e){return{aPosition:t.getAttribLocation(e,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(t,e,A){var r=e.aPosition,n=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,n),t.enableVertexAttribArray(r),t.vertexAttribPointer(r,2,t.FLOAT,!1,0,0),t.bufferData(t.ARRAY_BUFFER,A,t.STATIC_DRAW)},_setupFrameBuffer:function(t){var e,A,r=t.context;t.passes>1?(e=t.destinationWidth,A=t.destinationHeight,t.sourceWidth===e&&t.sourceHeight===A||(r.deleteTexture(t.targetTexture),t.targetTexture=t.filterBackend.createTexture(r,e,A)),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,t.targetTexture,0)):(r.bindFramebuffer(r.FRAMEBUFFER,null),r.finish())},_swapTextures:function(t){t.passes--,t.pass++;var e=t.targetTexture;t.targetTexture=t.sourceTexture,t.sourceTexture=e},isNeutralState:function(){var t=this.mainParameter,e=x.Image.filters[this.type].prototype;if(t){if(Array.isArray(e[t])){for(var A=e[t].length;A--;)if(this[t][A]!==e[t][A])return!1;return!0}return e[t]===this[t]}return!1},applyTo:function(t){t.webgl?(this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)},retrieveShader:function(t){return t.programCache.hasOwnProperty(this.type)||(t.programCache[this.type]=this.createProgram(t.context)),t.programCache[this.type]},applyToWebGL:function(t){var e=t.context,A=this.retrieveShader(t);0===t.pass&&t.originalTexture?e.bindTexture(e.TEXTURE_2D,t.originalTexture):e.bindTexture(e.TEXTURE_2D,t.sourceTexture),e.useProgram(A.program),this.sendAttributeData(e,A.attributeLocations,t.aPosition),e.uniform1f(A.uniformLocations.uStepW,1/t.sourceWidth),e.uniform1f(A.uniformLocations.uStepH,1/t.sourceHeight),this.sendUniformData(e,A.uniformLocations),e.viewport(0,0,t.destinationWidth,t.destinationHeight),e.drawArrays(e.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(t,e,A){t.activeTexture(A),t.bindTexture(t.TEXTURE_2D,e),t.activeTexture(t.TEXTURE0)},unbindAdditionalTexture:function(t,e){t.activeTexture(e),t.bindTexture(t.TEXTURE_2D,null),t.activeTexture(t.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(t){this[this.mainParameter]=t},sendUniformData:function(){},createHelpLayer:function(t){if(!t.helpLayer){var e=document.createElement("canvas");e.width=t.sourceWidth,e.height=t.sourceHeight,t.helpLayer=e}},toObject:function(){var t={type:this.type},e=this.mainParameter;return e&&(t[e]=this[e]),t},toJSON:function(){return this.toObject()}}),x.Image.filters.BaseFilter.fromObject=function(t,e){var A=new x.Image.filters[t.type](t);return e&&e(A),A},function(t){"use strict";var e=t.fabric||(t.fabric={}),A=e.Image.filters,r=e.util.createClass;A.ColorMatrix=r(A.BaseFilter,{type:"ColorMatrix",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(t){this.callSuper("initialize",t),this.matrix=this.matrix.slice(0)},applyTo2d:function(t){var e,A,r,n,i,o=t.imageData.data,s=o.length,a=this.matrix,c=this.colorsOnly;for(i=0;i<s;i+=4)e=o[i],A=o[i+1],r=o[i+2],c?(o[i]=e*a[0]+A*a[1]+r*a[2]+255*a[4],o[i+1]=e*a[5]+A*a[6]+r*a[7]+255*a[9],o[i+2]=e*a[10]+A*a[11]+r*a[12]+255*a[14]):(n=o[i+3],o[i]=e*a[0]+A*a[1]+r*a[2]+n*a[3]+255*a[4],o[i+1]=e*a[5]+A*a[6]+r*a[7]+n*a[8]+255*a[9],o[i+2]=e*a[10]+A*a[11]+r*a[12]+n*a[13]+255*a[14],o[i+3]=e*a[15]+A*a[16]+r*a[17]+n*a[18]+255*a[19])},getUniformLocations:function(t,e){return{uColorMatrix:t.getUniformLocation(e,"uColorMatrix"),uConstants:t.getUniformLocation(e,"uConstants")}},sendUniformData:function(t,e){var A=this.matrix,r=[A[0],A[1],A[2],A[3],A[5],A[6],A[7],A[8],A[10],A[11],A[12],A[13],A[15],A[16],A[17],A[18]],n=[A[4],A[9],A[14],A[19]];t.uniformMatrix4fv(e.uColorMatrix,!1,r),t.uniform4fv(e.uConstants,n)}}),e.Image.filters.ColorMatrix.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),A=e.Image.filters,r=e.util.createClass;A.Brightness=r(A.BaseFilter,{type:"Brightness",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",brightness:0,mainParameter:"brightness",applyTo2d:function(t){if(0!==this.brightness){var e,A=t.imageData.data,r=A.length,n=Math.round(255*this.brightness);for(e=0;e<r;e+=4)A[e]=A[e]+n,A[e+1]=A[e+1]+n,A[e+2]=A[e+2]+n}},getUniformLocations:function(t,e){return{uBrightness:t.getUniformLocation(e,"uBrightness")}},sendUniformData:function(t,e){t.uniform1f(e.uBrightness,this.brightness)}}),e.Image.filters.Brightness.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),A=e.util.object.extend,r=e.Image.filters,n=e.util.createClass;r.Convolute=n(r.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_3_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_5_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_5_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_7_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_7_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_9_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_9_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"},retrieveShader:function(t){var e=Math.sqrt(this.matrix.length),A=this.type+"_"+e+"_"+(this.opaque?1:0),r=this.fragmentSource[A];return t.programCache.hasOwnProperty(A)||(t.programCache[A]=this.createProgram(t.context,r)),t.programCache[A]},applyTo2d:function(t){var e,A,r,n,i,o,s,a,c,u,h,l,f,d=t.imageData,p=d.data,g=this.matrix,v=Math.round(Math.sqrt(g.length)),y=Math.floor(v/2),B=d.width,w=d.height,m=t.ctx.createImageData(B,w),C=m.data,b=this.opaque?1:0;for(h=0;h<w;h++)for(u=0;u<B;u++){for(i=4*(h*B+u),e=0,A=0,r=0,n=0,f=0;f<v;f++)for(l=0;l<v;l++)o=u+l-y,(s=h+f-y)<0||s>w||o<0||o>B||(a=4*(s*B+o),c=g[f*v+l],e+=p[a]*c,A+=p[a+1]*c,r+=p[a+2]*c,b||(n+=p[a+3]*c));C[i]=e,C[i+1]=A,C[i+2]=r,C[i+3]=b?p[i+3]:n}t.imageData=m},getUniformLocations:function(t,e){return{uMatrix:t.getUniformLocation(e,"uMatrix"),uOpaque:t.getUniformLocation(e,"uOpaque"),uHalfSize:t.getUniformLocation(e,"uHalfSize"),uSize:t.getUniformLocation(e,"uSize")}},sendUniformData:function(t,e){t.uniform1fv(e.uMatrix,this.matrix)},toObject:function(){return A(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),e.Image.filters.Convolute.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),A=e.Image.filters,r=e.util.createClass;A.Grayscale=r(A.BaseFilter,{type:"Grayscale",fragmentSource:{average:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",lightness:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",luminosity:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"},mode:"average",mainParameter:"mode",applyTo2d:function(t){var e,A,r=t.imageData.data,n=r.length,i=this.mode;for(e=0;e<n;e+=4)"average"===i?A=(r[e]+r[e+1]+r[e+2])/3:"lightness"===i?A=(Math.min(r[e],r[e+1],r[e+2])+Math.max(r[e],r[e+1],r[e+2]))/2:"luminosity"===i&&(A=.21*r[e]+.72*r[e+1]+.07*r[e+2]),r[e]=A,r[e+1]=A,r[e+2]=A},retrieveShader:function(t){var e=this.type+"_"+this.mode;if(!t.programCache.hasOwnProperty(e)){var A=this.fragmentSource[this.mode];t.programCache[e]=this.createProgram(t.context,A)}return t.programCache[e]},getUniformLocations:function(t,e){return{uMode:t.getUniformLocation(e,"uMode")}},sendUniformData:function(t,e){t.uniform1i(e.uMode,1)},isNeutralState:function(){return!1}}),e.Image.filters.Grayscale.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),A=e.Image.filters,r=e.util.createClass;A.Invert=r(A.BaseFilter,{type:"Invert",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",invert:!0,mainParameter:"invert",applyTo2d:function(t){var e,A=t.imageData.data,r=A.length;for(e=0;e<r;e+=4)A[e]=255-A[e],A[e+1]=255-A[e+1],A[e+2]=255-A[e+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(t,e){return{uInvert:t.getUniformLocation(e,"uInvert")}},sendUniformData:function(t,e){t.uniform1i(e.uInvert,this.invert)}}),e.Image.filters.Invert.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),A=e.util.object.extend,r=e.Image.filters,n=e.util.createClass;r.Noise=n(r.BaseFilter,{type:"Noise",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",mainParameter:"noise",noise:0,applyTo2d:function(t){if(0!==this.noise){var e,A,r=t.imageData.data,n=r.length,i=this.noise;for(e=0,n=r.length;e<n;e+=4)A=(.5-Math.random())*i,r[e]+=A,r[e+1]+=A,r[e+2]+=A}},getUniformLocations:function(t,e){return{uNoise:t.getUniformLocation(e,"uNoise"),uSeed:t.getUniformLocation(e,"uSeed")}},sendUniformData:function(t,e){t.uniform1f(e.uNoise,this.noise/255),t.uniform1f(e.uSeed,Math.random())},toObject:function(){return A(this.callSuper("toObject"),{noise:this.noise})}}),e.Image.filters.Noise.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),A=e.Image.filters,r=e.util.createClass;A.Pixelate=r(A.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",applyTo2d:function(t){var e,A,r,n,i,o,s,a,c,u,h,l=t.imageData,f=l.data,d=l.height,p=l.width;for(A=0;A<d;A+=this.blocksize)for(r=0;r<p;r+=this.blocksize)for(n=f[e=4*A*p+4*r],i=f[e+1],o=f[e+2],s=f[e+3],u=Math.min(A+this.blocksize,d),h=Math.min(r+this.blocksize,p),a=A;a<u;a++)for(c=r;c<h;c++)f[e=4*a*p+4*c]=n,f[e+1]=i,f[e+2]=o,f[e+3]=s},isNeutralState:function(){return 1===this.blocksize},getUniformLocations:function(t,e){return{uBlocksize:t.getUniformLocation(e,"uBlocksize"),uStepW:t.getUniformLocation(e,"uStepW"),uStepH:t.getUniformLocation(e,"uStepH")}},sendUniformData:function(t,e){t.uniform1f(e.uBlocksize,this.blocksize)}}),e.Image.filters.Pixelate.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),A=e.util.object.extend,r=e.Image.filters,n=e.util.createClass;r.RemoveColor=n(r.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",distance:.02,useAlpha:!1,applyTo2d:function(t){var A,r,n,i,o=t.imageData.data,s=255*this.distance,a=new e.Color(this.color).getSource(),c=[a[0]-s,a[1]-s,a[2]-s],u=[a[0]+s,a[1]+s,a[2]+s];for(A=0;A<o.length;A+=4)r=o[A],n=o[A+1],i=o[A+2],r>c[0]&&n>c[1]&&i>c[2]&&r<u[0]&&n<u[1]&&i<u[2]&&(o[A+3]=0)},getUniformLocations:function(t,e){return{uLow:t.getUniformLocation(e,"uLow"),uHigh:t.getUniformLocation(e,"uHigh")}},sendUniformData:function(t,A){var r=new e.Color(this.color).getSource(),n=parseFloat(this.distance),i=[0+r[0]/255-n,0+r[1]/255-n,0+r[2]/255-n,1],o=[r[0]/255+n,r[1]/255+n,r[2]/255+n,1];t.uniform4fv(A.uLow,i),t.uniform4fv(A.uHigh,o)},toObject:function(){return A(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),e.Image.filters.RemoveColor.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),A=e.Image.filters,r=e.util.createClass,n={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var i in n)A[i]=r(A.ColorMatrix,{type:i,matrix:n[i],mainParameter:!1,colorsOnly:!0}),e.Image.filters[i].fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric,A=e.Image.filters,r=e.util.createClass;A.BlendColor=r(A.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",diff:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"if (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n",tint:"gl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n"},buildSource:function(t){return"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ngl_FragColor = color;\nif (color.a > 0.0) {\n"+this.fragmentSource[t]+"}\n}"},retrieveShader:function(t){var e,A=this.type+"_"+this.mode;return t.programCache.hasOwnProperty(A)||(e=this.buildSource(this.mode),t.programCache[A]=this.createProgram(t.context,e)),t.programCache[A]},applyTo2d:function(t){var A,r,n,i,o,s,a,c=t.imageData.data,u=c.length,h=1-this.alpha;A=(a=new e.Color(this.color).getSource())[0]*this.alpha,r=a[1]*this.alpha,n=a[2]*this.alpha;for(var l=0;l<u;l+=4)switch(i=c[l],o=c[l+1],s=c[l+2],this.mode){case"multiply":c[l]=i*A/255,c[l+1]=o*r/255,c[l+2]=s*n/255;break;case"screen":c[l]=255-(255-i)*(255-A)/255,c[l+1]=255-(255-o)*(255-r)/255,c[l+2]=255-(255-s)*(255-n)/255;break;case"add":c[l]=i+A,c[l+1]=o+r,c[l+2]=s+n;break;case"diff":case"difference":c[l]=Math.abs(i-A),c[l+1]=Math.abs(o-r),c[l+2]=Math.abs(s-n);break;case"subtract":c[l]=i-A,c[l+1]=o-r,c[l+2]=s-n;break;case"darken":c[l]=Math.min(i,A),c[l+1]=Math.min(o,r),c[l+2]=Math.min(s,n);break;case"lighten":c[l]=Math.max(i,A),c[l+1]=Math.max(o,r),c[l+2]=Math.max(s,n);break;case"overlay":c[l]=A<128?2*i*A/255:255-2*(255-i)*(255-A)/255,c[l+1]=r<128?2*o*r/255:255-2*(255-o)*(255-r)/255,c[l+2]=n<128?2*s*n/255:255-2*(255-s)*(255-n)/255;break;case"exclusion":c[l]=A+i-2*A*i/255,c[l+1]=r+o-2*r*o/255,c[l+2]=n+s-2*n*s/255;break;case"tint":c[l]=A+i*h,c[l+1]=r+o*h,c[l+2]=n+s*h}},getUniformLocations:function(t,e){return{uColor:t.getUniformLocation(e,"uColor")}},sendUniformData:function(t,A){var r=new e.Color(this.color).getSource();r[0]=this.alpha*r[0]/255,r[1]=this.alpha*r[1]/255,r[2]=this.alpha*r[2]/255,r[3]=this.alpha,t.uniform4fv(A.uColor,r)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),e.Image.filters.BlendColor.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric,A=e.Image.filters,r=e.util.createClass;A.BlendImage=r(A.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:{multiply:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",mask:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"},retrieveShader:function(t){var e=this.type+"_"+this.mode,A=this.fragmentSource[this.mode];return t.programCache.hasOwnProperty(e)||(t.programCache[e]=this.createProgram(t.context,A)),t.programCache[e]},applyToWebGL:function(t){var e=t.context,A=this.createTexture(t.filterBackend,this.image);this.bindAdditionalTexture(e,A,e.TEXTURE1),this.callSuper("applyToWebGL",t),this.unbindAdditionalTexture(e,e.TEXTURE1)},createTexture:function(t,e){return t.getCachedTexture(e.cacheKey,e._element)},calculateMatrix:function(){var t=this.image,e=t._element.width,A=t._element.height;return[1/t.scaleX,0,0,0,1/t.scaleY,0,-t.left/e,-t.top/A,1]},applyTo2d:function(t){var A,r,n,i,o,s,a,c,u,h,l,f=t.imageData,d=t.filterBackend.resources,p=f.data,g=p.length,v=f.width,y=f.height,B=this.image;d.blendImage||(d.blendImage=e.util.createCanvasElement()),h=(u=d.blendImage).getContext("2d"),u.width!==v||u.height!==y?(u.width=v,u.height=y):h.clearRect(0,0,v,y),h.setTransform(B.scaleX,0,0,B.scaleY,B.left,B.top),h.drawImage(B._element,0,0,v,y),l=h.getImageData(0,0,v,y).data;for(var w=0;w<g;w+=4)switch(o=p[w],s=p[w+1],a=p[w+2],c=p[w+3],A=l[w],r=l[w+1],n=l[w+2],i=l[w+3],this.mode){case"multiply":p[w]=o*A/255,p[w+1]=s*r/255,p[w+2]=a*n/255,p[w+3]=c*i/255;break;case"mask":p[w+3]=i}},getUniformLocations:function(t,e){return{uTransformMatrix:t.getUniformLocation(e,"uTransformMatrix"),uImage:t.getUniformLocation(e,"uImage")}},sendUniformData:function(t,e){var A=this.calculateMatrix();t.uniform1i(e.uImage,1),t.uniformMatrix3fv(e.uTransformMatrix,!1,A)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),e.Image.filters.BlendImage.fromObject=function(t,A){e.Image.fromObject(t.image,(function(r){var n=e.util.object.clone(t);n.image=r,A(new e.Image.filters.BlendImage(n))}))}}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),A=Math.pow,r=Math.floor,n=Math.sqrt,i=Math.abs,o=Math.round,s=Math.sin,a=Math.ceil,c=e.Image.filters,u=e.util.createClass;c.Resize=u(c.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(t,e){return{uDelta:t.getUniformLocation(e,"uDelta"),uTaps:t.getUniformLocation(e,"uTaps")}},sendUniformData:function(t,e){t.uniform2fv(e.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),t.uniform1fv(e.uTaps,this.taps)},retrieveShader:function(t){var e=this.getFilterWindow(),A=this.type+"_"+e;if(!t.programCache.hasOwnProperty(A)){var r=this.generateShader(e);t.programCache[A]=this.createProgram(t.context,r)}return t.programCache[A]},getFilterWindow:function(){var t=this.tempScale;return Math.ceil(this.lanczosLobes/t)},getTaps:function(){for(var t=this.lanczosCreate(this.lanczosLobes),e=this.tempScale,A=this.getFilterWindow(),r=new Array(A),n=1;n<=A;n++)r[n-1]=t(n*e);return r},generateShader:function(t){for(var e=new Array(t),A=this.fragmentSourceTOP,r=1;r<=t;r++)e[r-1]=r+".0 * uDelta";return A+="uniform float uTaps["+t+"];\n",A+="void main() {\n",A+="  vec4 color = texture2D(uTexture, vTexCoord);\n",A+="  float sum = 1.0;\n",e.forEach((function(t,e){A+="  color += texture2D(uTexture, vTexCoord + "+t+") * uTaps["+e+"];\n",A+="  color += texture2D(uTexture, vTexCoord - "+t+") * uTaps["+e+"];\n",A+="  sum += 2.0 * uTaps["+e+"];\n"})),A+="  gl_FragColor = color / sum;\n",A+="}"},fragmentSourceTOP:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",applyTo:function(t){t.webgl?(t.passes++,this.width=t.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=t.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),t.destinationWidth=this.dW,this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t),t.sourceWidth=t.destinationWidth,this.height=t.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),t.destinationHeight=this.dH,this._setupFrameBuffer(t),this.applyToWebGL(t),this._swapTextures(t),t.sourceHeight=t.destinationHeight):this.applyTo2d(t)},isNeutralState:function(){return 1===this.scaleX&&1===this.scaleY},lanczosCreate:function(t){return function(e){if(e>=t||e<=-t)return 0;if(e<1.1920929e-7&&e>-1.1920929e-7)return 1;var A=(e*=Math.PI)/t;return s(e)/e*s(A)/A}},applyTo2d:function(t){var e=t.imageData,A=this.scaleX,r=this.scaleY;this.rcpScaleX=1/A,this.rcpScaleY=1/r;var n,i=e.width,s=e.height,a=o(i*A),c=o(s*r);"sliceHack"===this.resizeType?n=this.sliceByTwo(t,i,s,a,c):"hermite"===this.resizeType?n=this.hermiteFastResize(t,i,s,a,c):"bilinear"===this.resizeType?n=this.bilinearFiltering(t,i,s,a,c):"lanczos"===this.resizeType&&(n=this.lanczosResize(t,i,s,a,c)),t.imageData=n},sliceByTwo:function(t,A,n,i,o){var s,a,c=t.imageData,u=!1,h=!1,l=.5*A,f=.5*n,d=e.filterBackend.resources,p=0,g=0,v=A,y=0;for(d.sliceByTwo||(d.sliceByTwo=document.createElement("canvas")),((s=d.sliceByTwo).width<1.5*A||s.height<n)&&(s.width=1.5*A,s.height=n),(a=s.getContext("2d")).clearRect(0,0,1.5*A,n),a.putImageData(c,0,0),i=r(i),o=r(o);!u||!h;)A=l,n=f,i<r(.5*l)?l=r(.5*l):(l=i,u=!0),o<r(.5*f)?f=r(.5*f):(f=o,h=!0),a.drawImage(s,p,g,A,n,v,y,l,f),p=v,g=y,y+=f;return a.getImageData(p,g,i,o)},lanczosResize:function(t,e,o,s,c){var u=t.imageData.data,h=t.ctx.createImageData(s,c),l=h.data,f=this.lanczosCreate(this.lanczosLobes),d=this.rcpScaleX,p=this.rcpScaleY,g=2/this.rcpScaleX,v=2/this.rcpScaleY,y=a(d*this.lanczosLobes/2),B=a(p*this.lanczosLobes/2),w={},m={},C={};return function t(a){var b,_,x,E,F,Q,U,S,I,T,O;for(m.x=(a+.5)*d,C.x=r(m.x),b=0;b<c;b++){for(m.y=(b+.5)*p,C.y=r(m.y),F=0,Q=0,U=0,S=0,I=0,_=C.x-y;_<=C.x+y;_++)if(!(_<0||_>=e)){T=r(1e3*i(_-m.x)),w[T]||(w[T]={});for(var k=C.y-B;k<=C.y+B;k++)k<0||k>=o||(O=r(1e3*i(k-m.y)),w[T][O]||(w[T][O]=f(n(A(T*g,2)+A(O*v,2))/1e3)),(x=w[T][O])>0&&(F+=x,Q+=x*u[E=4*(k*e+_)],U+=x*u[E+1],S+=x*u[E+2],I+=x*u[E+3]))}l[E=4*(b*s+a)]=Q/F,l[E+1]=U/F,l[E+2]=S/F,l[E+3]=I/F}return++a<s?t(a):h}(0)},bilinearFiltering:function(t,e,A,n,i){var o,s,a,c,u,h,l,f,d,p=0,g=this.rcpScaleX,v=this.rcpScaleY,y=4*(e-1),B=t.imageData.data,w=t.ctx.createImageData(n,i),m=w.data;for(a=0;a<i;a++)for(c=0;c<n;c++)for(u=g*c-(o=r(g*c)),h=v*a-(s=r(v*a)),d=4*(s*e+o),l=0;l<4;l++)f=B[d+l]*(1-u)*(1-h)+B[d+4+l]*u*(1-h)+B[d+y+l]*h*(1-u)+B[d+y+4+l]*u*h,m[p++]=f;return w},hermiteFastResize:function(t,e,A,o,s){for(var c=this.rcpScaleX,u=this.rcpScaleY,h=a(c/2),l=a(u/2),f=t.imageData.data,d=t.ctx.createImageData(o,s),p=d.data,g=0;g<s;g++)for(var v=0;v<o;v++){for(var y=4*(v+g*o),B=0,w=0,m=0,C=0,b=0,_=0,x=0,E=(g+.5)*u,F=r(g*u);F<(g+1)*u;F++)for(var Q=i(E-(F+.5))/l,U=(v+.5)*c,S=Q*Q,I=r(v*c);I<(v+1)*c;I++){var T=i(U-(I+.5))/h,O=n(S+T*T);O>1&&O<-1||(B=2*O*O*O-3*O*O+1)>0&&(x+=B*f[(T=4*(I+F*e))+3],m+=B,f[T+3]<255&&(B=B*f[T+3]/250),C+=B*f[T],b+=B*f[T+1],_+=B*f[T+2],w+=B)}p[y]=C/w,p[y+1]=b/w,p[y+2]=_/w,p[y+3]=x/m}return d},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),e.Image.filters.Resize.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),A=e.Image.filters,r=e.util.createClass;A.Contrast=r(A.BaseFilter,{type:"Contrast",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",contrast:0,mainParameter:"contrast",applyTo2d:function(t){if(0!==this.contrast){var e,A=t.imageData.data,r=A.length,n=Math.floor(255*this.contrast),i=259*(n+255)/(255*(259-n));for(e=0;e<r;e+=4)A[e]=i*(A[e]-128)+128,A[e+1]=i*(A[e+1]-128)+128,A[e+2]=i*(A[e+2]-128)+128}},getUniformLocations:function(t,e){return{uContrast:t.getUniformLocation(e,"uContrast")}},sendUniformData:function(t,e){t.uniform1f(e.uContrast,this.contrast)}}),e.Image.filters.Contrast.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),A=e.Image.filters,r=e.util.createClass;A.Saturation=r(A.BaseFilter,{type:"Saturation",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",saturation:0,mainParameter:"saturation",applyTo2d:function(t){if(0!==this.saturation){var e,A,r=t.imageData.data,n=r.length,i=-this.saturation;for(e=0;e<n;e+=4)A=Math.max(r[e],r[e+1],r[e+2]),r[e]+=A!==r[e]?(A-r[e])*i:0,r[e+1]+=A!==r[e+1]?(A-r[e+1])*i:0,r[e+2]+=A!==r[e+2]?(A-r[e+2])*i:0}},getUniformLocations:function(t,e){return{uSaturation:t.getUniformLocation(e,"uSaturation")}},sendUniformData:function(t,e){t.uniform1f(e.uSaturation,-this.saturation)}}),e.Image.filters.Saturation.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),A=e.Image.filters,r=e.util.createClass;A.Blur=r(A.BaseFilter,{type:"Blur",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",blur:0,mainParameter:"blur",applyTo:function(t){t.webgl?(this.aspectRatio=t.sourceWidth/t.sourceHeight,t.passes++,this._setupFrameBuffer(t),this.horizontal=!0,this.applyToWebGL(t),this._swapTextures(t),this._setupFrameBuffer(t),this.horizontal=!1,this.applyToWebGL(t),this._swapTextures(t)):this.applyTo2d(t)},applyTo2d:function(t){t.imageData=this.simpleBlur(t)},simpleBlur:function(t){var A,r,n=t.filterBackend.resources,i=t.imageData.width,o=t.imageData.height;n.blurLayer1||(n.blurLayer1=e.util.createCanvasElement(),n.blurLayer2=e.util.createCanvasElement()),A=n.blurLayer1,r=n.blurLayer2,A.width===i&&A.height===o||(r.width=A.width=i,r.height=A.height=o);var s,a,c,u,h=A.getContext("2d"),l=r.getContext("2d"),f=.06*this.blur*.5;for(h.putImageData(t.imageData,0,0),l.clearRect(0,0,i,o),u=-15;u<=15;u++)c=f*(a=u/15)*i+(s=(Math.random()-.5)/4),l.globalAlpha=1-Math.abs(a),l.drawImage(A,c,s),h.drawImage(r,0,0),l.globalAlpha=1,l.clearRect(0,0,r.width,r.height);for(u=-15;u<=15;u++)c=f*(a=u/15)*o+(s=(Math.random()-.5)/4),l.globalAlpha=1-Math.abs(a),l.drawImage(A,s,c),h.drawImage(r,0,0),l.globalAlpha=1,l.clearRect(0,0,r.width,r.height);t.ctx.drawImage(A,0,0);var d=t.ctx.getImageData(0,0,A.width,A.height);return h.globalAlpha=1,h.clearRect(0,0,A.width,A.height),d},getUniformLocations:function(t,e){return{delta:t.getUniformLocation(e,"uDelta")}},sendUniformData:function(t,e){var A=this.chooseRightDelta();t.uniform2fv(e.delta,A)},chooseRightDelta:function(){var t,e=1,A=[0,0];return this.horizontal?this.aspectRatio>1&&(e=1/this.aspectRatio):this.aspectRatio<1&&(e=this.aspectRatio),t=e*this.blur*.12,this.horizontal?A[0]=t:A[1]=t,A}}),A.Blur.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),A=e.Image.filters,r=e.util.createClass;A.Gamma=r(A.BaseFilter,{type:"Gamma",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",gamma:[1,1,1],mainParameter:"gamma",initialize:function(t){this.gamma=[1,1,1],A.BaseFilter.prototype.initialize.call(this,t)},applyTo2d:function(t){var e,A=t.imageData.data,r=this.gamma,n=A.length,i=1/r[0],o=1/r[1],s=1/r[2];for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),e=0,n=256;e<n;e++)this.rVals[e]=255*Math.pow(e/255,i),this.gVals[e]=255*Math.pow(e/255,o),this.bVals[e]=255*Math.pow(e/255,s);for(e=0,n=A.length;e<n;e+=4)A[e]=this.rVals[A[e]],A[e+1]=this.gVals[A[e+1]],A[e+2]=this.bVals[A[e+2]]},getUniformLocations:function(t,e){return{uGamma:t.getUniformLocation(e,"uGamma")}},sendUniformData:function(t,e){t.uniform3fv(e.uGamma,this.gamma)}}),e.Image.filters.Gamma.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),A=e.Image.filters,r=e.util.createClass;A.Composed=r(A.BaseFilter,{type:"Composed",subFilters:[],initialize:function(t){this.callSuper("initialize",t),this.subFilters=this.subFilters.slice(0)},applyTo:function(t){t.passes+=this.subFilters.length-1,this.subFilters.forEach((function(e){e.applyTo(t)}))},toObject:function(){return e.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map((function(t){return t.toObject()}))})},isNeutralState:function(){return!this.subFilters.some((function(t){return!t.isNeutralState()}))}}),e.Image.filters.Composed.fromObject=function(t,A){var r=(t.subFilters||[]).map((function(t){return new e.Image.filters[t.type](t)})),n=new e.Image.filters.Composed({subFilters:r});return A&&A(n),n}}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),A=e.Image.filters,r=e.util.createClass;A.HueRotation=r(A.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var t=this.rotation*Math.PI,A=e.util.cos(t),r=e.util.sin(t),n=Math.sqrt(1/3)*r,i=1-A;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=A+i/3,this.matrix[1]=1/3*i-n,this.matrix[2]=1/3*i+n,this.matrix[5]=1/3*i+n,this.matrix[6]=A+1/3*i,this.matrix[7]=1/3*i-n,this.matrix[10]=1/3*i-n,this.matrix[11]=1/3*i+n,this.matrix[12]=A+1/3*i},isNeutralState:function(t){return this.calculateMatrix(),A.BaseFilter.prototype.isNeutralState.call(this,t)},applyTo:function(t){this.calculateMatrix(),A.BaseFilter.prototype.applyTo.call(this,t)}}),e.Image.filters.HueRotation.fromObject=e.Image.filters.BaseFilter.fromObject}(e),function(t){"use strict";var e=t.fabric||(t.fabric={}),A=e.util.object.clone;e.Text?e.warn("fabric.Text is already defined"):(e.Text=e.util.createClass(e.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:e.Object.prototype.stateProperties.concat("fontFamily","fontWeight","fontSize","text","underline","overline","linethrough","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing","styles"),cacheProperties:e.Object.prototype.cacheProperties.concat("fontFamily","fontWeight","fontSize","text","underline","overline","linethrough","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing","styles"),stroke:null,shadow:null,_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(t,e){this.styles=e&&e.styles||{},this.text=t,this.__skipDimension=!0,this.callSuper("initialize",e),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},getMeasuringContext:function(){return e._measuringContext||(e._measuringContext=this.canvas&&this.canvas.contextCache||e.util.createCanvasElement().getContext("2d")),e._measuringContext},_splitText:function(){var t=this._splitTextIntoLines(this.text);return this.textLines=t.lines,this._textLines=t.graphemeLines,this._unwrappedTextLines=t._unwrappedLines,this._text=t.graphemeText,t},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var t,e,A,r,n,i,o,s=0,a=this._textLines.length;s<a;s++)if(("justify"===this.textAlign||s!==a-1&&!this.isEndOfWrapping(s))&&(r=0,n=this._textLines[s],(e=this.getLineWidth(s))<this.width&&(o=this.textLines[s].match(this._reSpacesAndTabs)))){A=o.length,t=(this.width-e)/A;for(var c=0,u=n.length;c<=u;c++)i=this.__charBounds[s][c],this._reSpaceAndTab.test(n[c])?(i.width+=t,i.kernedWidth+=t,i.left+=r,r+=t):i.left+=r}},isEndOfWrapping:function(t){return t===this._textLines.length-1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var t=this.callSuper("_getCacheCanvasDimensions"),e=this.fontSize;return t.width+=e*t.zoomX,t.height+=e*t.zoomY,t},_render:function(t){this._setTextStyles(t),this._renderTextLinesBackground(t),this._renderTextDecoration(t,"underline"),this._renderText(t),this._renderTextDecoration(t,"overline"),this._renderTextDecoration(t,"linethrough")},_renderText:function(t){"stroke"===this.paintFirst?(this._renderTextStroke(t),this._renderTextFill(t)):(this._renderTextFill(t),this._renderTextStroke(t))},_setTextStyles:function(t,e,A){t.textBaseline="alphabetic",t.font=this._getFontDeclaration(e,A)},calcTextWidth:function(){for(var t=this.getLineWidth(0),e=1,A=this._textLines.length;e<A;e++){var r=this.getLineWidth(e);r>t&&(t=r)}return t},_renderTextLine:function(t,e,A,r,n,i){this._renderChars(t,e,A,r,n,i)},_renderTextLinesBackground:function(t){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var e,A,r,n,i,o,s=0,a=t.fillStyle,c=this._getLeftOffset(),u=this._getTopOffset(),h=0,l=0,f=0,d=this._textLines.length;f<d;f++)if(e=this.getHeightOfLine(f),this.textBackgroundColor||this.styleHas("textBackgroundColor",f)){r=this._textLines[f],A=this._getLineLeftOffset(f),l=0,h=0,n=this.getValueOfPropertyAt(f,0,"textBackgroundColor");for(var p=0,g=r.length;p<g;p++)i=this.__charBounds[f][p],(o=this.getValueOfPropertyAt(f,p,"textBackgroundColor"))!==n?(t.fillStyle=n,n&&t.fillRect(c+A+h,u+s,l,e/this.lineHeight),h=i.left,l=i.width,n=o):l+=i.kernedWidth;o&&(t.fillStyle=o,t.fillRect(c+A+h,u+s,l,e/this.lineHeight)),s+=e}else s+=e;t.fillStyle=a,this._removeShadow(t)}},getFontCache:function(t){var A=t.fontFamily.toLowerCase();e.charWidthsCache[A]||(e.charWidthsCache[A]={});var r=e.charWidthsCache[A],n=t.fontStyle.toLowerCase()+"_"+(t.fontWeight+"").toLowerCase();return r[n]||(r[n]={}),r[n]},_applyCharStyles:function(t,e,A,r,n){this._setFillStyles(e,n),this._setStrokeStyles(e,n),e.font=this._getFontDeclaration(n)},_measureChar:function(t,e,A,r){var n,i,o,s,a=this.getFontCache(e),c=A+t,u=this._getFontDeclaration(e)===this._getFontDeclaration(r),h=e.fontSize/this.CACHE_FONT_SIZE;if(A&&void 0!==a[A]&&(o=a[A]),void 0!==a[t]&&(s=n=a[t]),u&&void 0!==a[c]&&(s=(i=a[c])-o),void 0===n||void 0===o||void 0===i){var l=this.getMeasuringContext();this._setTextStyles(l,e,!0)}return void 0===n&&(s=n=l.measureText(t).width,a[t]=n),void 0===o&&u&&A&&(o=l.measureText(A).width,a[A]=o),u&&void 0===i&&(i=l.measureText(c).width,a[c]=i,s=i-o),{width:n*h,kernedWidth:s*h}},getHeightOfChar:function(t,e){return this.getValueOfPropertyAt(t,e,"fontSize")},measureLine:function(t){var e=this._measureLine(t);return 0!==this.charSpacing&&(e.width-=this._getWidthOfCharSpacing()),e.width<0&&(e.width=0),e},_measureLine:function(t){var e,A,r,n,i=0,o=this._textLines[t],s=new Array(o.length);for(this.__charBounds[t]=s,e=0;e<o.length;e++)A=o[e],n=this._getGraphemeBox(A,t,e,r),s[e]=n,i+=n.kernedWidth,r=A;return s[e]={left:n?n.left+n.width:0,width:0,kernedWidth:0,height:this.fontSize},{width:i,numOfSpaces:0}},_getGraphemeBox:function(t,e,A,r,n){var i,o=this.getCompleteStyleDeclaration(e,A),s=r?this.getCompleteStyleDeclaration(e,A-1):{},a=this._measureChar(t,o,r,s),c=a.kernedWidth,u=a.width;0!==this.charSpacing&&(u+=i=this._getWidthOfCharSpacing(),c+=i);var h={width:u,left:0,height:o.fontSize,kernedWidth:c,deltaY:o.deltaY};if(A>0&&!n){var l=this.__charBounds[e][A-1];h.left=l.left+l.width+a.kernedWidth-a.width}return h},getHeightOfLine:function(t){if(this.__lineHeights[t])return this.__lineHeights[t];for(var e=this._textLines[t],A=this.getHeightOfChar(t,0),r=1,n=e.length;r<n;r++)A=Math.max(this.getHeightOfChar(t,r),A);return this.__lineHeights[t]=A*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var t,e=0,A=0,r=this._textLines.length;A<r;A++)t=this.getHeightOfLine(A),e+=A===r-1?t/this.lineHeight:t;return e},_getLeftOffset:function(){return-this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(t,e){t.save();for(var A=0,r=this._getLeftOffset(),n=this._getTopOffset(),i=this._applyPatternGradientTransform(t,"fillText"===e?this.fill:this.stroke),o=0,s=this._textLines.length;o<s;o++){var a=this.getHeightOfLine(o),c=a/this.lineHeight,u=this._getLineLeftOffset(o);this._renderTextLine(e,t,this._textLines[o],r+u-i.offsetX,n+A+c-i.offsetY,o),A+=a}t.restore()},_renderTextFill:function(t){(this.fill||this.styleHas("fill"))&&this._renderTextCommon(t,"fillText")},_renderTextStroke:function(t){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(t),t.save(),this._setLineDash(t,this.strokeDashArray),t.beginPath(),this._renderTextCommon(t,"strokeText"),t.closePath(),t.restore())},_renderChars:function(t,e,A,r,n,i){var o,s,a,c,u=this.getHeightOfLine(i),h=-1!==this.textAlign.indexOf("justify"),l="",f=0,d=!h&&0===this.charSpacing&&this.isEmptyStyles(i);if(e.save(),n-=u*this._fontSizeFraction/this.lineHeight,d)return this._renderChar(t,e,i,0,this.textLines[i],r,n,u),void e.restore();for(var p=0,g=A.length-1;p<=g;p++)c=p===g||this.charSpacing,l+=A[p],a=this.__charBounds[i][p],0===f?(r+=a.kernedWidth-a.width,f+=a.width):f+=a.kernedWidth,h&&!c&&this._reSpaceAndTab.test(A[p])&&(c=!0),c||(o=o||this.getCompleteStyleDeclaration(i,p),s=this.getCompleteStyleDeclaration(i,p+1),c=this._hasStyleChanged(o,s)),c&&(this._renderChar(t,e,i,p,l,r,n,u),l="",o=s,r+=f,f=0);e.restore()},_renderChar:function(t,e,A,r,n,i,o){var s=this._getStyleDeclaration(A,r),a=this.getCompleteStyleDeclaration(A,r),c="fillText"===t&&a.fill,u="strokeText"===t&&a.stroke&&a.strokeWidth;(u||c)&&(s&&e.save(),this._applyCharStyles(t,e,A,r,a),s&&s.textBackgroundColor&&this._removeShadow(e),s&&s.deltaY&&(o+=s.deltaY),c&&e.fillText(n,i,o),u&&e.strokeText(n,i,o),s&&e.restore())},setSuperscript:function(t,e){return this._setScript(t,e,this.superscript)},setSubscript:function(t,e){return this._setScript(t,e,this.subscript)},_setScript:function(t,e,A){var r=this.get2DCursorLocation(t,!0),n=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"fontSize"),i=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"deltaY"),o={fontSize:n*A.size,deltaY:i+n*A.baseline};return this.setSelectionStyles(o,t,e),this},_hasStyleChanged:function(t,e){return t.fill!==e.fill||t.stroke!==e.stroke||t.strokeWidth!==e.strokeWidth||t.fontSize!==e.fontSize||t.fontFamily!==e.fontFamily||t.fontWeight!==e.fontWeight||t.fontStyle!==e.fontStyle||t.deltaY!==e.deltaY},_hasStyleChangedForSvg:function(t,e){return this._hasStyleChanged(t,e)||t.overline!==e.overline||t.underline!==e.underline||t.linethrough!==e.linethrough},_getLineLeftOffset:function(t){var e=this.getLineWidth(t);return"center"===this.textAlign?(this.width-e)/2:"right"===this.textAlign?this.width-e:"justify-center"===this.textAlign&&this.isEndOfWrapping(t)?(this.width-e)/2:"justify-right"===this.textAlign&&this.isEndOfWrapping(t)?this.width-e:0},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var t=this._forceClearCache;return t||(t=this.hasStateChanged("_dimensionAffectingProps")),t&&(this.dirty=!0,this._forceClearCache=!1),t},getLineWidth:function(t){return this.__lineWidths[t]?this.__lineWidths[t]:(e=""===this._textLines[t]?0:this.measureLine(t).width,this.__lineWidths[t]=e,e);var e},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(t,e,A){var r=this._getStyleDeclaration(t,e);return r&&void 0!==r[A]?r[A]:this[A]},_renderTextDecoration:function(t,e){if(this[e]||this.styleHas(e)){for(var A,r,n,i,o,s,a,c,u,h,l,f,d,p,g,v,y=this._getLeftOffset(),B=this._getTopOffset(),w=this._getWidthOfCharSpacing(),m=0,C=this._textLines.length;m<C;m++)if(A=this.getHeightOfLine(m),this[e]||this.styleHas(e,m)){a=this._textLines[m],p=A/this.lineHeight,i=this._getLineLeftOffset(m),h=0,l=0,c=this.getValueOfPropertyAt(m,0,e),v=this.getValueOfPropertyAt(m,0,"fill"),u=B+p*(1-this._fontSizeFraction),r=this.getHeightOfChar(m,0),o=this.getValueOfPropertyAt(m,0,"deltaY");for(var b=0,_=a.length;b<_;b++)f=this.__charBounds[m][b],d=this.getValueOfPropertyAt(m,b,e),g=this.getValueOfPropertyAt(m,b,"fill"),n=this.getHeightOfChar(m,b),s=this.getValueOfPropertyAt(m,b,"deltaY"),(d!==c||g!==v||n!==r||s!==o)&&l>0?(t.fillStyle=v,c&&v&&t.fillRect(y+i+h,u+this.offsets[e]*r+o,l,this.fontSize/15),h=f.left,l=f.width,c=d,v=g,r=n,o=s):l+=f.kernedWidth;t.fillStyle=g,d&&g&&t.fillRect(y+i+h,u+this.offsets[e]*r+o,l-w,this.fontSize/15),B+=A}else B+=A;this._removeShadow(t)}},_getFontDeclaration:function(t,A){var r=t||this,n=this.fontFamily,i=e.Text.genericFonts.indexOf(n.toLowerCase())>-1,o=void 0===n||n.indexOf("'")>-1||n.indexOf('"')>-1||i?r.fontFamily:'"'+r.fontFamily+'"';return[e.isLikelyNode?r.fontWeight:r.fontStyle,e.isLikelyNode?r.fontStyle:r.fontWeight,A?this.CACHE_FONT_SIZE+"px":r.fontSize+"px",o].join(" ")},render:function(t){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",t)))},_splitTextIntoLines:function(t){for(var A=t.split(this._reNewline),r=new Array(A.length),n=["\n"],i=[],o=0;o<A.length;o++)r[o]=e.util.string.graphemeSplit(A[o]),i=i.concat(r[o],n);return i.pop(),{_unwrappedLines:r,lines:A,graphemeText:i,graphemeLines:r}},toObject:function(t){var e=["text","fontSize","fontWeight","fontFamily","fontStyle","lineHeight","underline","overline","linethrough","textAlign","textBackgroundColor","charSpacing"].concat(t),r=this.callSuper("toObject",e);return r.styles=A(this.styles,!0),r},set:function(t,e){this.callSuper("set",t,e);var A=!1;if("object"==typeof t)for(var r in t)A=A||-1!==this._dimensionAffectingProps.indexOf(r);else A=-1!==this._dimensionAffectingProps.indexOf(t);return A&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),e.Text.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),e.Text.DEFAULT_SVG_FONT_SIZE=16,e.Text.fromElement=function(t,r,n){if(!t)return r(null);var i=e.parseAttributes(t,e.Text.ATTRIBUTE_NAMES),o=i.textAnchor||"left";if((n=e.util.object.extend(n?A(n):{},i)).top=n.top||0,n.left=n.left||0,i.textDecoration){var s=i.textDecoration;-1!==s.indexOf("underline")&&(n.underline=!0),-1!==s.indexOf("overline")&&(n.overline=!0),-1!==s.indexOf("line-through")&&(n.linethrough=!0),delete n.textDecoration}"dx"in i&&(n.left+=i.dx),"dy"in i&&(n.top+=i.dy),"fontSize"in n||(n.fontSize=e.Text.DEFAULT_SVG_FONT_SIZE);var a="";"textContent"in t?a=t.textContent:"firstChild"in t&&null!==t.firstChild&&"data"in t.firstChild&&null!==t.firstChild.data&&(a=t.firstChild.data),a=a.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var c=n.strokeWidth;n.strokeWidth=0;var u=new e.Text(a,n),h=u.getScaledHeight()/u.height,l=((u.height+u.strokeWidth)*u.lineHeight-u.height)*h,f=u.getScaledHeight()+l,d=0;"center"===o&&(d=u.getScaledWidth()/2),"right"===o&&(d=u.getScaledWidth()),u.set({left:u.left-d,top:u.top-(f-u.fontSize*(.07+u._fontSizeFraction))/u.lineHeight,strokeWidth:void 0!==c?c:1}),r(u)},e.Text.fromObject=function(t,A){return e.Object._fromObject("Text",t,A,"text")},e.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],e.util.createAccessors&&e.util.createAccessors(e.Text))}(e),x.util.object.extend(x.Text.prototype,{isEmptyStyles:function(t){if(!this.styles)return!0;if(void 0!==t&&!this.styles[t])return!0;var e=void 0===t?this.styles:{line:this.styles[t]};for(var A in e)for(var r in e[A])for(var n in e[A][r])return!1;return!0},styleHas:function(t,e){if(!this.styles||!t||""===t)return!1;if(void 0!==e&&!this.styles[e])return!1;var A=void 0===e?this.styles:{line:this.styles[e]};for(var r in A)for(var n in A[r])if(void 0!==A[r][n][t])return!0;return!1},cleanStyle:function(t){if(!this.styles||!t||""===t)return!1;var e,A,r=this.styles,n=0,i=!0,o=0;for(var s in r){for(var a in e=0,r[s]){var c;n++,(c=r[s][a]).hasOwnProperty(t)?(A?c[t]!==A&&(i=!1):A=c[t],c[t]===this[t]&&delete c[t]):i=!1,0!==Object.keys(c).length?e++:delete r[s][a]}0===e&&delete r[s]}for(var u=0;u<this._textLines.length;u++)o+=this._textLines[u].length;i&&n===o&&(this[t]=A,this.removeStyle(t))},removeStyle:function(t){if(this.styles&&t&&""!==t){var e,A,r,n=this.styles;for(A in n){for(r in e=n[A])delete e[r][t],0===Object.keys(e[r]).length&&delete e[r];0===Object.keys(e).length&&delete n[A]}}},_extendStyles:function(t,e){var A=this.get2DCursorLocation(t);this._getLineStyle(A.lineIndex)||this._setLineStyle(A.lineIndex,{}),this._getStyleDeclaration(A.lineIndex,A.charIndex)||this._setStyleDeclaration(A.lineIndex,A.charIndex,{}),x.util.object.extend(this._getStyleDeclaration(A.lineIndex,A.charIndex),e)},get2DCursorLocation:function(t,e){void 0===t&&(t=this.selectionStart);for(var A=e?this._unwrappedTextLines:this._textLines,r=A.length,n=0;n<r;n++){if(t<=A[n].length)return{lineIndex:n,charIndex:t};t-=A[n].length+1}return{lineIndex:n-1,charIndex:A[n-1].length<t?A[n-1].length:t}},getSelectionStyles:function(t,e,A){void 0===t&&(t=this.selectionStart||0),void 0===e&&(e=this.selectionEnd||t);for(var r=[],n=t;n<e;n++)r.push(this.getStyleAtPosition(n,A));return r},getStyleAtPosition:function(t,e){var A=this.get2DCursorLocation(t);return(e?this.getCompleteStyleDeclaration(A.lineIndex,A.charIndex):this._getStyleDeclaration(A.lineIndex,A.charIndex))||{}},setSelectionStyles:function(t,e,A){void 0===e&&(e=this.selectionStart||0),void 0===A&&(A=this.selectionEnd||e);for(var r=e;r<A;r++)this._extendStyles(r,t);return this._forceClearCache=!0,this},_getStyleDeclaration:function(t,e){var A=this.styles&&this.styles[t];return A?A[e]:null},getCompleteStyleDeclaration:function(t,e){for(var A,r=this._getStyleDeclaration(t,e)||{},n={},i=0;i<this._styleProperties.length;i++)n[A=this._styleProperties[i]]=void 0===r[A]?this[A]:r[A];return n},_setStyleDeclaration:function(t,e,A){this.styles[t][e]=A},_deleteStyleDeclaration:function(t,e){delete this.styles[t][e]},_getLineStyle:function(t){return this.styles[t]},_setLineStyle:function(t,e){this.styles[t]=e},_deleteLineStyle:function(t){delete this.styles[t]}}),function(){function t(t){t.textDecoration&&(t.textDecoration.indexOf("underline")>-1&&(t.underline=!0),t.textDecoration.indexOf("line-through")>-1&&(t.linethrough=!0),t.textDecoration.indexOf("overline")>-1&&(t.overline=!0),delete t.textDecoration)}x.IText=x.util.createClass(x.Text,x.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"#333",cursorDelay:1e3,cursorDuration:600,caching:!0,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(t,e){this.callSuper("initialize",t,e),this.initBehavior()},setSelectionStart:function(t){t=Math.max(t,0),this._updateAndFire("selectionStart",t)},setSelectionEnd:function(t){t=Math.min(t,this.text.length),this._updateAndFire("selectionEnd",t)},_updateAndFire:function(t,e){this[t]!==e&&(this._fireSelectionChanged(),this[t]=e),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(t){this.clearContextTop(),this.callSuper("render",t),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(t){this.callSuper("_render",t)},clearContextTop:function(t){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var e=this.canvas.contextTop,A=this.canvas.viewportTransform;e.save(),e.transform(A[0],A[1],A[2],A[3],A[4],A[5]),this.transform(e),this.transformMatrix&&e.transform.apply(e,this.transformMatrix),this._clearTextArea(e),t||e.restore()}},renderCursorOrSelection:function(){if(this.isEditing&&this.canvas){var t,e=this._getCursorBoundaries();this.canvas&&this.canvas.contextTop?(t=this.canvas.contextTop,this.clearContextTop(!0)):(t=this.canvas.contextContainer).save(),this.selectionStart===this.selectionEnd?this.renderCursor(e,t):this.renderSelection(e,t),t.restore()}},_clearTextArea:function(t){var e=this.width+4,A=this.height+4;t.clearRect(-e/2,-A/2,e,A)},_getCursorBoundaries:function(t){void 0===t&&(t=this.selectionStart);var e=this._getLeftOffset(),A=this._getTopOffset(),r=this._getCursorBoundariesOffsets(t);return{left:e,top:A,leftOffset:r.left,topOffset:r.top}},_getCursorBoundariesOffsets:function(t){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var e,A,r,n,i=0,o=0,s=this.get2DCursorLocation(t);r=s.charIndex,A=s.lineIndex;for(var a=0;a<A;a++)i+=this.getHeightOfLine(a);e=this._getLineLeftOffset(A);var c=this.__charBounds[A][r];return c&&(o=c.left),0!==this.charSpacing&&r===this._textLines[A].length&&(o-=this._getWidthOfCharSpacing()),n={top:i,left:e+(o>0?o:0)},this.cursorOffsetCache=n,this.cursorOffsetCache},renderCursor:function(t,e){var A=this.get2DCursorLocation(),r=A.lineIndex,n=A.charIndex>0?A.charIndex-1:0,i=this.getValueOfPropertyAt(r,n,"fontSize"),o=this.scaleX*this.canvas.getZoom(),s=this.cursorWidth/o,a=t.topOffset,c=this.getValueOfPropertyAt(r,n,"deltaY");a+=(1-this._fontSizeFraction)*this.getHeightOfLine(r)/this.lineHeight-i*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(t,e),e.fillStyle=this.getValueOfPropertyAt(r,n,"fill"),e.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,e.fillRect(t.left+t.leftOffset-s/2,a+t.top+c,s,i)},renderSelection:function(t,e){for(var A=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,r=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,n=-1!==this.textAlign.indexOf("justify"),i=this.get2DCursorLocation(A),o=this.get2DCursorLocation(r),s=i.lineIndex,a=o.lineIndex,c=i.charIndex<0?0:i.charIndex,u=o.charIndex<0?0:o.charIndex,h=s;h<=a;h++){var l,f=this._getLineLeftOffset(h)||0,d=this.getHeightOfLine(h),p=0,g=0;if(h===s&&(p=this.__charBounds[s][c].left),h>=s&&h<a)g=n&&!this.isEndOfWrapping(h)?this.width:this.getLineWidth(h)||5;else if(h===a)if(0===u)g=this.__charBounds[a][u].left;else{var v=this._getWidthOfCharSpacing();g=this.__charBounds[a][u-1].left+this.__charBounds[a][u-1].width-v}l=d,(this.lineHeight<1||h===a&&this.lineHeight>1)&&(d/=this.lineHeight),this.inCompositionMode?(e.fillStyle=this.compositionColor||"black",e.fillRect(t.left+f+p,t.top+t.topOffset+d,g-p,1)):(e.fillStyle=this.selectionColor,e.fillRect(t.left+f+p,t.top+t.topOffset,g-p,d)),t.topOffset+=l}},getCurrentCharFontSize:function(){var t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fontSize")},getCurrentCharColor:function(){var t=this._getCurrentCharIndex();return this.getValueOfPropertyAt(t.l,t.c,"fill")},_getCurrentCharIndex:function(){var t=this.get2DCursorLocation(this.selectionStart,!0),e=t.charIndex>0?t.charIndex-1:0;return{l:t.lineIndex,c:e}}}),x.IText.fromObject=function(e,A){if(t(e),e.styles)for(var r in e.styles)for(var n in e.styles[r])t(e.styles[r][n]);x.Object._fromObject("IText",e,A,"text")}}(),m=x.util.object.clone,x.util.object.extend(x.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var t=this;this.on("added",(function(){var e=t.canvas;e&&(e._hasITextHandlers||(e._hasITextHandlers=!0,t._initCanvasHandlers(e)),e._iTextInstances=e._iTextInstances||[],e._iTextInstances.push(t))}))},initRemovedHandler:function(){var t=this;this.on("removed",(function(){var e=t.canvas;e&&(e._iTextInstances=e._iTextInstances||[],x.util.removeFromArray(e._iTextInstances,t),0===e._iTextInstances.length&&(e._hasITextHandlers=!1,t._removeCanvasHandlers(e)))}))},_initCanvasHandlers:function(t){t._mouseUpITextHandler=function(){t._iTextInstances&&t._iTextInstances.forEach((function(t){t.__isMousedown=!1}))},t.on("mouse:up",t._mouseUpITextHandler)},_removeCanvasHandlers:function(t){t.off("mouse:up",t._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(t,e,A,r){var n;return n={isAborted:!1,abort:function(){this.isAborted=!0}},t.animate("_currentCursorOpacity",e,{duration:A,onComplete:function(){n.isAborted||t[r]()},onChange:function(){t.canvas&&t.selectionStart===t.selectionEnd&&t.renderCursorOrSelection()},abort:function(){return n.isAborted}}),n},_onTickComplete:function(){var t=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout((function(){t._currentTickCompleteState=t._animateCursor(t,0,this.cursorDuration/2,"_tick")}),100)},initDelayedCursor:function(t){var e=this,A=t?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout((function(){e._tick()}),A)},abortCursorAnimation:function(){var t=this._currentTickState||this._currentTickCompleteState,e=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,t&&e&&e.clearContext(e.contextTop||e.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(t){var e=0,A=t-1;if(this._reSpace.test(this._text[A]))for(;this._reSpace.test(this._text[A]);)e++,A--;for(;/\S/.test(this._text[A])&&A>-1;)e++,A--;return t-e},findWordBoundaryRight:function(t){var e=0,A=t;if(this._reSpace.test(this._text[A]))for(;this._reSpace.test(this._text[A]);)e++,A++;for(;/\S/.test(this._text[A])&&A<this.text.length;)e++,A++;return t+e},findLineBoundaryLeft:function(t){for(var e=0,A=t-1;!/\n/.test(this._text[A])&&A>-1;)e++,A--;return t-e},findLineBoundaryRight:function(t){for(var e=0,A=t;!/\n/.test(this._text[A])&&A<this.text.length;)e++,A++;return t+e},searchWordBoundary:function(t,e){for(var A=this._reSpace.test(this.text.charAt(t))?t-1:t,r=this.text.charAt(A),n=/[ \n\.,;!\?\-]/;!n.test(r)&&A>0&&A<this.text.length;)A+=e,r=this.text.charAt(A);return n.test(r)&&"\n"!==r&&(A+=1===e?0:1),A},selectWord:function(t){t=t||this.selectionStart;var e=this.searchWordBoundary(t,-1),A=this.searchWordBoundary(t,1);this.selectionStart=e,this.selectionEnd=A,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(t){t=t||this.selectionStart;var e=this.findLineBoundaryLeft(t),A=this.findLineBoundaryRight(t);return this.selectionStart=e,this.selectionEnd=A,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(t){if(!this.isEditing&&this.editable)return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(t),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(t){t._iTextInstances&&t._iTextInstances.forEach((function(t){t.selected=!1,t.isEditing&&t.exitEditing()}))},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(t){if(this.__isMousedown&&this.isEditing){var e=this.getSelectionStartFromPointer(t.e),A=this.selectionStart,r=this.selectionEnd;(e===this.__selectionStartOnMouseDown&&A!==r||A!==e&&r!==e)&&(e>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=e):(this.selectionStart=e,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===A&&this.selectionEnd===r||(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(t,e,A){var r=A.slice(0,t),n=x.util.string.graphemeSplit(r).length;if(t===e)return{selectionStart:n,selectionEnd:n};var i=A.slice(t,e);return{selectionStart:n,selectionEnd:n+x.util.string.graphemeSplit(i).length}},fromGraphemeToStringSelection:function(t,e,A){var r=A.slice(0,t).join("").length;return t===e?{selectionStart:r,selectionEnd:r}:{selectionStart:r,selectionEnd:r+A.slice(t,e).join("").length}},_updateTextarea:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var t=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=t.selectionStart,this.hiddenTextarea.selectionEnd=t.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var t=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=t.selectionEnd,this.inCompositionMode||(this.selectionStart=t.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var t=this._calcTextareaPosition();this.hiddenTextarea.style.left=t.left,this.hiddenTextarea.style.top=t.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var t=this.inCompositionMode?this.compositionStart:this.selectionStart,e=this._getCursorBoundaries(t),A=this.get2DCursorLocation(t),r=A.lineIndex,n=A.charIndex,i=this.getValueOfPropertyAt(r,n,"fontSize")*this.lineHeight,o=e.leftOffset,s=this.calcTransformMatrix(),a={x:e.left+o,y:e.top+e.topOffset+i},c=this.canvas.upperCanvasEl,u=c.width,h=c.height,l=u-i,f=h-i,d=c.clientWidth/u,p=c.clientHeight/h;return a=x.util.transformPoint(a,s),(a=x.util.transformPoint(a,this.canvas.viewportTransform)).x*=d,a.y*=p,a.x<0&&(a.x=0),a.x>l&&(a.x=l),a.y<0&&(a.y=0),a.y>f&&(a.y=f),a.x+=this.canvas._offset.left,a.y+=this.canvas._offset.top,{left:a.x+"px",top:a.y+"px",fontSize:i+"px",charHeight:i}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var t=this._textBeforeEdit!==this.text;return this.selected=!1,this.isEditing=!1,this.selectable=!0,this.selectionEnd=this.selectionStart,this.hiddenTextarea&&(this.hiddenTextarea.blur&&this.hiddenTextarea.blur(),this.canvas&&this.hiddenTextarea.parentNode.removeChild(this.hiddenTextarea),this.hiddenTextarea=null),this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),t&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),t&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var t in this.styles)this._textLines[t]||delete this.styles[t]},removeStyleFromTo:function(t,e){var A,r,n=this.get2DCursorLocation(t,!0),i=this.get2DCursorLocation(e,!0),o=n.lineIndex,s=n.charIndex,a=i.lineIndex,c=i.charIndex;if(o!==a){if(this.styles[o])for(A=s;A<this._unwrappedTextLines[o].length;A++)delete this.styles[o][A];if(this.styles[a])for(A=c;A<this._unwrappedTextLines[a].length;A++)(r=this.styles[a][A])&&(this.styles[o]||(this.styles[o]={}),this.styles[o][s+A-c]=r);for(A=o+1;A<=a;A++)delete this.styles[A];this.shiftLineStyles(a,o-a)}else if(this.styles[o]){r=this.styles[o];var u,h,l=c-s;for(A=s;A<c;A++)delete r[A];for(h in this.styles[o])(u=parseInt(h,10))>=c&&(r[u-l]=r[h],delete r[h])}},shiftLineStyles:function(t,e){var A=m(this.styles);for(var r in this.styles){var n=parseInt(r,10);n>t&&(this.styles[n+e]=A[n],A[n-e]||delete this.styles[n])}},restartCursorIfNeeded:function(){this._currentTickState&&!this._currentTickState.isAborted&&this._currentTickCompleteState&&!this._currentTickCompleteState.isAborted||this.initDelayedCursor()},insertNewlineStyleObject:function(t,e,A,r){var n,i={},o=!1;for(var s in A||(A=1),this.shiftLineStyles(t,A),this.styles[t]&&(n=this.styles[t][0===e?e:e-1]),this.styles[t]){var a=parseInt(s,10);a>=e&&(o=!0,i[a-e]=this.styles[t][s],delete this.styles[t][s])}for(o?this.styles[t+A]=i:delete this.styles[t+A];A>1;)A--,r&&r[A]?this.styles[t+A]={0:m(r[A])}:n?this.styles[t+A]={0:m(n)}:delete this.styles[t+A];this._forceClearCache=!0},insertCharStyleObject:function(t,e,A,r){this.styles||(this.styles={});var n=this.styles[t],i=n?m(n):{};for(var o in A||(A=1),i){var s=parseInt(o,10);s>=e&&(n[s+A]=i[s],i[s-A]||delete n[s])}if(this._forceClearCache=!0,r)for(;A--;)Object.keys(r[A]).length&&(this.styles[t]||(this.styles[t]={}),this.styles[t][e+A]=m(r[A]));else if(n)for(var a=n[e?e-1:1];a&&A--;)this.styles[t][e+A]=m(a)},insertNewStyleBlock:function(t,e,A){for(var r=this.get2DCursorLocation(e,!0),n=[0],i=0,o=0;o<t.length;o++)"\n"===t[o]?n[++i]=0:n[i]++;for(n[0]>0&&(this.insertCharStyleObject(r.lineIndex,r.charIndex,n[0],A),A=A&&A.slice(n[0]+1)),i&&this.insertNewlineStyleObject(r.lineIndex,r.charIndex+n[0],i),o=1;o<i;o++)n[o]>0?this.insertCharStyleObject(r.lineIndex+o,0,n[o],A):A&&(this.styles[r.lineIndex+o][0]=A[0]),A=A&&A.slice(n[o]+1);n[o]>0&&this.insertCharStyleObject(r.lineIndex+o,0,n[o],A)},setSelectionStartEndWithShift:function(t,e,A){A<=t?(e===t?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=t),this.selectionStart=A):A>t&&A<e?"right"===this._selectionDirection?this.selectionEnd=A:this.selectionStart=A:(e===t?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=e),this.selectionEnd=A)},setSelectionInBoundaries:function(){var t=this.text.length;this.selectionStart>t?this.selectionStart=t:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>t?this.selectionEnd=t:this.selectionEnd<0&&(this.selectionEnd=0)}}),x.util.object.extend(x.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(t){if(this.canvas){this.__newClickTime=+new Date;var e=t.pointer;this.isTripleClick(e)&&(this.fire("tripleclick",t),this._stopEvent(t.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=e,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(t){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===t.x&&this.__lastPointer.y===t.y},_stopEvent:function(t){t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},initClicks:function(){this.on("mousedblclick",(function(t){this.selectWord(this.getSelectionStartFromPointer(t.e))})),this.on("tripleclick",(function(t){this.selectLine(this.getSelectionStartFromPointer(t.e))}))},_mouseDownHandler:function(t){!this.canvas||!this.editable||t.e.button&&1!==t.e.button||(this.__isMousedown=!0,this.selected&&this.setCursorByClick(t.e),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(t){!this.canvas||!this.editable||t.e.button&&1!==t.e.button||this===this.canvas._activeObject&&(this.selected=!0)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(t){if(this.__isMousedown=!1,!(!this.editable||this.group||t.transform&&t.transform.actionPerformed||t.e.button&&1!==t.e.button)){if(this.canvas){var e=this.canvas._activeObject;if(e&&e!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(t.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(t){var e=this.getSelectionStartFromPointer(t),A=this.selectionStart,r=this.selectionEnd;t.shiftKey?this.setSelectionStartEndWithShift(A,r,e):(this.selectionStart=e,this.selectionEnd=e),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(t){for(var e=this.getLocalPointer(t),A=0,r=0,n=0,i=0,o=0,s=0,a=this._textLines.length;s<a&&n<=e.y;s++)n+=this.getHeightOfLine(s)*this.scaleY,o=s,s>0&&(i+=this._textLines[s-1].length+1);r=this._getLineLeftOffset(o)*this.scaleX;for(var c=0,u=this._textLines[o].length;c<u&&(A=r,(r+=this.__charBounds[o][c].kernedWidth*this.scaleX)<=e.x);c++)i++;return this._getNewSelectionStartFromOffset(e,A,r,i,u)},_getNewSelectionStartFromOffset:function(t,e,A,r,n){var i=t.x-e,o=A-t.x,s=r+(o>i||o<0?0:1);return this.flipX&&(s=n-s),s>this._text.length&&(s=this._text.length),s}}),x.util.object.extend(x.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=x.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var t=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+t.top+"; left: "+t.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; paddingｰtop: "+t.fontSize+";",x.document.body.appendChild(this.hiddenTextarea),x.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),x.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),x.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),x.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),x.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),x.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),x.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),x.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),x.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(x.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(t){if(this.isEditing&&!this.inCompositionMode){if(t.keyCode in this.keysMap)this[this.keysMap[t.keyCode]](t);else{if(!(t.keyCode in this.ctrlKeysMapDown)||!t.ctrlKey&&!t.metaKey)return;this[this.ctrlKeysMapDown[t.keyCode]](t)}t.stopImmediatePropagation(),t.preventDefault(),t.keyCode>=33&&t.keyCode<=40?(this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(t){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:t.keyCode in this.ctrlKeysMapUp&&(t.ctrlKey||t.metaKey)&&(this[this.ctrlKeysMapUp[t.keyCode]](t),t.stopImmediatePropagation(),t.preventDefault(),this.canvas&&this.canvas.requestRenderAll())},onInput:function(t){var e=this.fromPaste;if(this.fromPaste=!1,t&&t.stopPropagation(),this.isEditing){var A,r,n=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,i=this._text.length,o=n.length,s=o-i;if(""===this.hiddenTextarea.value)return this.styles={},this.updateFromTextArea(),this.fire("changed"),void(this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()));var a=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),c=this.selectionStart>a.selectionStart;this.selectionStart!==this.selectionEnd?(A=this._text.slice(this.selectionStart,this.selectionEnd),s+=this.selectionEnd-this.selectionStart):o<i&&(A=c?this._text.slice(this.selectionEnd+s,this.selectionEnd):this._text.slice(this.selectionStart,this.selectionStart-s)),r=n.slice(a.selectionEnd-s,a.selectionEnd),A&&A.length&&(this.selectionStart!==this.selectionEnd?this.removeStyleFromTo(this.selectionStart,this.selectionEnd):c?this.removeStyleFromTo(this.selectionEnd-A.length,this.selectionEnd):this.removeStyleFromTo(this.selectionEnd,this.selectionEnd+A.length)),r.length&&(e&&r.join("")===x.copiedText?this.insertNewStyleBlock(r,this.selectionStart,x.copiedTextStyle):this.insertNewStyleBlock(r,this.selectionStart)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(t){this.compositionStart=t.target.selectionStart,this.compositionEnd=t.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(x.copiedText=this.getSelectedText(),x.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(t){return t&&t.clipboardData||x.window.clipboardData},_getWidthBeforeCursor:function(t,e){var A,r=this._getLineLeftOffset(t);return e>0&&(r+=(A=this.__charBounds[t][e-1]).left+A.width),r},getDownCursorOffset:function(t,e){var A=this._getSelectionForOffset(t,e),r=this.get2DCursorLocation(A),n=r.lineIndex;if(n===this._textLines.length-1||t.metaKey||34===t.keyCode)return this._text.length-A;var i=r.charIndex,o=this._getWidthBeforeCursor(n,i),s=this._getIndexOnLine(n+1,o);return this._textLines[n].slice(i).length+s+2},_getSelectionForOffset:function(t,e){return t.shiftKey&&this.selectionStart!==this.selectionEnd&&e?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(t,e){var A=this._getSelectionForOffset(t,e),r=this.get2DCursorLocation(A),n=r.lineIndex;if(0===n||t.metaKey||33===t.keyCode)return-A;var i=r.charIndex,o=this._getWidthBeforeCursor(n,i),s=this._getIndexOnLine(n-1,o),a=this._textLines[n].slice(0,i);return-this._textLines[n-1].length+s-a.length},_getIndexOnLine:function(t,e){for(var A,r,n=this._textLines[t],i=this._getLineLeftOffset(t),o=0,s=0,a=n.length;s<a;s++)if((i+=A=this.__charBounds[t][s].width)>e){r=!0;var c=i-A,u=i,h=Math.abs(c-e);o=Math.abs(u-e)<h?s:s-1;break}return r||(o=n.length-1),o},moveCursorDown:function(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",t)},moveCursorUp:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",t)},_moveCursorUpOrDown:function(t,e){var A=this["get"+t+"CursorOffset"](e,"right"===this._selectionDirection);e.shiftKey?this.moveCursorWithShift(A):this.moveCursorWithoutShift(A),0!==A&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(t){var e="left"===this._selectionDirection?this.selectionStart+t:this.selectionEnd+t;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,e),0!==t},moveCursorWithoutShift:function(t){return t<0?(this.selectionStart+=t,this.selectionEnd=this.selectionStart):(this.selectionEnd+=t,this.selectionStart=this.selectionEnd),0!==t},moveCursorLeft:function(t){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",t)},_move:function(t,e,A){var r;if(t.altKey)r=this["findWordBoundary"+A](this[e]);else{if(!t.metaKey&&35!==t.keyCode&&36!==t.keyCode)return this[e]+="Left"===A?-1:1,!0;r=this["findLineBoundary"+A](this[e])}if(void 0!==typeof r&&this[e]!==r)return this[e]=r,!0},_moveLeft:function(t,e){return this._move(t,e,"Left")},_moveRight:function(t,e){return this._move(t,e,"Right")},moveCursorLeftWithoutShift:function(t){var e=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(e=this._moveLeft(t,"selectionStart")),this.selectionEnd=this.selectionStart,e},moveCursorLeftWithShift:function(t){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(t,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(t,"selectionStart")):void 0},moveCursorRight:function(t){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",t)},_moveCursorLeftOrRight:function(t,e){var A="moveCursor"+t+"With";this._currentCursorOpacity=1,e.shiftKey?A+="Shift":A+="outShift",this[A](e)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(t){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(t,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(t,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(t){var e=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(e=this._moveRight(t,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,e},removeChars:function(t,e){void 0===e&&(e=t+1),this.removeStyleFromTo(t,e),this._text.splice(t,e-t),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(t,e,A,r){void 0===r&&(r=A),r>A&&this.removeStyleFromTo(A,r);var n=x.util.string.graphemeSplit(t);this.insertNewStyleBlock(n,A,e),this._text=[].concat(this._text.slice(0,A),n,this._text.slice(r)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),C=x.util.toFixed,b=/  +/g,x.util.object.extend(x.Text.prototype,{toSVG:function(t){var e=this._getSVGLeftTopOffsets(),A=this._getSVGTextAndBg(e.textTop,e.textLeft),r=this._wrapSVGTextAndBg(A);return this._createBaseSVGMarkup(r,{reviver:t,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(t){var e=this.getSvgTextDecoration(this);return[t.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",e?'text-decoration="'+e+'" ':"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",t.textSpans.join(""),"</text>\n"]},_getSVGTextAndBg:function(t,e){var A,r=[],n=[],i=t;this._setSVGBg(n);for(var o=0,s=this._textLines.length;o<s;o++)A=this._getLineLeftOffset(o),(this.textBackgroundColor||this.styleHas("textBackgroundColor",o))&&this._setSVGTextLineBg(n,o,e+A,i),this._setSVGTextLineText(r,o,e+A,i),i+=this.getHeightOfLine(o);return{textSpans:r,textBgRects:n}},_createTextCharSpan:function(t,e,A,r){var n=t!==t.trim()||t.match(b),i=this.getSvgSpanStyles(e,n),o=i?'style="'+i+'"':"",s=e.deltaY,a="",c=x.Object.NUM_FRACTION_DIGITS;return s&&(a=' dy="'+C(s,c)+'" '),['<tspan x="',C(A,c),'" y="',C(r,c),'" ',a,o,">",x.util.string.escapeXml(t),"</tspan>"].join("")},_setSVGTextLineText:function(t,e,A,r){var n,i,o,s,a,c=this.getHeightOfLine(e),u=-1!==this.textAlign.indexOf("justify"),h="",l=0,f=this._textLines[e];r+=c*(1-this._fontSizeFraction)/this.lineHeight;for(var d=0,p=f.length-1;d<=p;d++)a=d===p||this.charSpacing,h+=f[d],o=this.__charBounds[e][d],0===l?(A+=o.kernedWidth-o.width,l+=o.width):l+=o.kernedWidth,u&&!a&&this._reSpaceAndTab.test(f[d])&&(a=!0),a||(n=n||this.getCompleteStyleDeclaration(e,d),i=this.getCompleteStyleDeclaration(e,d+1),a=this._hasStyleChangedForSvg(n,i)),a&&(s=this._getStyleDeclaration(e,d)||{},t.push(this._createTextCharSpan(h,s,A,r)),h="",n=i,A+=l,l=0)},_pushTextBgRect:function(t,e,A,r,n,i){var o=x.Object.NUM_FRACTION_DIGITS;t.push("\t\t<rect ",this._getFillAttributes(e),' x="',C(A,o),'" y="',C(r,o),'" width="',C(n,o),'" height="',C(i,o),'"></rect>\n')},_setSVGTextLineBg:function(t,e,A,r){for(var n,i,o=this._textLines[e],s=this.getHeightOfLine(e)/this.lineHeight,a=0,c=0,u=this.getValueOfPropertyAt(e,0,"textBackgroundColor"),h=0,l=o.length;h<l;h++)n=this.__charBounds[e][h],(i=this.getValueOfPropertyAt(e,h,"textBackgroundColor"))!==u?(u&&this._pushTextBgRect(t,u,A+c,r,a,s),c=n.left,a=n.width,u=i):a+=n.kernedWidth;i&&this._pushTextBgRect(t,i,A+c,r,a,s)},_getFillAttributes:function(t){var e=t&&"string"==typeof t?new x.Color(t):"";return e&&e.getSource()&&1!==e.getAlpha()?'opacity="'+e.getAlpha()+'" fill="'+e.setAlpha(1).toRgb()+'"':'fill="'+t+'"'},_getSVGLineTopOffset:function(t){for(var e,A=0,r=0;r<t;r++)A+=this.getHeightOfLine(r);return e=this.getHeightOfLine(r),{lineTop:A,offset:(this._fontSizeMult-this._fontSizeFraction)*e/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(t){return x.Object.prototype.getSvgStyles.call(this,t)+" white-space: pre;"}}),function(t){"use strict";var e=t.fabric||(t.fabric={});e.Textbox=e.util.createClass(e.IText,e.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:e.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(t){for(var e=0,A=0,r=0,n={},i=0;i<t.graphemeLines.length;i++)"\n"===t.graphemeText[r]&&i>0?(A=0,r++,e++):!this.graphemeSplit&&this._reSpaceAndTab.test(t.graphemeText[r])&&i>0&&(A++,r++),n[i]={line:e,offset:A},r+=t.graphemeLines[i].length,A+=t.graphemeLines[i].length;return n},styleHas:function(t,A){if(this._styleMap&&!this.isWrapping){var r=this._styleMap[A];r&&(A=r.line)}return e.Text.prototype.styleHas.call(this,t,A)},isEmptyStyles:function(t){var e,A,r=0,n=!1,i=this._styleMap[t],o=this._styleMap[t+1];for(var s in i&&(t=i.line,r=i.offset),o&&(n=o.line===t,e=o.offset),A=void 0===t?this.styles:{line:this.styles[t]})for(var a in A[s])if(a>=r&&(!n||a<e))for(var c in A[s][a])return!1;return!0},_getStyleDeclaration:function(t,e){if(this._styleMap&&!this.isWrapping){var A=this._styleMap[t];if(!A)return null;t=A.line,e=A.offset+e}return this.callSuper("_getStyleDeclaration",t,e)},_setStyleDeclaration:function(t,e,A){var r=this._styleMap[t];t=r.line,e=r.offset+e,this.styles[t][e]=A},_deleteStyleDeclaration:function(t,e){var A=this._styleMap[t];t=A.line,e=A.offset+e,delete this.styles[t][e]},_getLineStyle:function(t){var e=this._styleMap[t];return this.styles[e.line]},_setLineStyle:function(t,e){var A=this._styleMap[t];this.styles[A.line]=e},_deleteLineStyle:function(t){var e=this._styleMap[t];delete this.styles[e.line]},_wrapText:function(t,e){var A,r=[];for(this.isWrapping=!0,A=0;A<t.length;A++)r=r.concat(this._wrapLine(t[A],A,e));return this.isWrapping=!1,r},_measureWord:function(t,e,A){var r,n=0;A=A||0;for(var i=0,o=t.length;i<o;i++){n+=this._getGraphemeBox(t[i],e,i+A,r,!0).kernedWidth,r=t[i]}return n},_wrapLine:function(t,A,r,n){var i=0,o=this.splitByGrapheme,s=[],a=[],c=o?e.util.string.graphemeSplit(t):t.split(this._wordJoiners),u="",h=0,l=o?"":" ",f=0,d=0,p=0,g=!0,v=o?0:this._getWidthOfCharSpacing();r-=n=n||0;for(var y=0;y<c.length;y++)u=e.util.string.graphemeSplit(c[y]),f=this._measureWord(u,A,h),h+=u.length,(i+=d+f-v)>=r&&!g?(s.push(a),a=[],i=f,g=!0):i+=v,g||o||a.push(l),a=a.concat(u),d=this._measureWord([l],A,h),h++,g=!1,f>p&&(p=f);return y&&s.push(a),p+n>this.dynamicMinWidth&&(this.dynamicMinWidth=p-v+n),s},isEndOfWrapping:function(t){return!this._styleMap[t+1]||this._styleMap[t+1].line!==this._styleMap[t].line},_splitTextIntoLines:function(t){for(var A=e.Text.prototype._splitTextIntoLines.call(this,t),r=this._wrapText(A.lines,this.width),n=new Array(r.length),i=0;i<r.length;i++)n[i]=r[i].join("");return A.lines=n,A.graphemeLines=r,A},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},toObject:function(t){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(t))}}),e.Textbox.fromObject=function(t,A){return e.Object._fromObject("Textbox",t,A,"text")}}(e),_=x.Canvas.prototype._setObjectScale,x.Canvas.prototype._setObjectScale=function(t,e,A,r,n,i,o){var s,a=e.target,c=t.x*a.scaleX/o.x,u=t.y*a.scaleY/o.y;if(!("x"===n&&a instanceof x.Textbox))return _.call(x.Canvas.prototype,t,e,A,r,n,i,o);var h=a._getTransformedDimensions().x,l=a.width*(t.x/h);return e.newScaleX=c,e.newScaleY=u,l>=a.getMinWidth()?(s=l!==a.width,a.set("width",l),s):void 0},x.util.object.extend(x.Textbox.prototype,{_removeExtraneousStyles:function(){for(var t in this._styleMap)this._textLines[t]||delete this.styles[this._styleMap[t].line]}})}).call(this,A(418).Buffer)},function(t,e,A){t.exports=A(441)},function(t,e,A){"use strict";var r=A(35),n=A(64),i=A(45),o=A(24),s=A(179),a=A(125).KEY,c=A(65),u=A(126),h=A(83),l=A(99),f=A(38),d=A(127),p=A(128),g=A(246),v=A(134),y=A(50),B=A(42),w=A(73),m=A(55),C=A(124),b=A(81),_=A(86),x=A(184),E=A(102),F=A(133),Q=A(49),U=A(84),S=E.f,I=Q.f,T=x.f,O=r.Symbol,k=r.JSON,D=k&&k.stringify,H=f("_hidden"),L=f("toPrimitive"),M={}.propertyIsEnumerable,P=u("symbol-registry"),R=u("symbols"),K=u("op-symbols"),j=Object.prototype,N="function"==typeof O&&!!F.f,V=r.QObject,G=!V||!V.prototype||!V.prototype.findChild,X=i&&c((function(){return 7!=_(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a}))?function(t,e,A){var r=S(j,e);r&&delete j[e],I(t,e,A),r&&t!==j&&I(j,e,r)}:I,W=function(t){var e=R[t]=_(O.prototype);return e._k=t,e},Y=N&&"symbol"==typeof O.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof O},J=function(t,e,A){return t===j&&J(K,e,A),y(t),e=C(e,!0),y(A),n(R,e)?(A.enumerable?(n(t,H)&&t[H][e]&&(t[H][e]=!1),A=_(A,{enumerable:b(0,!1)})):(n(t,H)||I(t,H,b(1,{})),t[H][e]=!0),X(t,e,A)):I(t,e,A)},z=function(t,e){y(t);for(var A,r=g(e=m(e)),n=0,i=r.length;i>n;)J(t,A=r[n++],e[A]);return t},q=function(t){var e=M.call(this,t=C(t,!0));return!(this===j&&n(R,t)&&!n(K,t))&&(!(e||!n(this,t)||!n(R,t)||n(this,H)&&this[H][t])||e)},Z=function(t,e){if(t=m(t),e=C(e,!0),t!==j||!n(R,e)||n(K,e)){var A=S(t,e);return!A||!n(R,e)||n(t,H)&&t[H][e]||(A.enumerable=!0),A}},$=function(t){for(var e,A=T(m(t)),r=[],i=0;A.length>i;)n(R,e=A[i++])||e==H||e==a||r.push(e);return r},tt=function(t){for(var e,A=t===j,r=T(A?K:m(t)),i=[],o=0;r.length>o;)!n(R,e=r[o++])||A&&!n(j,e)||i.push(R[e]);return i};N||(s((O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var t=l(arguments.length>0?arguments[0]:void 0),e=function(A){this===j&&e.call(K,A),n(this,H)&&n(this[H],t)&&(this[H][t]=!1),X(this,t,b(1,A))};return i&&G&&X(j,t,{configurable:!0,set:e}),W(t)}).prototype,"toString",(function(){return this._k})),E.f=Z,Q.f=J,A(135).f=x.f=$,A(101).f=q,F.f=tt,i&&!A(82)&&s(j,"propertyIsEnumerable",q,!0),d.f=function(t){return W(f(t))}),o(o.G+o.W+o.F*!N,{Symbol:O});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),At=0;et.length>At;)f(et[At++]);for(var rt=U(f.store),nt=0;rt.length>nt;)p(rt[nt++]);o(o.S+o.F*!N,"Symbol",{for:function(t){return n(P,t+="")?P[t]:P[t]=O(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var e in P)if(P[e]===t)return e},useSetter:function(){G=!0},useSimple:function(){G=!1}}),o(o.S+o.F*!N,"Object",{create:function(t,e){return void 0===e?_(t):z(_(t),e)},defineProperty:J,defineProperties:z,getOwnPropertyDescriptor:Z,getOwnPropertyNames:$,getOwnPropertySymbols:tt});var it=c((function(){F.f(1)}));o(o.S+o.F*it,"Object",{getOwnPropertySymbols:function(t){return F.f(w(t))}}),k&&o(o.S+o.F*(!N||c((function(){var t=O();return"[null]"!=D([t])||"{}"!=D({a:t})||"{}"!=D(Object(t))}))),"JSON",{stringify:function(t){for(var e,A,r=[t],n=1;arguments.length>n;)r.push(arguments[n++]);if(A=e=r[1],(B(e)||void 0!==t)&&!Y(t))return v(e)||(e=function(t,e){if("function"==typeof A&&(e=A.call(this,t,e)),!Y(e))return e}),r[1]=e,D.apply(k,r)}}),O.prototype[L]||A(60)(O.prototype,L,O.prototype.valueOf),h(O,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},function(t,e,A){t.exports=!A(45)&&!A(65)((function(){return 7!=Object.defineProperty(A(123)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,A){t.exports=A(60)},function(t,e,A){var r=A(64),n=A(55),i=A(247)(!1),o=A(131)("IE_PROTO");t.exports=function(t,e){var A,s=n(t),a=0,c=[];for(A in s)A!=o&&r(s,A)&&c.push(A);for(;e.length>a;)r(s,A=e[a++])&&(~i(c,A)||c.push(A));return c}},function(t,e,A){var r=A(85);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==r(t)?t.split(""):Object(t)}},function(t,e,A){var r=A(49),n=A(50),i=A(84);t.exports=A(45)?Object.defineProperties:function(t,e){n(t);for(var A,o=i(e),s=o.length,a=0;s>a;)r.f(t,A=o[a++],e[A]);return t}},function(t,e,A){var r=A(35).document;t.exports=r&&r.documentElement},function(t,e,A){var r=A(55),n=A(135).f,i={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return o&&"[object Window]"==i.call(t)?function(t){try{return n(t)}catch(t){return o.slice()}}(t):n(r(t))}},function(t,e,A){var r=A(64),n=A(73),i=A(131)("IE_PROTO"),o=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=n(t),r(t,i)?t[i]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e){t.exports=function(t,e,A){var r=void 0===A;switch(e.length){case 0:return r?t():t.call(A);case 1:return r?t(e[0]):t.call(A,e[0]);case 2:return r?t(e[0],e[1]):t.call(A,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(A,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(A,e[0],e[1],e[2],e[3])}return t.apply(A,e)}},function(t,e,A){var r=A(189);function n(e,A){return t.exports=n=r||function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,n(e,A)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){t.exports=A(259)},function(t,e,A){var r=A(139);t.exports=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(t){return!1}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){var r=A(50);t.exports=function(t,e,A,n){try{return n?e(r(A)[0],A[1]):e(A)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,A){var r=A(87),n=A(38)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[n]===t)}},function(t,e,A){"use strict";var r=A(49),n=A(81);t.exports=function(t,e,A){e in t?r.f(t,e,n(0,A)):t[e]=A}},function(t,e,A){var r=A(141),n=A(38)("iterator"),i=A(87);t.exports=A(17).getIteratorMethod=function(t){if(null!=t)return t[n]||t["@@iterator"]||i[r(t)]}},function(t,e,A){var r=A(38)("iterator"),n=!1;try{var i=[7][r]();i.return=function(){n=!0},Array.from(i,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!n)return!1;var A=!1;try{var i=[7],o=i[r]();o.next=function(){return{done:A=!0}},i[r]=function(){return o},t(i)}catch(t){}return A}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var A=0,r=new Array(e);A<e;A++)r[A]=t[A];return r},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){var r=A(50),n=A(66),i=A(38)("species");t.exports=function(t,e){var A,o=r(t).constructor;return void 0===o||null==(A=r(o)[i])?e:n(A)}},function(t,e,A){var r,n,i,o=A(54),s=A(187),a=A(183),c=A(123),u=A(35),h=u.process,l=u.setImmediate,f=u.clearImmediate,d=u.MessageChannel,p=u.Dispatch,g=0,v={},y=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},B=function(t){y.call(t.data)};l&&f||(l=function(t){for(var e=[],A=1;arguments.length>A;)e.push(arguments[A++]);return v[++g]=function(){s("function"==typeof t?t:Function(t),e)},r(g),g},f=function(t){delete v[t]},"process"==A(85)(h)?r=function(t){h.nextTick(o(y,t,1))}:p&&p.now?r=function(t){p.now(o(y,t,1))}:d?(i=(n=new d).port2,n.port1.onmessage=B,r=o(i.postMessage,i,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(t){u.postMessage(t+"","*")},u.addEventListener("message",B,!1)):r="onreadystatechange"in c("script")?function(t){a.appendChild(c("script")).onreadystatechange=function(){a.removeChild(this),y.call(t)}}:function(t){setTimeout(o(y,t,1),0)}),t.exports={set:l,clear:f}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,A){var r=A(50),n=A(42),i=A(143);t.exports=function(t,e){if(r(t),n(e)&&e.constructor===t)return e;var A=i.f(t);return(0,A.resolve)(e),A.promise}},function(t,e,A){"use strict";var r=A(35),n=A(17),i=A(49),o=A(45),s=A(38)("species");t.exports=function(t){var e="function"==typeof n[t]?n[t]:r[t];o&&e&&!e[s]&&i.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,A){var r=A(42);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,A){"use strict";t.exports=function(t){return null!=t}},function(t,e,A){var r=A(56),n=A(61),i=A(329)(!1),o=A(148)("IE_PROTO");t.exports=function(t,e){var A,s=n(t),a=0,c=[];for(A in s)A!=o&&r(s,A)&&c.push(A);for(;e.length>a;)r(s,A=e[a++])&&(~i(c,A)||c.push(A));return c}},function(t,e,A){t.exports=!A(47)&&!A(58)((function(){return 7!=Object.defineProperty(A(151)("div"),"a",{get:function(){return 7}}).a}))},function(t,e,A){"use strict";var r=A(29),n=A(56),i=A(47),o=A(18),s=A(207),a=A(153).KEY,c=A(58),u=A(149),h=A(93),l=A(108),f=A(39),d=A(154),p=A(155),g=A(333),v=A(156),y=A(43),B=A(36),w=A(67),m=A(61),C=A(152),b=A(74),_=A(94),x=A(210),E=A(75),F=A(110),Q=A(46),U=A(90),S=E.f,I=Q.f,T=x.f,O=r.Symbol,k=r.JSON,D=k&&k.stringify,H=f("_hidden"),L=f("toPrimitive"),M={}.propertyIsEnumerable,P=u("symbol-registry"),R=u("symbols"),K=u("op-symbols"),j=Object.prototype,N="function"==typeof O&&!!F.f,V=r.QObject,G=!V||!V.prototype||!V.prototype.findChild,X=i&&c((function(){return 7!=_(I({},"a",{get:function(){return I(this,"a",{value:7}).a}})).a}))?function(t,e,A){var r=S(j,e);r&&delete j[e],I(t,e,A),r&&t!==j&&I(j,e,r)}:I,W=function(t){var e=R[t]=_(O.prototype);return e._k=t,e},Y=N&&"symbol"==typeof O.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof O},J=function(t,e,A){return t===j&&J(K,e,A),y(t),e=C(e,!0),y(A),n(R,e)?(A.enumerable?(n(t,H)&&t[H][e]&&(t[H][e]=!1),A=_(A,{enumerable:b(0,!1)})):(n(t,H)||I(t,H,b(1,{})),t[H][e]=!0),X(t,e,A)):I(t,e,A)},z=function(t,e){y(t);for(var A,r=g(e=m(e)),n=0,i=r.length;i>n;)J(t,A=r[n++],e[A]);return t},q=function(t){var e=M.call(this,t=C(t,!0));return!(this===j&&n(R,t)&&!n(K,t))&&(!(e||!n(this,t)||!n(R,t)||n(this,H)&&this[H][t])||e)},Z=function(t,e){if(t=m(t),e=C(e,!0),t!==j||!n(R,e)||n(K,e)){var A=S(t,e);return!A||!n(R,e)||n(t,H)&&t[H][e]||(A.enumerable=!0),A}},$=function(t){for(var e,A=T(m(t)),r=[],i=0;A.length>i;)n(R,e=A[i++])||e==H||e==a||r.push(e);return r},tt=function(t){for(var e,A=t===j,r=T(A?K:m(t)),i=[],o=0;r.length>o;)!n(R,e=r[o++])||A&&!n(j,e)||i.push(R[e]);return i};N||(s((O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var t=l(arguments.length>0?arguments[0]:void 0),e=function(A){this===j&&e.call(K,A),n(this,H)&&n(this[H],t)&&(this[H][t]=!1),X(this,t,b(1,A))};return i&&G&&X(j,t,{configurable:!0,set:e}),W(t)}).prototype,"toString",(function(){return this._k})),E.f=Z,Q.f=J,A(157).f=x.f=$,A(111).f=q,F.f=tt,i&&!A(92)&&s(j,"propertyIsEnumerable",q,!0),d.f=function(t){return W(f(t))}),o(o.G+o.W+o.F*!N,{Symbol:O});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),At=0;et.length>At;)f(et[At++]);for(var rt=U(f.store),nt=0;rt.length>nt;)p(rt[nt++]);o(o.S+o.F*!N,"Symbol",{for:function(t){return n(P,t+="")?P[t]:P[t]=O(t)},keyFor:function(t){if(!Y(t))throw TypeError(t+" is not a symbol!");for(var e in P)if(P[e]===t)return e},useSetter:function(){G=!0},useSimple:function(){G=!1}}),o(o.S+o.F*!N,"Object",{create:function(t,e){return void 0===e?_(t):z(_(t),e)},defineProperty:J,defineProperties:z,getOwnPropertyDescriptor:Z,getOwnPropertyNames:$,getOwnPropertySymbols:tt});var it=c((function(){F.f(1)}));o(o.S+o.F*it,"Object",{getOwnPropertySymbols:function(t){return F.f(w(t))}}),k&&o(o.S+o.F*(!N||c((function(){var t=O();return"[null]"!=D([t])||"{}"!=D({a:t})||"{}"!=D(Object(t))}))),"JSON",{stringify:function(t){for(var e,A,r=[t],n=1;arguments.length>n;)r.push(arguments[n++]);if(A=e=r[1],(B(e)||void 0!==t)&&!Y(t))return v(e)||(e=function(t,e){if("function"==typeof A&&(e=A.call(this,t,e)),!Y(e))return e}),r[1]=e,D.apply(k,r)}}),O.prototype[L]||A(62)(O.prototype,L,O.prototype.valueOf),h(O,"Symbol"),h(Math,"Math",!0),h(r.JSON,"JSON",!0)},function(t,e,A){t.exports=A(62)},function(t,e,A){var r=A(46),n=A(43),i=A(90);t.exports=A(47)?Object.defineProperties:function(t,e){n(t);for(var A,o=i(e),s=o.length,a=0;s>a;)r.f(t,A=o[a++],e[A]);return t}},function(t,e,A){var r=A(29).document;t.exports=r&&r.documentElement},function(t,e,A){var r=A(61),n=A(157).f,i={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];t.exports.f=function(t){return o&&"[object Window]"==i.call(t)?function(t){try{return n(t)}catch(t){return o.slice()}}(t):n(r(t))}},function(t,e,A){"use strict";var r=A(46),n=A(74);t.exports=function(t,e,A){e in t?r.f(t,e,n(0,A)):t[e]=A}},function(t,e,A){"use strict";t.exports=function(t){return null!=t}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e,A){var r=A(71),n=A(219);t.exports=function(t,e){if(t){if("string"==typeof t)return n(t,e);var A=Object.prototype.toString.call(t).slice(8,-1);return"Object"===A&&t.constructor&&(A=t.constructor.name),"Map"===A||"Set"===A?r(t):"Arguments"===A||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(A)?n(t,e):void 0}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){var r=A(43);t.exports=function(t,e,A,n){try{return n?e(r(A)[0],A[1]):e(A)}catch(e){var i=t.return;throw void 0!==i&&r(i.call(t)),e}}},function(t,e,A){var r=A(95),n=A(39)("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[n]===t)}},function(t,e,A){var r=A(163),n=A(39)("iterator"),i=A(95);t.exports=A(15).getIteratorMethod=function(t){if(null!=t)return t[n]||t["@@iterator"]||i[r(t)]}},function(t,e,A){var r=A(39)("iterator"),n=!1;try{var i=[7][r]();i.return=function(){n=!0},Array.from(i,(function(){throw 2}))}catch(t){}t.exports=function(t,e){if(!e&&!n)return!1;var A=!1;try{var i=[7],o=i[r]();o.next=function(){return{done:A=!0}},i[r]=function(){return o},t(i)}catch(t){}return A}},function(t,e){t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var A=0,r=new Array(e);A<e;A++)r[A]=t[A];return r},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(t,e,A){var r=void 0===A;switch(e.length){case 0:return r?t():t.call(A);case 1:return r?t(e[0]):t.call(A,e[0]);case 2:return r?t(e[0],e[1]):t.call(A,e[0],e[1]);case 3:return r?t(e[0],e[1],e[2]):t.call(A,e[0],e[1],e[2]);case 4:return r?t(e[0],e[1],e[2],e[3]):t.call(A,e[0],e[1],e[2],e[3])}return t.apply(A,e)}},function(t,e,A){var r=A(222);function n(e,A){return t.exports=n=r||function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,n(e,A)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){t.exports=A(382)},function(t,e,A){var r=A(164);t.exports=function(){if("undefined"==typeof Reflect||!r)return!1;if(r.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(r(Boolean,[],(function(){}))),!0}catch(t){return!1}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){var r=A(18),n=A(106),i=A(58),o=A(165),s="["+o+"]",a=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),u=function(t,e,A){var n={},s=i((function(){return!!o[t]()||"​"!="​"[t]()})),a=n[t]=s?e(h):o[t];A&&(n[A]=a),r(r.P+r.F*s,"String",n)},h=u.trim=function(t,e){return t=String(n(t)),1&e&&(t=t.replace(a,"")),2&e&&(t=t.replace(c,"")),t};t.exports=u},function(t,e,A){var r=A(4);t.exports=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=r(t)););return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){var r=A(43),n=A(68),i=A(39)("species");t.exports=function(t,e){var A,o=r(t).constructor;return void 0===o||null==(A=r(o)[i])?e:n(A)}},function(t,e,A){var r,n,i,o=A(57),s=A(220),a=A(209),c=A(151),u=A(29),h=u.process,l=u.setImmediate,f=u.clearImmediate,d=u.MessageChannel,p=u.Dispatch,g=0,v={},y=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},B=function(t){y.call(t.data)};l&&f||(l=function(t){for(var e=[],A=1;arguments.length>A;)e.push(arguments[A++]);return v[++g]=function(){s("function"==typeof t?t:Function(t),e)},r(g),g},f=function(t){delete v[t]},"process"==A(91)(h)?r=function(t){h.nextTick(o(y,t,1))}:p&&p.now?r=function(t){p.now(o(y,t,1))}:d?(i=(n=new d).port2,n.port1.onmessage=B,r=o(i.postMessage,i,1)):u.addEventListener&&"function"==typeof postMessage&&!u.importScripts?(r=function(t){u.postMessage(t+"","*")},u.addEventListener("message",B,!1)):r="onreadystatechange"in c("script")?function(t){a.appendChild(c("script")).onreadystatechange=function(){a.removeChild(this),y.call(t)}}:function(t){setTimeout(o(y,t,1),0)}),t.exports={set:l,clear:f}},function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(t){return{e:!0,v:t}}}},function(t,e,A){var r=A(43),n=A(36),i=A(167);t.exports=function(t,e){if(r(t),n(e)&&e.constructor===t)return e;var A=i.f(t);return(0,A.resolve)(e),A.promise}},function(t,e,A){"use strict";var r=A(29),n=A(15),i=A(46),o=A(47),s=A(39)("species");t.exports=function(t){var e="function"==typeof n[t]?n[t]:r[t];o&&e&&!e[s]&&i.f(e,s,{configurable:!0,get:function(){return this}})}},function(t,e,A){var r=A(36);t.exports=function(t,e){if(!r(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},function(t,e,A){"use strict";var r=A(171),n=Object.prototype.hasOwnProperty,i=Array.isArray,o=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),s=function(t,e){for(var A=e&&e.plainObjects?Object.create(null):{},r=0;r<t.length;++r)void 0!==t[r]&&(A[r]=t[r]);return A};t.exports={arrayToObject:s,assign:function(t,e){return Object.keys(e).reduce((function(t,A){return t[A]=e[A],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],A=[],r=0;r<e.length;++r)for(var n=e[r],o=n.obj[n.prop],s=Object.keys(o),a=0;a<s.length;++a){var c=s[a],u=o[c];"object"==typeof u&&null!==u&&-1===A.indexOf(u)&&(e.push({obj:o,prop:c}),A.push(u))}return function(t){for(;t.length>1;){var e=t.pop(),A=e.obj[e.prop];if(i(A)){for(var r=[],n=0;n<A.length;++n)void 0!==A[n]&&r.push(A[n]);e.obj[e.prop]=r}}}(e),t},decode:function(t,e,A){var r=t.replace(/\+/g," ");if("iso-8859-1"===A)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(t){return r}},encode:function(t,e,A,n,i){if(0===t.length)return t;var s=t;if("symbol"==typeof t?s=Symbol.prototype.toString.call(t):"string"!=typeof t&&(s=String(t)),"iso-8859-1"===A)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var a="",c=0;c<s.length;++c){var u=s.charCodeAt(c);45===u||46===u||95===u||126===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||i===r.RFC1738&&(40===u||41===u)?a+=s.charAt(c):u<128?a+=o[u]:u<2048?a+=o[192|u>>6]+o[128|63&u]:u<55296||u>=57344?a+=o[224|u>>12]+o[128|u>>6&63]+o[128|63&u]:(c+=1,u=65536+((1023&u)<<10|1023&s.charCodeAt(c)),a+=o[240|u>>18]+o[128|u>>12&63]+o[128|u>>6&63]+o[128|63&u])}return a},isBuffer:function(t){return!(!t||"object"!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(i(t)){for(var A=[],r=0;r<t.length;r+=1)A.push(e(t[r]));return A}return e(t)},merge:function t(e,A,r){if(!A)return e;if("object"!=typeof A){if(i(e))e.push(A);else{if(!e||"object"!=typeof e)return[e,A];(r&&(r.plainObjects||r.allowPrototypes)||!n.call(Object.prototype,A))&&(e[A]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(A);var o=e;return i(e)&&!i(A)&&(o=s(e,r)),i(e)&&i(A)?(A.forEach((function(A,i){if(n.call(e,i)){var o=e[i];o&&"object"==typeof o&&A&&"object"==typeof A?e[i]=t(o,A,r):e.push(A)}else e[i]=A})),e):Object.keys(A).reduce((function(e,i){var o=A[i];return n.call(e,i)?e[i]=t(e[i],o,r):e[i]=o,e}),o)}}},function(t,e){var A,r,n=t.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function s(t){if(A===setTimeout)return setTimeout(t,0);if((A===i||!A)&&setTimeout)return A=setTimeout,setTimeout(t,0);try{return A(t,0)}catch(e){try{return A.call(null,t,0)}catch(e){return A.call(this,t,0)}}}!function(){try{A="function"==typeof setTimeout?setTimeout:i}catch(t){A=i}try{r="function"==typeof clearTimeout?clearTimeout:o}catch(t){r=o}}();var a,c=[],u=!1,h=-1;function l(){u&&a&&(u=!1,a.length?c=a.concat(c):h=-1,c.length&&f())}function f(){if(!u){var t=s(l);u=!0;for(var e=c.length;e;){for(a=c,c=[];++h<e;)a&&a[h].run();h=-1,e=c.length}a=null,u=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===o||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(t)}}function d(t,e){this.fun=t,this.array=e}function p(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var A=1;A<arguments.length;A++)e[A-1]=arguments[A];c.push(new d(t,e)),1!==c.length||u||s(f)},d.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=p,n.addListener=p,n.once=p,n.off=p,n.removeListener=p,n.removeAllListeners=p,n.emit=p,n.prependListener=p,n.prependOnceListener=p,n.listeners=function(t){return[]},n.binding=function(t){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(t){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},function(t,e,A){t.exports=A(306)},function(t,e,A){"use strict";var r,n,i,o,s,a,c,u=A(309),h=A(326),l=Function.prototype.apply,f=Function.prototype.call,d=Object.create,p=Object.defineProperty,g=Object.defineProperties,v=Object.prototype.hasOwnProperty,y={configurable:!0,enumerable:!1,writable:!0};n=function(t,e){var A,n;return h(e),n=this,r.call(this,t,A=function(){i.call(n,t,A),l.call(e,this,arguments)}),A.__eeOnceListener__=e,this},s={on:r=function(t,e){var A;return h(e),v.call(this,"__ee__")?A=this.__ee__:(A=y.value=d(null),p(this,"__ee__",y),y.value=null),A[t]?"object"==typeof A[t]?A[t].push(e):A[t]=[A[t],e]:A[t]=e,this},once:n,off:i=function(t,e){var A,r,n,i;if(h(e),!v.call(this,"__ee__"))return this;if(!(A=this.__ee__)[t])return this;if("object"==typeof(r=A[t]))for(i=0;n=r[i];++i)n!==e&&n.__eeOnceListener__!==e||(2===r.length?A[t]=r[i?0:1]:r.splice(i,1));else r!==e&&r.__eeOnceListener__!==e||delete A[t];return this},emit:o=function(t){var e,A,r,n,i;if(v.call(this,"__ee__")&&(n=this.__ee__[t]))if("object"==typeof n){for(A=arguments.length,i=new Array(A-1),e=1;e<A;++e)i[e-1]=arguments[e];for(n=n.slice(),e=0;r=n[e];++e)l.call(r,this,i)}else switch(arguments.length){case 1:f.call(n,this);break;case 2:f.call(n,this,arguments[1]);break;case 3:f.call(n,this,arguments[1],arguments[2]);break;default:for(A=arguments.length,i=new Array(A-1),e=1;e<A;++e)i[e-1]=arguments[e];l.call(n,this,i)}}},a={on:u(r),once:u(n),off:u(i),emit:u(o)},c=g({},a),t.exports=e=function(t){return null==t?d(c):g(Object(t),a)},e.methods=s},function(t,e,A){var r=A(164),n=A(221),i=A(223);function o(e,A,s){return i()?(t.exports=o=r,t.exports.__esModule=!0,t.exports.default=t.exports):(t.exports=o=function(t,e,A){var r=[null];r.push.apply(r,e);var i=new(Function.bind.apply(t,r));return A&&n(i,A.prototype),i},t.exports.__esModule=!0,t.exports.default=t.exports),o.apply(null,arguments)}t.exports=o,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){var r=A(471).default;t.exports=r},function(t,e,A){
/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 */
t.exports=function(){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var t=function(e,A){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var A in e)Object.prototype.hasOwnProperty.call(e,A)&&(t[A]=e[A])})(e,A)};function e(e,A){if("function"!=typeof A&&null!==A)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function r(){this.constructor=e}t(e,A),e.prototype=null===A?Object.create(A):(r.prototype=A.prototype,new r)}var A=function(){return(A=Object.assign||function(t){for(var e,A=1,r=arguments.length;A<r;A++)for(var n in e=arguments[A])Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}).apply(this,arguments)};function r(t,e,A,r){return new(A||(A=Promise))((function(n,i){function o(t){try{a(r.next(t))}catch(t){i(t)}}function s(t){try{a(r.throw(t))}catch(t){i(t)}}function a(t){var e;t.done?n(t.value):(e=t.value,e instanceof A?e:new A((function(t){t(e)}))).then(o,s)}a((r=r.apply(t,e||[])).next())}))}function n(t,e){var A,r,n,i,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(A)throw new TypeError("Generator is already executing.");for(;o;)try{if(A=1,r&&(n=2&i[0]?r.return:i[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!((n=(n=o.trys).length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(t){i=[6,t],r=0}finally{A=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}}for(var i=function(){function t(t,e,A,r){this.left=t,this.top=e,this.width=A,this.height=r}return t.prototype.add=function(e,A,r,n){return new t(this.left+e,this.top+A,this.width+r,this.height+n)},t.fromClientRect=function(e,A){return new t(A.left+e.windowBounds.left,A.top+e.windowBounds.top,A.width,A.height)},t.fromDOMRectList=function(e,A){var r=Array.from(A).find((function(t){return 0!==t.width}));return r?new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),o=function(t,e){return i.fromClientRect(t,e.getBoundingClientRect())},s=function(t){for(var e=[],A=0,r=t.length;A<r;){var n=t.charCodeAt(A++);if(n>=55296&&n<=56319&&A<r){var i=t.charCodeAt(A++);56320==(64512&i)?e.push(((1023&n)<<10)+(1023&i)+65536):(e.push(n),A--)}else e.push(n)}return e},a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var A=t.length;if(!A)return"";for(var r=[],n=-1,i="";++n<A;){var o=t[n];o<=65535?r.push(o):(o-=65536,r.push(55296+(o>>10),o%1024+56320)),(n+1===A||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",u="undefined"==typeof Uint8Array?[]:new Uint8Array(256),h=0;h<c.length;h++)u[c.charCodeAt(h)]=h;for(var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f="undefined"==typeof Uint8Array?[]:new Uint8Array(256),d=0;d<l.length;d++)f[l.charCodeAt(d)]=d;for(var p=function(t,e,A){return t.slice?t.slice(e,A):new Uint16Array(Array.prototype.slice.call(t,e,A))},g=function(){function t(t,e,A,r,n,i){this.initialValue=t,this.errorValue=e,this.highStart=A,this.highValueIndex=r,this.index=n,this.data=i}return t.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=((e=this.index[t>>5])<<2)+(31&t),this.data[e];if(t<=65535)return e=((e=this.index[2048+(t-55296>>5)])<<2)+(31&t),this.data[e];if(t<this.highStart)return e=2080+(t>>11),e=this.index[e],e+=t>>5&63,e=((e=this.index[e])<<2)+(31&t),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y="undefined"==typeof Uint8Array?[]:new Uint8Array(256),B=0;B<v.length;B++)y[v.charCodeAt(B)]=B;var w=10,m=13,C=15,b=17,_=18,x=19,E=20,F=21,Q=22,U=24,S=25,I=26,T=27,O=28,k=30,D=32,H=33,L=34,M=35,P=37,R=38,K=39,j=40,N=42,V=[9001,65288],G=function(t,e){var A,r,n,i=function(t){var e,A,r,n,i,o=.75*t.length,s=t.length,a=0;"="===t[t.length-1]&&(o--,"="===t[t.length-2]&&o--);var c="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),u=Array.isArray(c)?c:new Uint8Array(c);for(e=0;e<s;e+=4)A=f[t.charCodeAt(e)],r=f[t.charCodeAt(e+1)],n=f[t.charCodeAt(e+2)],i=f[t.charCodeAt(e+3)],u[a++]=A<<2|r>>4,u[a++]=(15&r)<<4|n>>2,u[a++]=(3&n)<<6|63&i;return c}(t),o=Array.isArray(i)?function(t){for(var e=t.length,A=[],r=0;r<e;r+=4)A.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return A}(i):new Uint32Array(i),s=Array.isArray(i)?function(t){for(var e=t.length,A=[],r=0;r<e;r+=2)A.push(t[r+1]<<8|t[r]);return A}(i):new Uint16Array(i),a=p(s,12,o[4]/2),c=2===o[5]?p(s,(24+o[4])/2):(A=o,r=Math.ceil((24+o[4])/4),A.slice?A.slice(r,n):new Uint32Array(Array.prototype.slice.call(A,r,n)));return new g(o[0],o[1],o[2],o[3],a,c)}("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),X=[k,36],W=[1,2,3,5],Y=[w,8],J=[T,I],z=W.concat(Y),q=[R,K,j,L,M],Z=[C,m],$=function(t,e,A,r){var n=r[A];if(Array.isArray(t)?-1!==t.indexOf(n):t===n)for(var i=A;i<=r.length;){if((a=r[++i])===e)return!0;if(a!==w)break}if(n===w)for(i=A;i>0;){var o=r[--i];if(Array.isArray(t)?-1!==t.indexOf(o):t===o)for(var s=A;s<=r.length;){var a;if((a=r[++s])===e)return!0;if(a!==w)break}if(o!==w)break}return!1},tt=function(t,e){for(var A=t;A>=0;){var r=e[A];if(r!==w)return r;A--}return 0},et=function(t,e,A,r,n){if(0===A[r])return"×";var i=r-1;if(Array.isArray(n)&&!0===n[i])return"×";var o=i-1,s=i+1,a=e[i],c=o>=0?e[o]:0,u=e[s];if(2===a&&3===u)return"×";if(-1!==W.indexOf(a))return"!";if(-1!==W.indexOf(u))return"×";if(-1!==Y.indexOf(u))return"×";if(8===tt(i,e))return"÷";if(11===G.get(t[i]))return"×";if((a===D||a===H)&&11===G.get(t[s]))return"×";if(7===a||7===u)return"×";if(9===a)return"×";if(-1===[w,m,C].indexOf(a)&&9===u)return"×";if(-1!==[b,_,x,U,O].indexOf(u))return"×";if(tt(i,e)===Q)return"×";if($(23,Q,i,e))return"×";if($([b,_],F,i,e))return"×";if($(12,12,i,e))return"×";if(a===w)return"÷";if(23===a||23===u)return"×";if(16===u||16===a)return"÷";if(-1!==[m,C,F].indexOf(u)||14===a)return"×";if(36===c&&-1!==Z.indexOf(a))return"×";if(a===O&&36===u)return"×";if(u===E)return"×";if(-1!==X.indexOf(u)&&a===S||-1!==X.indexOf(a)&&u===S)return"×";if(a===T&&-1!==[P,D,H].indexOf(u)||-1!==[P,D,H].indexOf(a)&&u===I)return"×";if(-1!==X.indexOf(a)&&-1!==J.indexOf(u)||-1!==J.indexOf(a)&&-1!==X.indexOf(u))return"×";if(-1!==[T,I].indexOf(a)&&(u===S||-1!==[Q,C].indexOf(u)&&e[s+1]===S)||-1!==[Q,C].indexOf(a)&&u===S||a===S&&-1!==[S,O,U].indexOf(u))return"×";if(-1!==[S,O,U,b,_].indexOf(u))for(var h=i;h>=0;){if((l=e[h])===S)return"×";if(-1===[O,U].indexOf(l))break;h--}if(-1!==[T,I].indexOf(u))for(h=-1!==[b,_].indexOf(a)?o:i;h>=0;){var l;if((l=e[h])===S)return"×";if(-1===[O,U].indexOf(l))break;h--}if(R===a&&-1!==[R,K,L,M].indexOf(u)||-1!==[K,L].indexOf(a)&&-1!==[K,j].indexOf(u)||-1!==[j,M].indexOf(a)&&u===j)return"×";if(-1!==q.indexOf(a)&&-1!==[E,I].indexOf(u)||-1!==q.indexOf(u)&&a===T)return"×";if(-1!==X.indexOf(a)&&-1!==X.indexOf(u))return"×";if(a===U&&-1!==X.indexOf(u))return"×";if(-1!==X.concat(S).indexOf(a)&&u===Q&&-1===V.indexOf(t[s])||-1!==X.concat(S).indexOf(u)&&a===_)return"×";if(41===a&&41===u){for(var f=A[i],d=1;f>0&&41===e[--f];)d++;if(d%2!=0)return"×"}return a===D&&u===H?"×":"÷"},At=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var A=function(t,e){void 0===e&&(e="strict");var A=[],r=[],n=[];return t.forEach((function(t,i){var o=G.get(t);if(o>50?(n.push(!0),o-=50):n.push(!1),-1!==["normal","auto","loose"].indexOf(e)&&-1!==[8208,8211,12316,12448].indexOf(t))return r.push(i),A.push(16);if(4===o||11===o){if(0===i)return r.push(i),A.push(k);var s=A[i-1];return-1===z.indexOf(s)?(r.push(r[i-1]),A.push(s)):(r.push(i),A.push(k))}return r.push(i),31===o?A.push("strict"===e?F:P):o===N||29===o?A.push(k):43===o?t>=131072&&t<=196605||t>=196608&&t<=262141?A.push(P):A.push(k):void A.push(o)})),[r,A,n]}(t,e.lineBreak),r=A[0],n=A[1],i=A[2];return"break-all"!==e.wordBreak&&"break-word"!==e.wordBreak||(n=n.map((function(t){return-1!==[S,k,N].indexOf(t)?P:t}))),[r,n,"keep-all"===e.wordBreak?i.map((function(e,A){return e&&t[A]>=19968&&t[A]<=40959})):void 0]},rt=function(){function t(t,e,A,r){this.codePoints=t,this.required="!"===e,this.start=A,this.end=r}return t.prototype.slice=function(){return a.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),nt=function(t){return t>=48&&t<=57},it=function(t){return nt(t)||t>=65&&t<=70||t>=97&&t<=102},ot=function(t){return 10===t||9===t||32===t},st=function(t){return function(t){return function(t){return t>=97&&t<=122}(t)||function(t){return t>=65&&t<=90}(t)}(t)||function(t){return t>=128}(t)||95===t},at=function(t){return st(t)||nt(t)||45===t},ct=function(t){return t>=0&&t<=8||11===t||t>=14&&t<=31||127===t},ut=function(t,e){return 92===t&&10!==e},ht=function(t,e,A){return 45===t?st(e)||ut(e,A):!!st(t)||!(92!==t||!ut(t,e))},lt=function(t,e,A){return 43===t||45===t?!!nt(e)||46===e&&nt(A):nt(46===t?e:t)},ft=function(t){var e=0,A=1;43!==t[e]&&45!==t[e]||(45===t[e]&&(A=-1),e++);for(var r=[];nt(t[e]);)r.push(t[e++]);var n=r.length?parseInt(a.apply(void 0,r),10):0;46===t[e]&&e++;for(var i=[];nt(t[e]);)i.push(t[e++]);var o=i.length,s=o?parseInt(a.apply(void 0,i),10):0;69!==t[e]&&101!==t[e]||e++;var c=1;43!==t[e]&&45!==t[e]||(45===t[e]&&(c=-1),e++);for(var u=[];nt(t[e]);)u.push(t[e++]);var h=u.length?parseInt(a.apply(void 0,u),10):0;return A*(n+s*Math.pow(10,-o))*Math.pow(10,c*h)},dt={type:2},pt={type:3},gt={type:4},vt={type:13},yt={type:8},Bt={type:21},wt={type:9},mt={type:10},Ct={type:11},bt={type:12},_t={type:14},xt={type:23},Et={type:1},Ft={type:25},Qt={type:24},Ut={type:26},St={type:27},It={type:28},Tt={type:29},Ot={type:31},kt={type:32},Dt=function(){function t(){this._value=[]}return t.prototype.write=function(t){this._value=this._value.concat(s(t))},t.prototype.read=function(){for(var t=[],e=this.consumeToken();e!==kt;)t.push(e),e=this.consumeToken();return t},t.prototype.consumeToken=function(){var t=this.consumeCodePoint();switch(t){case 34:return this.consumeStringToken(34);case 35:var e=this.peekCodePoint(0),A=this.peekCodePoint(1),r=this.peekCodePoint(2);if(at(e)||ut(A,r)){var n=ht(e,A,r)?2:1;return{type:5,value:this.consumeName(),flags:n}}break;case 36:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),vt;break;case 39:return this.consumeStringToken(39);case 40:return dt;case 41:return pt;case 42:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),_t;break;case 43:if(lt(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case 44:return gt;case 45:var i=t,o=this.peekCodePoint(0),s=this.peekCodePoint(1);if(lt(i,o,s))return this.reconsumeCodePoint(t),this.consumeNumericToken();if(ht(i,o,s))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();if(45===o&&62===s)return this.consumeCodePoint(),this.consumeCodePoint(),Qt;break;case 46:if(lt(t,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(t),this.consumeNumericToken();break;case 47:if(42===this.peekCodePoint(0))for(this.consumeCodePoint();;){var c=this.consumeCodePoint();if(42===c&&47===(c=this.consumeCodePoint()))return this.consumeToken();if(-1===c)return this.consumeToken()}break;case 58:return Ut;case 59:return St;case 60:if(33===this.peekCodePoint(0)&&45===this.peekCodePoint(1)&&45===this.peekCodePoint(2))return this.consumeCodePoint(),this.consumeCodePoint(),Ft;break;case 64:var u=this.peekCodePoint(0),h=this.peekCodePoint(1),l=this.peekCodePoint(2);if(ht(u,h,l))return{type:7,value:this.consumeName()};break;case 91:return It;case 92:if(ut(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),this.consumeIdentLikeToken();break;case 93:return Tt;case 61:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),yt;break;case 123:return Ct;case 125:return bt;case 117:case 85:var f=this.peekCodePoint(0),d=this.peekCodePoint(1);return 43!==f||!it(d)&&63!==d||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(t),this.consumeIdentLikeToken();case 124:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),wt;if(124===this.peekCodePoint(0))return this.consumeCodePoint(),Bt;break;case 126:if(61===this.peekCodePoint(0))return this.consumeCodePoint(),mt;break;case-1:return kt}return ot(t)?(this.consumeWhiteSpace(),Ot):nt(t)?(this.reconsumeCodePoint(t),this.consumeNumericToken()):st(t)?(this.reconsumeCodePoint(t),this.consumeIdentLikeToken()):{type:6,value:a(t)}},t.prototype.consumeCodePoint=function(){var t=this._value.shift();return void 0===t?-1:t},t.prototype.reconsumeCodePoint=function(t){this._value.unshift(t)},t.prototype.peekCodePoint=function(t){return t>=this._value.length?-1:this._value[t]},t.prototype.consumeUnicodeRangeToken=function(){for(var t=[],e=this.consumeCodePoint();it(e)&&t.length<6;)t.push(e),e=this.consumeCodePoint();for(var A=!1;63===e&&t.length<6;)t.push(e),e=this.consumeCodePoint(),A=!0;if(A)return{type:30,start:parseInt(a.apply(void 0,t.map((function(t){return 63===t?48:t}))),16),end:parseInt(a.apply(void 0,t.map((function(t){return 63===t?70:t}))),16)};var r=parseInt(a.apply(void 0,t),16);if(45===this.peekCodePoint(0)&&it(this.peekCodePoint(1))){this.consumeCodePoint(),e=this.consumeCodePoint();for(var n=[];it(e)&&n.length<6;)n.push(e),e=this.consumeCodePoint();return{type:30,start:r,end:parseInt(a.apply(void 0,n),16)}}return{type:30,start:r,end:r}},t.prototype.consumeIdentLikeToken=function(){var t=this.consumeName();return"url"===t.toLowerCase()&&40===this.peekCodePoint(0)?(this.consumeCodePoint(),this.consumeUrlToken()):40===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:19,value:t}):{type:20,value:t}},t.prototype.consumeUrlToken=function(){var t=[];if(this.consumeWhiteSpace(),-1===this.peekCodePoint(0))return{type:22,value:""};var e=this.peekCodePoint(0);if(39===e||34===e){var A=this.consumeStringToken(this.consumeCodePoint());return 0===A.type&&(this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0))?(this.consumeCodePoint(),{type:22,value:A.value}):(this.consumeBadUrlRemnants(),xt)}for(;;){var r=this.consumeCodePoint();if(-1===r||41===r)return{type:22,value:a.apply(void 0,t)};if(ot(r))return this.consumeWhiteSpace(),-1===this.peekCodePoint(0)||41===this.peekCodePoint(0)?(this.consumeCodePoint(),{type:22,value:a.apply(void 0,t)}):(this.consumeBadUrlRemnants(),xt);if(34===r||39===r||40===r||ct(r))return this.consumeBadUrlRemnants(),xt;if(92===r){if(!ut(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),xt;t.push(this.consumeEscapedCodePoint())}else t.push(r)}},t.prototype.consumeWhiteSpace=function(){for(;ot(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var t=this.consumeCodePoint();if(41===t||-1===t)return;ut(t,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(t){for(var e="";t>0;){var A=Math.min(5e4,t);e+=a.apply(void 0,this._value.splice(0,A)),t-=A}return this._value.shift(),e},t.prototype.consumeStringToken=function(t){for(var e="",A=0;;){var r=this._value[A];if(-1===r||void 0===r||r===t)return{type:0,value:e+=this.consumeStringSlice(A)};if(10===r)return this._value.splice(0,A),Et;if(92===r){var n=this._value[A+1];-1!==n&&void 0!==n&&(10===n?(e+=this.consumeStringSlice(A),A=-1,this._value.shift()):ut(r,n)&&(e+=this.consumeStringSlice(A),e+=a(this.consumeEscapedCodePoint()),A=-1))}A++}},t.prototype.consumeNumber=function(){var t=[],e=4,A=this.peekCodePoint(0);for(43!==A&&45!==A||t.push(this.consumeCodePoint());nt(this.peekCodePoint(0));)t.push(this.consumeCodePoint());A=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(46===A&&nt(r))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=8;nt(this.peekCodePoint(0));)t.push(this.consumeCodePoint());A=this.peekCodePoint(0),r=this.peekCodePoint(1);var n=this.peekCodePoint(2);if((69===A||101===A)&&((43===r||45===r)&&nt(n)||nt(r)))for(t.push(this.consumeCodePoint(),this.consumeCodePoint()),e=8;nt(this.peekCodePoint(0));)t.push(this.consumeCodePoint());return[ft(t),e]},t.prototype.consumeNumericToken=function(){var t=this.consumeNumber(),e=t[0],A=t[1],r=this.peekCodePoint(0),n=this.peekCodePoint(1),i=this.peekCodePoint(2);return ht(r,n,i)?{type:15,number:e,flags:A,unit:this.consumeName()}:37===r?(this.consumeCodePoint(),{type:16,number:e,flags:A}):{type:17,number:e,flags:A}},t.prototype.consumeEscapedCodePoint=function(){var t=this.consumeCodePoint();if(it(t)){for(var e=a(t);it(this.peekCodePoint(0))&&e.length<6;)e+=a(this.consumeCodePoint());ot(this.peekCodePoint(0))&&this.consumeCodePoint();var A=parseInt(e,16);return 0===A||function(t){return t>=55296&&t<=57343}(A)||A>1114111?65533:A}return-1===t?65533:t},t.prototype.consumeName=function(){for(var t="";;){var e=this.consumeCodePoint();if(at(e))t+=a(e);else{if(!ut(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),t;t+=a(this.consumeEscapedCodePoint())}}},t}(),Ht=function(){function t(t){this._tokens=t}return t.create=function(e){var A=new Dt;return A.write(e),new t(A.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var t=this.consumeToken();31===t.type;)t=this.consumeToken();if(32===t.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(t);var e=this.consumeComponentValue();do{t=this.consumeToken()}while(31===t.type);if(32===t.type)return e;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var t=[];;){var e=this.consumeComponentValue();if(32===e.type)return t;t.push(e),t.push()}},t.prototype.consumeComponentValue=function(){var t=this.consumeToken();switch(t.type){case 11:case 28:case 2:return this.consumeSimpleBlock(t.type);case 19:return this.consumeFunction(t)}return t},t.prototype.consumeSimpleBlock=function(t){for(var e={type:t,values:[]},A=this.consumeToken();;){if(32===A.type||Gt(A,t))return e;this.reconsumeToken(A),e.values.push(this.consumeComponentValue()),A=this.consumeToken()}},t.prototype.consumeFunction=function(t){for(var e={name:t.value,values:[],type:18};;){var A=this.consumeToken();if(32===A.type||3===A.type)return e;this.reconsumeToken(A),e.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var t=this._tokens.shift();return void 0===t?kt:t},t.prototype.reconsumeToken=function(t){this._tokens.unshift(t)},t}(),Lt=function(t){return 15===t.type},Mt=function(t){return 17===t.type},Pt=function(t){return 20===t.type},Rt=function(t){return 0===t.type},Kt=function(t,e){return Pt(t)&&t.value===e},jt=function(t){return 31!==t.type},Nt=function(t){return 31!==t.type&&4!==t.type},Vt=function(t){var e=[],A=[];return t.forEach((function(t){if(4===t.type){if(0===A.length)throw new Error("Error parsing function args, zero tokens for arg");return e.push(A),void(A=[])}31!==t.type&&A.push(t)})),A.length&&e.push(A),e},Gt=function(t,e){return 11===e&&12===t.type||28===e&&29===t.type||2===e&&3===t.type},Xt=function(t){return 17===t.type||15===t.type},Wt=function(t){return 16===t.type||Xt(t)},Yt=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Jt={type:17,number:0,flags:4},zt={type:16,number:50,flags:4},qt={type:16,number:100,flags:4},Zt=function(t,e,A){var r=t[0],n=t[1];return[$t(r,e),$t(void 0!==n?n:r,A)]},$t=function(t,e){if(16===t.type)return t.number/100*e;if(Lt(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},te=function(t,e){if(15===e.type)switch(e.unit){case"deg":return Math.PI*e.number/180;case"grad":return Math.PI/200*e.number;case"rad":return e.number;case"turn":return 2*Math.PI*e.number}throw new Error("Unsupported angle type")},ee=function(t){return 15===t.type&&("deg"===t.unit||"grad"===t.unit||"rad"===t.unit||"turn"===t.unit)},Ae=function(t){switch(t.filter(Pt).map((function(t){return t.value})).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Jt,Jt];case"to top":case"bottom":return re(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Jt,qt];case"to right":case"left":return re(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[qt,qt];case"to bottom":case"top":return re(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[qt,Jt];case"to left":case"right":return re(270)}return 0},re=function(t){return Math.PI*t/180},ne=function(t,e){if(18===e.type){var A=fe[e.name];if(void 0===A)throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return A(t,e.values)}if(5===e.type){if(3===e.value.length){var r=e.value.substring(0,1),n=e.value.substring(1,2),i=e.value.substring(2,3);return se(parseInt(r+r,16),parseInt(n+n,16),parseInt(i+i,16),1)}if(4===e.value.length){r=e.value.substring(0,1),n=e.value.substring(1,2),i=e.value.substring(2,3);var o=e.value.substring(3,4);return se(parseInt(r+r,16),parseInt(n+n,16),parseInt(i+i,16),parseInt(o+o,16)/255)}if(6===e.value.length)return r=e.value.substring(0,2),n=e.value.substring(2,4),i=e.value.substring(4,6),se(parseInt(r,16),parseInt(n,16),parseInt(i,16),1);if(8===e.value.length)return r=e.value.substring(0,2),n=e.value.substring(2,4),i=e.value.substring(4,6),o=e.value.substring(6,8),se(parseInt(r,16),parseInt(n,16),parseInt(i,16),parseInt(o,16)/255)}if(20===e.type){var s=pe[e.value.toUpperCase()];if(void 0!==s)return s}return pe.TRANSPARENT},ie=function(t){return 0==(255&t)},oe=function(t){var e=255&t,A=255&t>>8,r=255&t>>16,n=255&t>>24;return e<255?"rgba("+n+","+r+","+A+","+e/255+")":"rgb("+n+","+r+","+A+")"},se=function(t,e,A,r){return(t<<24|e<<16|A<<8|Math.round(255*r)<<0)>>>0},ae=function(t,e){if(17===t.type)return t.number;if(16===t.type){var A=3===e?1:255;return 3===e?t.number/100*A:Math.round(t.number/100*A)}return 0},ce=function(t,e){var A=e.filter(Nt);if(3===A.length){var r=A.map(ae),n=r[0],i=r[1],o=r[2];return se(n,i,o,1)}if(4===A.length){var s=A.map(ae),a=(n=s[0],i=s[1],o=s[2],s[3]);return se(n,i,o,a)}return 0};function ue(t,e,A){return A<0&&(A+=1),A>=1&&(A-=1),A<1/6?(e-t)*A*6+t:A<.5?e:A<2/3?6*(e-t)*(2/3-A)+t:t}var he,le=function(t,e){var A=e.filter(Nt),r=A[0],n=A[1],i=A[2],o=A[3],s=(17===r.type?re(r.number):te(t,r))/(2*Math.PI),a=Wt(n)?n.number/100:0,c=Wt(i)?i.number/100:0,u=void 0!==o&&Wt(o)?$t(o,1):1;if(0===a)return se(255*c,255*c,255*c,1);var h=c<=.5?c*(a+1):c+a-c*a,l=2*c-h,f=ue(l,h,s+1/3),d=ue(l,h,s),p=ue(l,h,s-1/3);return se(255*f,255*d,255*p,u)},fe={hsl:le,hsla:le,rgb:ce,rgba:ce},de=function(t,e){return ne(t,Ht.create(e).parseComponentValue())},pe={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},ge={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map((function(t){if(Pt(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},ve={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},ye=function(t,e){var A=ne(t,e[0]),r=e[1];return r&&Wt(r)?{color:A,stop:r}:{color:A,stop:null}},Be=function(t,e){var A=t[0],r=t[t.length-1];null===A.stop&&(A.stop=Jt),null===r.stop&&(r.stop=qt);for(var n=[],i=0,o=0;o<t.length;o++){var s=t[o].stop;if(null!==s){var a=$t(s,e);a>i?n.push(a):n.push(i),i=a}else n.push(null)}var c=null;for(o=0;o<n.length;o++){var u=n[o];if(null===u)null===c&&(c=o);else if(null!==c){for(var h=o-c,l=(u-n[c-1])/(h+1),f=1;f<=h;f++)n[c+f-1]=l*f;c=null}}return t.map((function(t,A){return{color:t.color,stop:Math.max(Math.min(1,n[A]/e),0)}}))},we=function(t,e,A){var r="number"==typeof t?t:function(t,e,A){var r=e/2,n=A/2,i=$t(t[0],e)-r,o=n-$t(t[1],A);return(Math.atan2(o,i)+2*Math.PI)%(2*Math.PI)}(t,e,A),n=Math.abs(e*Math.sin(r))+Math.abs(A*Math.cos(r)),i=e/2,o=A/2,s=n/2,a=Math.sin(r-Math.PI/2)*s,c=Math.cos(r-Math.PI/2)*s;return[n,i-c,i+c,o-a,o+a]},me=function(t,e){return Math.sqrt(t*t+e*e)},Ce=function(t,e,A,r,n){return[[0,0],[0,e],[t,0],[t,e]].reduce((function(t,e){var i=e[0],o=e[1],s=me(A-i,r-o);return(n?s<t.optimumDistance:s>t.optimumDistance)?{optimumCorner:e,optimumDistance:s}:t}),{optimumDistance:n?1/0:-1/0,optimumCorner:null}).optimumCorner},be=function(t,e){var A=re(180),r=[];return Vt(e).forEach((function(e,n){if(0===n){var i=e[0];if(20===i.type&&-1!==["top","left","right","bottom"].indexOf(i.value))return void(A=Ae(e));if(ee(i))return void(A=(te(t,i)+re(270))%re(360))}var o=ye(t,e);r.push(o)})),{angle:A,stops:r,type:1}},_e=function(t,e){var A=0,r=3,n=[],i=[];return Vt(e).forEach((function(e,o){var s=!0;if(0===o?s=e.reduce((function(t,e){if(Pt(e))switch(e.value){case"center":return i.push(zt),!1;case"top":case"left":return i.push(Jt),!1;case"right":case"bottom":return i.push(qt),!1}else if(Wt(e)||Xt(e))return i.push(e),!1;return t}),s):1===o&&(s=e.reduce((function(t,e){if(Pt(e))switch(e.value){case"circle":return A=0,!1;case"ellipse":return A=1,!1;case"contain":case"closest-side":return r=0,!1;case"farthest-side":return r=1,!1;case"closest-corner":return r=2,!1;case"cover":case"farthest-corner":return r=3,!1}else if(Xt(e)||Wt(e))return Array.isArray(r)||(r=[]),r.push(e),!1;return t}),s)),s){var a=ye(t,e);n.push(a)}})),{size:r,shape:A,stops:n,position:i,type:2}},xe=function(t,e){if(22===e.type){var A={url:e.value,type:0};return t.cache.addImage(e.value),A}if(18===e.type){var r=Ee[e.name];if(void 0===r)throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(t,e.values)}throw new Error("Unsupported image type "+e.type)},Ee={"linear-gradient":function(t,e){var A=re(180),r=[];return Vt(e).forEach((function(e,n){if(0===n){var i=e[0];if(20===i.type&&"to"===i.value)return void(A=Ae(e));if(ee(i))return void(A=te(t,i))}var o=ye(t,e);r.push(o)})),{angle:A,stops:r,type:1}},"-moz-linear-gradient":be,"-ms-linear-gradient":be,"-o-linear-gradient":be,"-webkit-linear-gradient":be,"radial-gradient":function(t,e){var A=0,r=3,n=[],i=[];return Vt(e).forEach((function(e,o){var s=!0;if(0===o){var a=!1;s=e.reduce((function(t,e){if(a)if(Pt(e))switch(e.value){case"center":return i.push(zt),t;case"top":case"left":return i.push(Jt),t;case"right":case"bottom":return i.push(qt),t}else(Wt(e)||Xt(e))&&i.push(e);else if(Pt(e))switch(e.value){case"circle":return A=0,!1;case"ellipse":return A=1,!1;case"at":return a=!0,!1;case"closest-side":return r=0,!1;case"cover":case"farthest-side":return r=1,!1;case"contain":case"closest-corner":return r=2,!1;case"farthest-corner":return r=3,!1}else if(Xt(e)||Wt(e))return Array.isArray(r)||(r=[]),r.push(e),!1;return t}),s)}if(s){var c=ye(t,e);n.push(c)}})),{size:r,shape:A,stops:n,position:i,type:2}},"-moz-radial-gradient":_e,"-ms-radial-gradient":_e,"-o-radial-gradient":_e,"-webkit-radial-gradient":_e,"-webkit-gradient":function(t,e){var A=re(180),r=[],n=1;return Vt(e).forEach((function(e,A){var i=e[0];if(0===A){if(Pt(i)&&"linear"===i.value)return void(n=1);if(Pt(i)&&"radial"===i.value)return void(n=2)}if(18===i.type)if("from"===i.name){var o=ne(t,i.values[0]);r.push({stop:Jt,color:o})}else if("to"===i.name)o=ne(t,i.values[0]),r.push({stop:qt,color:o});else if("color-stop"===i.name){var s=i.values.filter(Nt);if(2===s.length){o=ne(t,s[1]);var a=s[0];Mt(a)&&r.push({stop:{type:16,number:100*a.number,flags:a.flags},color:o})}}})),1===n?{angle:(A+re(180))%re(360),stops:r,type:n}:{size:3,shape:0,stops:r,position:[],type:n}}},Fe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(0===e.length)return[];var A=e[0];return 20===A.type&&"none"===A.value?[]:e.filter((function(t){return Nt(t)&&function(t){return!(20===t.type&&"none"===t.value||18===t.type&&!Ee[t.name])}(t)})).map((function(e){return xe(t,e)}))}},Qe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map((function(t){if(Pt(t))switch(t.value){case"padding-box":return 1;case"content-box":return 2}return 0}))}},Ue={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return Vt(e).map((function(t){return t.filter(Wt)})).map(Yt)}},Se={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return Vt(e).map((function(t){return t.filter(Pt).map((function(t){return t.value})).join(" ")})).map(Ie)}},Ie=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}};!function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"}(he||(he={}));var Te,Oe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return Vt(e).map((function(t){return t.filter(ke)}))}},ke=function(t){return Pt(t)||Wt(t)},De=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},He=De("top"),Le=De("right"),Me=De("bottom"),Pe=De("left"),Re=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(t,e){return Yt(e.filter(Wt))}}},Ke=Re("top-left"),je=Re("top-right"),Ne=Re("bottom-right"),Ve=Re("bottom-left"),Ge=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(t,e){switch(e){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Xe=Ge("top"),We=Ge("right"),Ye=Ge("bottom"),Je=Ge("left"),ze=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Lt(e)?e.number:0}}},qe=ze("top"),Ze=ze("right"),$e=ze("bottom"),tA=ze("left"),eA={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},AA={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},rA={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Pt).reduce((function(t,e){return t|nA(e.value)}),0)}},nA=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},iA={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},oA={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return 20===e.type&&"normal"===e.value?0:17===e.type||15===e.type?e.number:0}};!function(t){t.NORMAL="normal",t.STRICT="strict"}(Te||(Te={}));var sA,aA={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return Te.STRICT;case"normal":default:return Te.NORMAL}}},cA={name:"line-height",initialValue:"normal",prefix:!1,type:4},uA=function(t,e){return Pt(t)&&"normal"===t.value?1.2*e:17===t.type?e*t.number:Wt(t)?$t(t,e):e},hA={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return 20===e.type&&"none"===e.value?null:xe(t,e)}},lA={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},fA={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},dA=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},pA=dA("top"),gA=dA("right"),vA=dA("bottom"),yA=dA("left"),BA={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Pt).map((function(t){switch(t.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}}))}},wA={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},mA=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},CA=mA("top"),bA=mA("right"),_A=mA("bottom"),xA=mA("left"),EA={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},FA={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},QA={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return 1===e.length&&Kt(e[0],"none")?[]:Vt(e).map((function(e){for(var A={color:pe.TRANSPARENT,offsetX:Jt,offsetY:Jt,blur:Jt},r=0,n=0;n<e.length;n++){var i=e[n];Xt(i)?(0===r?A.offsetX=i:1===r?A.offsetY=i:A.blur=i,r++):A.color=ne(t,i)}return A}))}},UA={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},SA={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(20===e.type&&"none"===e.value)return null;if(18===e.type){var A=IA[e.name];if(void 0===A)throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return A(e.values)}return null}},IA={matrix:function(t){var e=t.filter((function(t){return 17===t.type})).map((function(t){return t.number}));return 6===e.length?e:null},matrix3d:function(t){var e=t.filter((function(t){return 17===t.type})).map((function(t){return t.number})),A=e[0],r=e[1];e[2],e[3];var n=e[4],i=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var o=e[12],s=e[13];return e[14],e[15],16===e.length?[A,r,n,i,o,s]:null}},TA={type:16,number:50,flags:4},OA=[TA,TA],kA={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var A=e.filter(Wt);return 2!==A.length?OA:[A[0],A[1]]}},DA={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}};!function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"}(sA||(sA={}));for(var HA={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return sA.BREAK_ALL;case"keep-all":return sA.KEEP_ALL;case"normal":default:return sA.NORMAL}}},LA={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(20===e.type)return{auto:!0,order:0};if(Mt(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},MA=function(t,e){if(15===e.type)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")},PA={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return Mt(e)?e.number:1}},RA={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},KA={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Pt).map((function(t){switch(t.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0})).filter((function(t){return 0!==t}))}},jA={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var A=[],r=[];return e.forEach((function(t){switch(t.type){case 20:case 0:A.push(t.value);break;case 17:A.push(t.number.toString());break;case 4:r.push(A.join(" ")),A.length=0}})),A.length&&r.push(A.join(" ")),r.map((function(t){return-1===t.indexOf(" ")?t:"'"+t+"'"}))}},NA={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},VA={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(Mt(e))return e.number;if(Pt(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},GA={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Pt).map((function(t){return t.value}))}},XA={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},WA=function(t,e){return 0!=(t&e)},YA={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(0===e.length)return[];var A=e[0];return 20===A.type&&"none"===A.value?[]:e}},JA={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(0===e.length)return null;var A=e[0];if(20===A.type&&"none"===A.value)return null;for(var r=[],n=e.filter(jt),i=0;i<n.length;i++){var o=n[i],s=n[i+1];if(20===o.type){var a=s&&Mt(s)?s.number:1;r.push({counter:o.value,increment:a})}}return r}},zA={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(0===e.length)return[];for(var A=[],r=e.filter(jt),n=0;n<r.length;n++){var i=r[n],o=r[n+1];if(Pt(i)&&"none"!==i.value){var s=o&&Mt(o)?o.number:0;A.push({counter:i.value,reset:s})}}return A}},qA={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(Lt).map((function(e){return MA(t,e)}))}},ZA={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(0===e.length)return null;var A=e[0];if(20===A.type&&"none"===A.value)return null;var r=[],n=e.filter(Rt);if(n.length%2!=0)return null;for(var i=0;i<n.length;i+=2){var o=n[i].value,s=n[i+1].value;r.push({open:o,close:s})}return r}},$A=function(t,e,A){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?A?r.open:r.close:""},tr={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return 1===e.length&&Kt(e[0],"none")?[]:Vt(e).map((function(e){for(var A={color:255,offsetX:Jt,offsetY:Jt,blur:Jt,spread:Jt,inset:!1},r=0,n=0;n<e.length;n++){var i=e[n];Kt(i,"inset")?A.inset=!0:Xt(i)?(0===r?A.offsetX=i:1===r?A.offsetY=i:2===r?A.blur=i:A.spread=i,r++):A.color=ne(t,i)}return A}))}},er={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var A=[];return e.filter(Pt).forEach((function(t){switch(t.value){case"stroke":A.push(1);break;case"fill":A.push(0);break;case"markers":A.push(2)}})),[0,1,2].forEach((function(t){-1===A.indexOf(t)&&A.push(t)})),A}},Ar={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},rr={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return Lt(e)?e.number:0}},nr=function(){function t(t,e){var A,r;this.animationDuration=sr(t,qA,e.animationDuration),this.backgroundClip=sr(t,ge,e.backgroundClip),this.backgroundColor=sr(t,ve,e.backgroundColor),this.backgroundImage=sr(t,Fe,e.backgroundImage),this.backgroundOrigin=sr(t,Qe,e.backgroundOrigin),this.backgroundPosition=sr(t,Ue,e.backgroundPosition),this.backgroundRepeat=sr(t,Se,e.backgroundRepeat),this.backgroundSize=sr(t,Oe,e.backgroundSize),this.borderTopColor=sr(t,He,e.borderTopColor),this.borderRightColor=sr(t,Le,e.borderRightColor),this.borderBottomColor=sr(t,Me,e.borderBottomColor),this.borderLeftColor=sr(t,Pe,e.borderLeftColor),this.borderTopLeftRadius=sr(t,Ke,e.borderTopLeftRadius),this.borderTopRightRadius=sr(t,je,e.borderTopRightRadius),this.borderBottomRightRadius=sr(t,Ne,e.borderBottomRightRadius),this.borderBottomLeftRadius=sr(t,Ve,e.borderBottomLeftRadius),this.borderTopStyle=sr(t,Xe,e.borderTopStyle),this.borderRightStyle=sr(t,We,e.borderRightStyle),this.borderBottomStyle=sr(t,Ye,e.borderBottomStyle),this.borderLeftStyle=sr(t,Je,e.borderLeftStyle),this.borderTopWidth=sr(t,qe,e.borderTopWidth),this.borderRightWidth=sr(t,Ze,e.borderRightWidth),this.borderBottomWidth=sr(t,$e,e.borderBottomWidth),this.borderLeftWidth=sr(t,tA,e.borderLeftWidth),this.boxShadow=sr(t,tr,e.boxShadow),this.color=sr(t,eA,e.color),this.direction=sr(t,AA,e.direction),this.display=sr(t,rA,e.display),this.float=sr(t,iA,e.cssFloat),this.fontFamily=sr(t,jA,e.fontFamily),this.fontSize=sr(t,NA,e.fontSize),this.fontStyle=sr(t,XA,e.fontStyle),this.fontVariant=sr(t,GA,e.fontVariant),this.fontWeight=sr(t,VA,e.fontWeight),this.letterSpacing=sr(t,oA,e.letterSpacing),this.lineBreak=sr(t,aA,e.lineBreak),this.lineHeight=sr(t,cA,e.lineHeight),this.listStyleImage=sr(t,hA,e.listStyleImage),this.listStylePosition=sr(t,lA,e.listStylePosition),this.listStyleType=sr(t,fA,e.listStyleType),this.marginTop=sr(t,pA,e.marginTop),this.marginRight=sr(t,gA,e.marginRight),this.marginBottom=sr(t,vA,e.marginBottom),this.marginLeft=sr(t,yA,e.marginLeft),this.opacity=sr(t,PA,e.opacity);var n=sr(t,BA,e.overflow);this.overflowX=n[0],this.overflowY=n[n.length>1?1:0],this.overflowWrap=sr(t,wA,e.overflowWrap),this.paddingTop=sr(t,CA,e.paddingTop),this.paddingRight=sr(t,bA,e.paddingRight),this.paddingBottom=sr(t,_A,e.paddingBottom),this.paddingLeft=sr(t,xA,e.paddingLeft),this.paintOrder=sr(t,er,e.paintOrder),this.position=sr(t,FA,e.position),this.textAlign=sr(t,EA,e.textAlign),this.textDecorationColor=sr(t,RA,null!==(A=e.textDecorationColor)&&void 0!==A?A:e.color),this.textDecorationLine=sr(t,KA,null!==(r=e.textDecorationLine)&&void 0!==r?r:e.textDecoration),this.textShadow=sr(t,QA,e.textShadow),this.textTransform=sr(t,UA,e.textTransform),this.transform=sr(t,SA,e.transform),this.transformOrigin=sr(t,kA,e.transformOrigin),this.visibility=sr(t,DA,e.visibility),this.webkitTextStrokeColor=sr(t,Ar,e.webkitTextStrokeColor),this.webkitTextStrokeWidth=sr(t,rr,e.webkitTextStrokeWidth),this.wordBreak=sr(t,HA,e.wordBreak),this.zIndex=sr(t,LA,e.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},t.prototype.isTransparent=function(){return ie(this.backgroundColor)},t.prototype.isTransformed=function(){return null!==this.transform},t.prototype.isPositioned=function(){return 0!==this.position},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return 0!==this.float},t.prototype.isInlineLevel=function(){return WA(this.display,4)||WA(this.display,33554432)||WA(this.display,268435456)||WA(this.display,536870912)||WA(this.display,67108864)||WA(this.display,134217728)},t}(),ir=function(t,e){this.content=sr(t,YA,e.content),this.quotes=sr(t,ZA,e.quotes)},or=function(t,e){this.counterIncrement=sr(t,JA,e.counterIncrement),this.counterReset=sr(t,zA,e.counterReset)},sr=function(t,e,A){var r=new Dt,n=null!=A?A.toString():e.initialValue;r.write(n);var i=new Ht(r.read());switch(e.type){case 2:var o=i.parseComponentValue();return e.parse(t,Pt(o)?o.value:e.initialValue);case 0:return e.parse(t,i.parseComponentValue());case 1:return e.parse(t,i.parseComponentValues());case 4:return i.parseComponentValue();case 3:switch(e.format){case"angle":return te(t,i.parseComponentValue());case"color":return ne(t,i.parseComponentValue());case"image":return xe(t,i.parseComponentValue());case"length":var s=i.parseComponentValue();return Xt(s)?s:Jt;case"length-percentage":var a=i.parseComponentValue();return Wt(a)?a:Jt;case"time":return MA(t,i.parseComponentValue())}}},ar=function(t,e){var A=function(t){switch(t.getAttribute("data-html2canvas-debug")){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}}(t);return 1===A||e===A},cr=function(t,e){this.context=t,this.textNodes=[],this.elements=[],this.flags=0,ar(e,3),this.styles=new nr(t,window.getComputedStyle(e,null)),un(e)&&(this.styles.animationDuration.some((function(t){return t>0}))&&(e.style.animationDuration="0s"),null!==this.styles.transform&&(e.style.transform="none")),this.bounds=o(this.context,e),ar(e,4)&&(this.flags|=16)},ur="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",hr="undefined"==typeof Uint8Array?[]:new Uint8Array(256),lr=0;lr<ur.length;lr++)hr[ur.charCodeAt(lr)]=lr;for(var fr=function(t,e,A){return t.slice?t.slice(e,A):new Uint16Array(Array.prototype.slice.call(t,e,A))},dr=function(){function t(t,e,A,r,n,i){this.initialValue=t,this.errorValue=e,this.highStart=A,this.highValueIndex=r,this.index=n,this.data=i}return t.prototype.get=function(t){var e;if(t>=0){if(t<55296||t>56319&&t<=65535)return e=((e=this.index[t>>5])<<2)+(31&t),this.data[e];if(t<=65535)return e=((e=this.index[2048+(t-55296>>5)])<<2)+(31&t),this.data[e];if(t<this.highStart)return e=2080+(t>>11),e=this.index[e],e+=t>>5&63,e=((e=this.index[e])<<2)+(31&t),this.data[e];if(t<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),pr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",gr="undefined"==typeof Uint8Array?[]:new Uint8Array(256),vr=0;vr<pr.length;vr++)gr[pr.charCodeAt(vr)]=vr;var yr,Br=8,wr=9,mr=11,Cr=12,br=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var A=t.length;if(!A)return"";for(var r=[],n=-1,i="";++n<A;){var o=t[n];o<=65535?r.push(o):(o-=65536,r.push(55296+(o>>10),o%1024+56320)),(n+1===A||r.length>16384)&&(i+=String.fromCharCode.apply(String,r),r.length=0)}return i},_r=function(t,e){var A,r,n,i=function(t){var e,A,r,n,i,o=.75*t.length,s=t.length,a=0;"="===t[t.length-1]&&(o--,"="===t[t.length-2]&&o--);var c="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array&&void 0!==Uint8Array.prototype.slice?new ArrayBuffer(o):new Array(o),u=Array.isArray(c)?c:new Uint8Array(c);for(e=0;e<s;e+=4)A=hr[t.charCodeAt(e)],r=hr[t.charCodeAt(e+1)],n=hr[t.charCodeAt(e+2)],i=hr[t.charCodeAt(e+3)],u[a++]=A<<2|r>>4,u[a++]=(15&r)<<4|n>>2,u[a++]=(3&n)<<6|63&i;return c}(t),o=Array.isArray(i)?function(t){for(var e=t.length,A=[],r=0;r<e;r+=4)A.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return A}(i):new Uint32Array(i),s=Array.isArray(i)?function(t){for(var e=t.length,A=[],r=0;r<e;r+=2)A.push(t[r+1]<<8|t[r]);return A}(i):new Uint16Array(i),a=fr(s,12,o[4]/2),c=2===o[5]?fr(s,(24+o[4])/2):(A=o,r=Math.ceil((24+o[4])/4),A.slice?A.slice(r,n):new Uint32Array(Array.prototype.slice.call(A,r,n)));return new dr(o[0],o[1],o[2],o[3],a,c)}("AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA="),xr=function(t){return _r.get(t)},Er=function(t,e,A){var r=A-2,n=e[r],i=e[A-1],o=e[A];if(2===i&&3===o)return"×";if(2===i||3===i||4===i)return"÷";if(2===o||3===o||4===o)return"÷";if(i===Br&&-1!==[Br,wr,mr,Cr].indexOf(o))return"×";if(!(i!==mr&&i!==wr||o!==wr&&10!==o))return"×";if((i===Cr||10===i)&&10===o)return"×";if(13===o||5===o)return"×";if(7===o)return"×";if(1===i)return"×";if(13===i&&14===o){for(;5===n;)n=e[--r];if(14===n)return"×"}if(15===i&&15===o){for(var s=0;15===n;)s++,n=e[--r];if(s%2==0)return"×"}return"÷"},Fr=function(t){var e=function(t){for(var e=[],A=0,r=t.length;A<r;){var n=t.charCodeAt(A++);if(n>=55296&&n<=56319&&A<r){var i=t.charCodeAt(A++);56320==(64512&i)?e.push(((1023&n)<<10)+(1023&i)+65536):(e.push(n),A--)}else e.push(n)}return e}(t),A=e.length,r=0,n=0,i=e.map(xr);return{next:function(){if(r>=A)return{done:!0,value:null};for(var t="×";r<A&&"×"===(t=Er(0,i,++r)););if("×"!==t||r===A){var o=br.apply(null,e.slice(n,r));return n=r,{value:o,done:!1}}return{done:!0,value:null}}}},Qr=function(t){return 0===t[0]&&255===t[1]&&0===t[2]&&255===t[3]},Ur=function(t,e,A,r,n){var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg"),s=document.createElementNS(i,"foreignObject");return o.setAttributeNS(null,"width",t.toString()),o.setAttributeNS(null,"height",e.toString()),s.setAttributeNS(null,"width","100%"),s.setAttributeNS(null,"height","100%"),s.setAttributeNS(null,"x",A.toString()),s.setAttributeNS(null,"y",r.toString()),s.setAttributeNS(null,"externalResourcesRequired","true"),o.appendChild(s),s.appendChild(n),o},Sr=function(t){return new Promise((function(e,A){var r=new Image;r.onload=function(){return e(r)},r.onerror=A,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))}))},Ir={get SUPPORT_RANGE_BOUNDS(){var t=function(t){if(t.createRange){var e=t.createRange();if(e.getBoundingClientRect){var A=t.createElement("boundtest");A.style.height="123px",A.style.display="block",t.body.appendChild(A),e.selectNode(A);var r=e.getBoundingClientRect(),n=Math.round(r.height);if(t.body.removeChild(A),123===n)return!0}}return!1}(document);return Object.defineProperty(Ir,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Ir.SUPPORT_RANGE_BOUNDS&&function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var A=t.createRange();e.innerHTML="function"==typeof"".repeat?"&#128104;".repeat(10):"";var r=e.firstChild,n=s(r.data).map((function(t){return a(t)})),i=0,o={},c=n.every((function(t,e){A.setStart(r,i),A.setEnd(r,i+t.length);var n=A.getBoundingClientRect();i+=t.length;var s=n.x>o.x||n.y>o.y;return o=n,0===e||s}));return t.body.removeChild(e),c}(document);return Object.defineProperty(Ir,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=function(t){var e=new Image,A=t.createElement("canvas"),r=A.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),A.toDataURL()}catch(t){return!1}return!0}(document);return Object.defineProperty(Ir,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t="function"==typeof Array.from&&"function"==typeof window.fetch?function(t){var e=t.createElement("canvas");e.width=100,e.height=100;var A=e.getContext("2d");if(!A)return Promise.reject(!1);A.fillStyle="rgb(0, 255, 0)",A.fillRect(0,0,100,100);var r=new Image,n=e.toDataURL();r.src=n;var i=Ur(100,100,0,0,r);return A.fillStyle="red",A.fillRect(0,0,100,100),Sr(i).then((function(e){A.drawImage(e,0,0);var r=A.getImageData(0,0,100,100).data;A.fillStyle="red",A.fillRect(0,0,100,100);var i=t.createElement("div");return i.style.backgroundImage="url("+n+")",i.style.height="100px",Qr(r)?Sr(Ur(100,100,0,0,i)):Promise.reject(!1)})).then((function(t){return A.drawImage(t,0,0),Qr(A.getImageData(0,0,100,100).data)})).catch((function(){return!1}))}(document):Promise.resolve(!1);return Object.defineProperty(Ir,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=void 0!==(new Image).crossOrigin;return Object.defineProperty(Ir,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t="string"==typeof(new XMLHttpRequest).responseType;return Object.defineProperty(Ir,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ir,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!("undefined"==typeof Intl||!Intl.Segmenter);return Object.defineProperty(Ir,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},Tr=function(t,e){this.text=t,this.bounds=e},Or=function(t,e){var A=e.ownerDocument;if(A){var r=A.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var n=e.parentNode;if(n){n.replaceChild(r,e);var s=o(t,r);return r.firstChild&&n.replaceChild(r.firstChild,r),s}}return i.EMPTY},kr=function(t,e,A){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var n=r.createRange();return n.setStart(t,e),n.setEnd(t,e+A),n},Dr=function(t){if(Ir.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map((function(t){return t.segment}))}return function(t){for(var e,A=Fr(t),r=[];!(e=A.next()).done;)e.value&&r.push(e.value.slice());return r}(t)},Hr=function(t,e){return 0!==e.letterSpacing?Dr(t):function(t,e){if(Ir.SUPPORT_NATIVE_TEXT_SEGMENTATION){var A=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(A.segment(t)).map((function(t){return t.segment}))}return Mr(t,e)}(t,e)},Lr=[32,160,4961,65792,65793,4153,4241],Mr=function(t,e){for(var A,r=function(t,e){var A=s(t),r=At(A,e),n=r[0],i=r[1],o=r[2],a=A.length,c=0,u=0;return{next:function(){if(u>=a)return{done:!0,value:null};for(var t="×";u<a&&"×"===(t=et(A,i,n,++u,o)););if("×"!==t||u===a){var e=new rt(A,t,c,u);return c=u,{value:e,done:!1}}return{done:!0,value:null}}}}(t,{lineBreak:e.lineBreak,wordBreak:"break-word"===e.overflowWrap?"break-word":e.wordBreak}),n=[],i=function(){if(A.value){var t=A.value.slice(),e=s(t),r="";e.forEach((function(t){-1===Lr.indexOf(t)?r+=a(t):(r.length&&n.push(r),n.push(a(t)),r="")})),r.length&&n.push(r)}};!(A=r.next()).done;)i();return n},Pr=function(t,e,A){this.text=Rr(e.data,A.textTransform),this.textBounds=function(t,e,A,r){var n=Hr(e,A),o=[],s=0;return n.forEach((function(e){if(A.textDecorationLine.length||e.trim().length>0)if(Ir.SUPPORT_RANGE_BOUNDS){var n=kr(r,s,e.length).getClientRects();if(n.length>1){var a=Dr(e),c=0;a.forEach((function(e){o.push(new Tr(e,i.fromDOMRectList(t,kr(r,c+s,e.length).getClientRects()))),c+=e.length}))}else o.push(new Tr(e,i.fromDOMRectList(t,n)))}else{var u=r.splitText(e.length);o.push(new Tr(e,Or(t,r))),r=u}else Ir.SUPPORT_RANGE_BOUNDS||(r=r.splitText(e.length));s+=e.length})),o}(t,this.text,A,e)},Rr=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(Kr,jr);case 2:return t.toUpperCase();default:return t}},Kr=/(^|\s|:|-|\(|\))([a-z])/g,jr=function(t,e,A){return t.length>0?e+A.toUpperCase():t},Nr=function(t){function A(e,A){var r=t.call(this,e,A)||this;return r.src=A.currentSrc||A.src,r.intrinsicWidth=A.naturalWidth,r.intrinsicHeight=A.naturalHeight,r.context.cache.addImage(r.src),r}return e(A,t),A}(cr),Vr=function(t){function A(e,A){var r=t.call(this,e,A)||this;return r.canvas=A,r.intrinsicWidth=A.width,r.intrinsicHeight=A.height,r}return e(A,t),A}(cr),Gr=function(t){function A(e,A){var r=t.call(this,e,A)||this,n=new XMLSerializer,i=o(e,A);return A.setAttribute("width",i.width+"px"),A.setAttribute("height",i.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(n.serializeToString(A)),r.intrinsicWidth=A.width.baseVal.value,r.intrinsicHeight=A.height.baseVal.value,r.context.cache.addImage(r.svg),r}return e(A,t),A}(cr),Xr=function(t){function A(e,A){var r=t.call(this,e,A)||this;return r.value=A.value,r}return e(A,t),A}(cr),Wr=function(t){function A(e,A){var r=t.call(this,e,A)||this;return r.start=A.start,r.reversed="boolean"==typeof A.reversed&&!0===A.reversed,r}return e(A,t),A}(cr),Yr=[{type:15,flags:0,unit:"px",number:3}],Jr=[{type:16,flags:0,number:50}],zr="password",qr=function(t){function A(e,A){var r,n,o,s=t.call(this,e,A)||this;switch(s.type=A.type.toLowerCase(),s.checked=A.checked,s.value=0===(n=(r=A).type===zr?new Array(r.value.length+1).join("•"):r.value).length?r.placeholder||"":n,"checkbox"!==s.type&&"radio"!==s.type||(s.styles.backgroundColor=3739148031,s.styles.borderTopColor=s.styles.borderRightColor=s.styles.borderBottomColor=s.styles.borderLeftColor=2779096575,s.styles.borderTopWidth=s.styles.borderRightWidth=s.styles.borderBottomWidth=s.styles.borderLeftWidth=1,s.styles.borderTopStyle=s.styles.borderRightStyle=s.styles.borderBottomStyle=s.styles.borderLeftStyle=1,s.styles.backgroundClip=[0],s.styles.backgroundOrigin=[0],s.bounds=(o=s.bounds).width>o.height?new i(o.left+(o.width-o.height)/2,o.top,o.height,o.height):o.width<o.height?new i(o.left,o.top+(o.height-o.width)/2,o.width,o.width):o),s.type){case"checkbox":s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=Yr;break;case"radio":s.styles.borderTopRightRadius=s.styles.borderTopLeftRadius=s.styles.borderBottomRightRadius=s.styles.borderBottomLeftRadius=Jr}return s}return e(A,t),A}(cr),Zr=function(t){function A(e,A){var r=t.call(this,e,A)||this,n=A.options[A.selectedIndex||0];return r.value=n&&n.text||"",r}return e(A,t),A}(cr),$r=function(t){function A(e,A){var r=t.call(this,e,A)||this;return r.value=A.value,r}return e(A,t),A}(cr),tn=function(t){function A(e,A){var r=t.call(this,e,A)||this;r.src=A.src,r.width=parseInt(A.width,10)||0,r.height=parseInt(A.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(A.contentWindow&&A.contentWindow.document&&A.contentWindow.document.documentElement){r.tree=nn(e,A.contentWindow.document.documentElement);var n=A.contentWindow.document.documentElement?de(e,getComputedStyle(A.contentWindow.document.documentElement).backgroundColor):pe.TRANSPARENT,i=A.contentWindow.document.body?de(e,getComputedStyle(A.contentWindow.document.body).backgroundColor):pe.TRANSPARENT;r.backgroundColor=ie(n)?ie(i)?r.styles.backgroundColor:i:n}}catch(t){}return r}return e(A,t),A}(cr),en=["OL","UL","MENU"],An=function(t,e,A,r){for(var n=e.firstChild,i=void 0;n;n=i)if(i=n.nextSibling,an(n)&&n.data.trim().length>0)A.textNodes.push(new Pr(t,n,A.styles));else if(cn(n))if(_n(n)&&n.assignedNodes)n.assignedNodes().forEach((function(e){return An(t,e,A,r)}));else{var o=rn(t,n);o.styles.isVisible()&&(on(n,o,r)?o.flags|=4:sn(o.styles)&&(o.flags|=2),-1!==en.indexOf(n.tagName)&&(o.flags|=8),A.elements.push(o),n.slot,n.shadowRoot?An(t,n.shadowRoot,o,r):Cn(n)||pn(n)||bn(n)||An(t,n,o,r))}},rn=function(t,e){return Bn(e)?new Nr(t,e):vn(e)?new Vr(t,e):pn(e)?new Gr(t,e):ln(e)?new Xr(t,e):fn(e)?new Wr(t,e):dn(e)?new qr(t,e):bn(e)?new Zr(t,e):Cn(e)?new $r(t,e):wn(e)?new tn(t,e):new cr(t,e)},nn=function(t,e){var A=rn(t,e);return A.flags|=4,An(t,e,A,A),A},on=function(t,e,A){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||gn(t)&&A.styles.isTransparent()},sn=function(t){return t.isPositioned()||t.isFloating()},an=function(t){return t.nodeType===Node.TEXT_NODE},cn=function(t){return t.nodeType===Node.ELEMENT_NODE},un=function(t){return cn(t)&&void 0!==t.style&&!hn(t)},hn=function(t){return"object"==typeof t.className},ln=function(t){return"LI"===t.tagName},fn=function(t){return"OL"===t.tagName},dn=function(t){return"INPUT"===t.tagName},pn=function(t){return"svg"===t.tagName},gn=function(t){return"BODY"===t.tagName},vn=function(t){return"CANVAS"===t.tagName},yn=function(t){return"VIDEO"===t.tagName},Bn=function(t){return"IMG"===t.tagName},wn=function(t){return"IFRAME"===t.tagName},mn=function(t){return"STYLE"===t.tagName},Cn=function(t){return"TEXTAREA"===t.tagName},bn=function(t){return"SELECT"===t.tagName},_n=function(t){return"SLOT"===t.tagName},xn=function(t){return t.tagName.indexOf("-")>0},En=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(t){var e=this.counters[t];return e&&e.length?e[e.length-1]:1},t.prototype.getCounterValues=function(t){var e=this.counters[t];return e||[]},t.prototype.pop=function(t){var e=this;t.forEach((function(t){return e.counters[t].pop()}))},t.prototype.parse=function(t){var e=this,A=t.counterIncrement,r=t.counterReset,n=!0;null!==A&&A.forEach((function(t){var A=e.counters[t.counter];A&&0!==t.increment&&(n=!1,A.length||A.push(1),A[Math.max(0,A.length-1)]+=t.increment)}));var i=[];return n&&r.forEach((function(t){var A=e.counters[t.counter];i.push(t.counter),A||(A=e.counters[t.counter]=[]),A.push(t.reset)})),i},t}(),Fn={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Qn={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["Ք","Փ","Ւ","Ց","Ր","Տ","Վ","Ս","Ռ","Ջ","Պ","Չ","Ո","Շ","Ն","Յ","Մ","Ճ","Ղ","Ձ","Հ","Կ","Ծ","Խ","Լ","Ի","Ժ","Թ","Ը","Է","Զ","Ե","Դ","Գ","Բ","Ա"]},Un={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["י׳","ט׳","ח׳","ז׳","ו׳","ה׳","ד׳","ג׳","ב׳","א׳","ת","ש","ר","ק","צ","פ","ע","ס","נ","מ","ל","כ","יט","יח","יז","טז","טו","י","ט","ח","ז","ו","ה","ד","ג","ב","א"]},Sn={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["ჵ","ჰ","ჯ","ჴ","ხ","ჭ","წ","ძ","ც","ჩ","შ","ყ","ღ","ქ","ფ","ჳ","ტ","ს","რ","ჟ","პ","ო","ჲ","ნ","მ","ლ","კ","ი","თ","ჱ","ზ","ვ","ე","დ","გ","ბ","ა"]},In=function(t,e,A,r,n,i){return t<e||t>A?Hn(t,n,i.length>0):r.integers.reduce((function(e,A,n){for(;t>=A;)t-=A,e+=r.values[n];return e}),"")+i},Tn=function(t,e,A,r){var n="";do{A||t--,n=r(t)+n,t/=e}while(t*e>=e);return n},On=function(t,e,A,r,n){var i=A-e+1;return(t<0?"-":"")+(Tn(Math.abs(t),i,r,(function(t){return a(Math.floor(t%i)+e)}))+n)},kn=function(t,e,A){void 0===A&&(A=". ");var r=e.length;return Tn(Math.abs(t),r,!1,(function(t){return e[Math.floor(t%r)]}))+A},Dn=function(t,e,A,r,n,i){if(t<-9999||t>9999)return Hn(t,4,n.length>0);var o=Math.abs(t),s=n;if(0===o)return e[0]+s;for(var a=0;o>0&&a<=4;a++){var c=o%10;0===c&&WA(i,1)&&""!==s?s=e[c]+s:c>1||1===c&&0===a||1===c&&1===a&&WA(i,2)||1===c&&1===a&&WA(i,4)&&t>100||1===c&&a>1&&WA(i,8)?s=e[c]+(a>0?A[a-1]:"")+s:1===c&&a>0&&(s=A[a-1]+s),o=Math.floor(o/10)}return(t<0?r:"")+s},Hn=function(t,e,A){var r=A?". ":"",n=A?"、":"",i=A?", ":"",o=A?" ":"";switch(e){case 0:return"•"+o;case 1:return"◦"+o;case 2:return"◾"+o;case 5:var s=On(t,48,57,!0,r);return s.length<4?"0"+s:s;case 4:return kn(t,"〇一二三四五六七八九",n);case 6:return In(t,1,3999,Fn,3,r).toLowerCase();case 7:return In(t,1,3999,Fn,3,r);case 8:return On(t,945,969,!1,r);case 9:return On(t,97,122,!1,r);case 10:return On(t,65,90,!1,r);case 11:return On(t,1632,1641,!0,r);case 12:case 49:return In(t,1,9999,Qn,3,r);case 35:return In(t,1,9999,Qn,3,r).toLowerCase();case 13:return On(t,2534,2543,!0,r);case 14:case 30:return On(t,6112,6121,!0,r);case 15:return kn(t,"子丑寅卯辰巳午未申酉戌亥",n);case 16:return kn(t,"甲乙丙丁戊己庚辛壬癸",n);case 17:case 48:return Dn(t,"零一二三四五六七八九","十百千萬","負",n,14);case 47:return Dn(t,"零壹貳參肆伍陸柒捌玖","拾佰仟萬","負",n,15);case 42:return Dn(t,"零一二三四五六七八九","十百千萬","负",n,14);case 41:return Dn(t,"零壹贰叁肆伍陆柒捌玖","拾佰仟萬","负",n,15);case 26:return Dn(t,"〇一二三四五六七八九","十百千万","マイナス",n,0);case 25:return Dn(t,"零壱弐参四伍六七八九","拾百千万","マイナス",n,7);case 31:return Dn(t,"영일이삼사오육칠팔구","십백천만","마이너스",i,7);case 33:return Dn(t,"零一二三四五六七八九","十百千萬","마이너스",i,0);case 32:return Dn(t,"零壹貳參四五六七八九","拾百千","마이너스",i,7);case 18:return On(t,2406,2415,!0,r);case 20:return In(t,1,19999,Sn,3,r);case 21:return On(t,2790,2799,!0,r);case 22:return On(t,2662,2671,!0,r);case 22:return In(t,1,10999,Un,3,r);case 23:return kn(t,"あいうえおかきくけこさしすせそたちつてとなにぬねのはひふへほまみむめもやゆよらりるれろわゐゑをん");case 24:return kn(t,"いろはにほへとちりぬるをわかよたれそつねならむうゐのおくやまけふこえてあさきゆめみしゑひもせす");case 27:return On(t,3302,3311,!0,r);case 28:return kn(t,"アイウエオカキクケコサシスセソタチツテトナニヌネノハヒフヘホマミムメモヤユヨラリルレロワヰヱヲン",n);case 29:return kn(t,"イロハニホヘトチリヌルヲワカヨタレソツネナラムウヰノオクヤマケフコエテアサキユメミシヱヒモセス",n);case 34:return On(t,3792,3801,!0,r);case 37:return On(t,6160,6169,!0,r);case 38:return On(t,4160,4169,!0,r);case 39:return On(t,2918,2927,!0,r);case 40:return On(t,1776,1785,!0,r);case 43:return On(t,3046,3055,!0,r);case 44:return On(t,3174,3183,!0,r);case 45:return On(t,3664,3673,!0,r);case 46:return On(t,3872,3881,!0,r);case 3:default:return On(t,48,57,!0,r)}},Ln=function(){function t(t,e,A){if(this.context=t,this.options=A,this.scrolledElements=[],this.referenceElement=e,this.counters=new En,this.quoteDepth=0,!e.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(e.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(t,e){var A=this,i=Pn(t,e);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var o=t.defaultView.pageXOffset,s=t.defaultView.pageYOffset,a=i.contentWindow,c=a.document,u=jn(i).then((function(){return r(A,void 0,void 0,(function(){var t,A;return n(this,(function(r){switch(r.label){case 0:return this.scrolledElements.forEach(Wn),a&&(a.scrollTo(e.left,e.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||a.scrollY===e.top&&a.scrollX===e.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(a.scrollX-e.left,a.scrollY-e.top,0,0))),t=this.options.onclone,void 0===(A=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:r.sent(),r.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Kn(c)]:[3,4];case 3:r.sent(),r.label=4;case 4:return"function"==typeof t?[2,Promise.resolve().then((function(){return t(c,A)})).then((function(){return i}))]:[2,i]}}))}))}));return c.open(),c.write(Gn(document.doctype)+"<html></html>"),Xn(this.referenceElement.ownerDocument,o,s),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),u},t.prototype.createElementClone=function(t){if(ar(t,2),vn(t))return this.createCanvasClone(t);if(yn(t))return this.createVideoClone(t);if(mn(t))return this.createStyleClone(t);var e=t.cloneNode(!1);return Bn(e)&&(Bn(t)&&t.currentSrc&&t.currentSrc!==t.src&&(e.src=t.currentSrc,e.srcset=""),"lazy"===e.loading&&(e.loading="eager")),xn(e)?this.createCustomElementClone(e):e},t.prototype.createCustomElementClone=function(t){var e=document.createElement("html2canvascustomelement");return Vn(t.style,e),e},t.prototype.createStyleClone=function(t){try{var e=t.sheet;if(e&&e.cssRules){var A=[].slice.call(e.cssRules,0).reduce((function(t,e){return e&&"string"==typeof e.cssText?t+e.cssText:t}),""),r=t.cloneNode(!1);return r.textContent=A,r}}catch(t){if(this.context.logger.error("Unable to access cssRules property",t),"SecurityError"!==t.name)throw t}return t.cloneNode(!1)},t.prototype.createCanvasClone=function(t){var e;if(this.options.inlineImages&&t.ownerDocument){var A=t.ownerDocument.createElement("img");try{return A.src=t.toDataURL(),A}catch(e){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",t)}}var r=t.cloneNode(!1);try{r.width=t.width,r.height=t.height;var n=t.getContext("2d"),i=r.getContext("2d");if(i)if(!this.options.allowTaint&&n)i.putImageData(n.getImageData(0,0,t.width,t.height),0,0);else{var o=null!==(e=t.getContext("webgl2"))&&void 0!==e?e:t.getContext("webgl");if(o){var s=o.getContextAttributes();!1===(null==s?void 0:s.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",t)}i.drawImage(t,0,0)}return r}catch(e){this.context.logger.info("Unable to clone canvas as it is tainted",t)}return r},t.prototype.createVideoClone=function(t){var e=t.ownerDocument.createElement("canvas");e.width=t.offsetWidth,e.height=t.offsetHeight;var A=e.getContext("2d");try{return A&&(A.drawImage(t,0,0,e.width,e.height),this.options.allowTaint||A.getImageData(0,0,e.width,e.height)),e}catch(e){this.context.logger.info("Unable to clone video as it is tainted",t)}var r=t.ownerDocument.createElement("canvas");return r.width=t.offsetWidth,r.height=t.offsetHeight,r},t.prototype.appendChildNode=function(t,e,A){cn(e)&&("SCRIPT"===e.tagName||e.hasAttribute("data-html2canvas-ignore")||"function"==typeof this.options.ignoreElements&&this.options.ignoreElements(e))||this.options.copyStyles&&cn(e)&&mn(e)||t.appendChild(this.cloneNode(e,A))},t.prototype.cloneChildNodes=function(t,e,A){for(var r=this,n=t.shadowRoot?t.shadowRoot.firstChild:t.firstChild;n;n=n.nextSibling)if(cn(n)&&_n(n)&&"function"==typeof n.assignedNodes){var i=n.assignedNodes();i.length&&i.forEach((function(t){return r.appendChildNode(e,t,A)}))}else this.appendChildNode(e,n,A)},t.prototype.cloneNode=function(t,e){if(an(t))return document.createTextNode(t.data);if(!t.ownerDocument)return t.cloneNode(!1);var A=t.ownerDocument.defaultView;if(A&&cn(t)&&(un(t)||hn(t))){var r=this.createElementClone(t);r.style.transitionProperty="none";var n=A.getComputedStyle(t),i=A.getComputedStyle(t,":before"),o=A.getComputedStyle(t,":after");this.referenceElement===t&&un(r)&&(this.clonedReferenceElement=r),gn(r)&&zn(r);var s=this.counters.parse(new or(this.context,n)),a=this.resolvePseudoContent(t,r,i,yr.BEFORE);xn(t)&&(e=!0),yn(t)||this.cloneChildNodes(t,r,e),a&&r.insertBefore(a,r.firstChild);var c=this.resolvePseudoContent(t,r,o,yr.AFTER);return c&&r.appendChild(c),this.counters.pop(s),(n&&(this.options.copyStyles||hn(t))&&!wn(t)||e)&&Vn(n,r),0===t.scrollTop&&0===t.scrollLeft||this.scrolledElements.push([r,t.scrollLeft,t.scrollTop]),(Cn(t)||bn(t))&&(Cn(r)||bn(r))&&(r.value=t.value),r}return t.cloneNode(!1)},t.prototype.resolvePseudoContent=function(t,e,A,r){var n=this;if(A){var i=A.content,o=e.ownerDocument;if(o&&i&&"none"!==i&&"-moz-alt-content"!==i&&"none"!==A.display){this.counters.parse(new or(this.context,A));var s=new ir(this.context,A),a=o.createElement("html2canvaspseudoelement");Vn(A,a),s.content.forEach((function(e){if(0===e.type)a.appendChild(o.createTextNode(e.value));else if(22===e.type){var A=o.createElement("img");A.src=e.value,A.style.opacity="1",a.appendChild(A)}else if(18===e.type){if("attr"===e.name){var r=e.values.filter(Pt);r.length&&a.appendChild(o.createTextNode(t.getAttribute(r[0].value)||""))}else if("counter"===e.name){var i=e.values.filter(Nt),c=i[0],u=i[1];if(c&&Pt(c)){var h=n.counters.getCounterValue(c.value),l=u&&Pt(u)?fA.parse(n.context,u.value):3;a.appendChild(o.createTextNode(Hn(h,l,!1)))}}else if("counters"===e.name){var f=e.values.filter(Nt),d=(c=f[0],f[1]);if(u=f[2],c&&Pt(c)){var p=n.counters.getCounterValues(c.value),g=u&&Pt(u)?fA.parse(n.context,u.value):3,v=d&&0===d.type?d.value:"",y=p.map((function(t){return Hn(t,g,!1)})).join(v);a.appendChild(o.createTextNode(y))}}}else if(20===e.type)switch(e.value){case"open-quote":a.appendChild(o.createTextNode($A(s.quotes,n.quoteDepth++,!0)));break;case"close-quote":a.appendChild(o.createTextNode($A(s.quotes,--n.quoteDepth,!1)));break;default:a.appendChild(o.createTextNode(e.value))}})),a.className=Yn+" "+Jn;var c=r===yr.BEFORE?" "+Yn:" "+Jn;return hn(e)?e.className.baseValue+=c:e.className+=c,a}}},t.destroy=function(t){return!!t.parentNode&&(t.parentNode.removeChild(t),!0)},t}();!function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"}(yr||(yr={}));var Mn,Pn=function(t,e){var A=t.createElement("iframe");return A.className="html2canvas-container",A.style.visibility="hidden",A.style.position="fixed",A.style.left="-10000px",A.style.top="0px",A.style.border="0",A.width=e.width.toString(),A.height=e.height.toString(),A.scrolling="no",A.setAttribute("data-html2canvas-ignore","true"),t.body.appendChild(A),A},Rn=function(t){return new Promise((function(e){t.complete?e():t.src?(t.onload=e,t.onerror=e):e()}))},Kn=function(t){return Promise.all([].slice.call(t.images,0).map(Rn))},jn=function(t){return new Promise((function(e,A){var r=t.contentWindow;if(!r)return A("No window assigned for iframe");var n=r.document;r.onload=t.onload=function(){r.onload=t.onload=null;var A=setInterval((function(){n.body.childNodes.length>0&&"complete"===n.readyState&&(clearInterval(A),e(t))}),50)}}))},Nn=["all","d","content"],Vn=function(t,e){for(var A=t.length-1;A>=0;A--){var r=t.item(A);-1===Nn.indexOf(r)&&e.style.setProperty(r,t.getPropertyValue(r))}return e},Gn=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},Xn=function(t,e,A){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||A!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,A)},Wn=function(t){var e=t[0],A=t[1],r=t[2];e.scrollLeft=A,e.scrollTop=r},Yn="___html2canvas___pseudoelement_before",Jn="___html2canvas___pseudoelement_after",zn=function(t){qn(t,"."+Yn+':before{\n    content: "" !important;\n    display: none !important;\n}\n         .'+Jn+':after{\n    content: "" !important;\n    display: none !important;\n}')},qn=function(t,e){var A=t.ownerDocument;if(A){var r=A.createElement("style");r.textContent=e,t.appendChild(r)}},Zn=function(){function t(){}return t.getOrigin=function(e){var A=t._link;return A?(A.href=e,A.href=A.href,A.protocol+A.hostname+A.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),$n=function(){function t(t,e){this.context=t,this._options=e,this._cache={}}return t.prototype.addImage=function(t){var e=Promise.resolve();return this.has(t)?e:oi(t)||ri(t)?((this._cache[t]=this.loadImage(t)).catch((function(){})),e):e},t.prototype.match=function(t){return this._cache[t]},t.prototype.loadImage=function(t){return r(this,void 0,void 0,(function(){var e,A,r,i,o=this;return n(this,(function(n){switch(n.label){case 0:return e=Zn.isSameOrigin(t),A=!ni(t)&&!0===this._options.useCORS&&Ir.SUPPORT_CORS_IMAGES&&!e,r=!ni(t)&&!e&&!oi(t)&&"string"==typeof this._options.proxy&&Ir.SUPPORT_CORS_XHR&&!A,e||!1!==this._options.allowTaint||ni(t)||oi(t)||r||A?(i=t,r?[4,this.proxy(i)]:[3,2]):[2];case 1:i=n.sent(),n.label=2;case 2:return this.context.logger.debug("Added image "+t.substring(0,256)),[4,new Promise((function(t,e){var r=new Image;r.onload=function(){return t(r)},r.onerror=e,(ii(i)||A)&&(r.crossOrigin="anonymous"),r.src=i,!0===r.complete&&setTimeout((function(){return t(r)}),500),o._options.imageTimeout>0&&setTimeout((function(){return e("Timed out ("+o._options.imageTimeout+"ms) loading image")}),o._options.imageTimeout)}))];case 3:return[2,n.sent()]}}))}))},t.prototype.has=function(t){return void 0!==this._cache[t]},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(t){var e=this,A=this._options.proxy;if(!A)throw new Error("No proxy defined");var r=t.substring(0,256);return new Promise((function(n,i){var o=Ir.SUPPORT_RESPONSE_TYPE?"blob":"text",s=new XMLHttpRequest;s.onload=function(){if(200===s.status)if("text"===o)n(s.response);else{var t=new FileReader;t.addEventListener("load",(function(){return n(t.result)}),!1),t.addEventListener("error",(function(t){return i(t)}),!1),t.readAsDataURL(s.response)}else i("Failed to proxy resource "+r+" with status code "+s.status)},s.onerror=i;var a=A.indexOf("?")>-1?"&":"?";if(s.open("GET",""+A+a+"url="+encodeURIComponent(t)+"&responseType="+o),"text"!==o&&s instanceof XMLHttpRequest&&(s.responseType=o),e._options.imageTimeout){var c=e._options.imageTimeout;s.timeout=c,s.ontimeout=function(){return i("Timed out ("+c+"ms) proxying "+r)}}s.send()}))},t}(),ti=/^data:image\/svg\+xml/i,ei=/^data:image\/.*;base64,/i,Ai=/^data:image\/.*/i,ri=function(t){return Ir.SUPPORT_SVG_DRAWING||!si(t)},ni=function(t){return Ai.test(t)},ii=function(t){return ei.test(t)},oi=function(t){return"blob"===t.substr(0,4)},si=function(t){return"svg"===t.substr(-3).toLowerCase()||ti.test(t)},ai=function(){function t(t,e){this.type=0,this.x=t,this.y=e}return t.prototype.add=function(e,A){return new t(this.x+e,this.y+A)},t}(),ci=function(t,e,A){return new ai(t.x+(e.x-t.x)*A,t.y+(e.y-t.y)*A)},ui=function(){function t(t,e,A,r){this.type=1,this.start=t,this.startControl=e,this.endControl=A,this.end=r}return t.prototype.subdivide=function(e,A){var r=ci(this.start,this.startControl,e),n=ci(this.startControl,this.endControl,e),i=ci(this.endControl,this.end,e),o=ci(r,n,e),s=ci(n,i,e),a=ci(o,s,e);return A?new t(this.start,r,o,a):new t(a,s,i,this.end)},t.prototype.add=function(e,A){return new t(this.start.add(e,A),this.startControl.add(e,A),this.endControl.add(e,A),this.end.add(e,A))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),hi=function(t){return 1===t.type},li=function(t){var e=t.styles,A=t.bounds,r=Zt(e.borderTopLeftRadius,A.width,A.height),n=r[0],i=r[1],o=Zt(e.borderTopRightRadius,A.width,A.height),s=o[0],a=o[1],c=Zt(e.borderBottomRightRadius,A.width,A.height),u=c[0],h=c[1],l=Zt(e.borderBottomLeftRadius,A.width,A.height),f=l[0],d=l[1],p=[];p.push((n+s)/A.width),p.push((f+u)/A.width),p.push((i+d)/A.height),p.push((a+h)/A.height);var g=Math.max.apply(Math,p);g>1&&(n/=g,i/=g,s/=g,a/=g,u/=g,h/=g,f/=g,d/=g);var v=A.width-s,y=A.height-h,B=A.width-u,w=A.height-d,m=e.borderTopWidth,C=e.borderRightWidth,b=e.borderBottomWidth,_=e.borderLeftWidth,x=$t(e.paddingTop,t.bounds.width),E=$t(e.paddingRight,t.bounds.width),F=$t(e.paddingBottom,t.bounds.width),Q=$t(e.paddingLeft,t.bounds.width);this.topLeftBorderDoubleOuterBox=n>0||i>0?fi(A.left+_/3,A.top+m/3,n-_/3,i-m/3,Mn.TOP_LEFT):new ai(A.left+_/3,A.top+m/3),this.topRightBorderDoubleOuterBox=n>0||i>0?fi(A.left+v,A.top+m/3,s-C/3,a-m/3,Mn.TOP_RIGHT):new ai(A.left+A.width-C/3,A.top+m/3),this.bottomRightBorderDoubleOuterBox=u>0||h>0?fi(A.left+B,A.top+y,u-C/3,h-b/3,Mn.BOTTOM_RIGHT):new ai(A.left+A.width-C/3,A.top+A.height-b/3),this.bottomLeftBorderDoubleOuterBox=f>0||d>0?fi(A.left+_/3,A.top+w,f-_/3,d-b/3,Mn.BOTTOM_LEFT):new ai(A.left+_/3,A.top+A.height-b/3),this.topLeftBorderDoubleInnerBox=n>0||i>0?fi(A.left+2*_/3,A.top+2*m/3,n-2*_/3,i-2*m/3,Mn.TOP_LEFT):new ai(A.left+2*_/3,A.top+2*m/3),this.topRightBorderDoubleInnerBox=n>0||i>0?fi(A.left+v,A.top+2*m/3,s-2*C/3,a-2*m/3,Mn.TOP_RIGHT):new ai(A.left+A.width-2*C/3,A.top+2*m/3),this.bottomRightBorderDoubleInnerBox=u>0||h>0?fi(A.left+B,A.top+y,u-2*C/3,h-2*b/3,Mn.BOTTOM_RIGHT):new ai(A.left+A.width-2*C/3,A.top+A.height-2*b/3),this.bottomLeftBorderDoubleInnerBox=f>0||d>0?fi(A.left+2*_/3,A.top+w,f-2*_/3,d-2*b/3,Mn.BOTTOM_LEFT):new ai(A.left+2*_/3,A.top+A.height-2*b/3),this.topLeftBorderStroke=n>0||i>0?fi(A.left+_/2,A.top+m/2,n-_/2,i-m/2,Mn.TOP_LEFT):new ai(A.left+_/2,A.top+m/2),this.topRightBorderStroke=n>0||i>0?fi(A.left+v,A.top+m/2,s-C/2,a-m/2,Mn.TOP_RIGHT):new ai(A.left+A.width-C/2,A.top+m/2),this.bottomRightBorderStroke=u>0||h>0?fi(A.left+B,A.top+y,u-C/2,h-b/2,Mn.BOTTOM_RIGHT):new ai(A.left+A.width-C/2,A.top+A.height-b/2),this.bottomLeftBorderStroke=f>0||d>0?fi(A.left+_/2,A.top+w,f-_/2,d-b/2,Mn.BOTTOM_LEFT):new ai(A.left+_/2,A.top+A.height-b/2),this.topLeftBorderBox=n>0||i>0?fi(A.left,A.top,n,i,Mn.TOP_LEFT):new ai(A.left,A.top),this.topRightBorderBox=s>0||a>0?fi(A.left+v,A.top,s,a,Mn.TOP_RIGHT):new ai(A.left+A.width,A.top),this.bottomRightBorderBox=u>0||h>0?fi(A.left+B,A.top+y,u,h,Mn.BOTTOM_RIGHT):new ai(A.left+A.width,A.top+A.height),this.bottomLeftBorderBox=f>0||d>0?fi(A.left,A.top+w,f,d,Mn.BOTTOM_LEFT):new ai(A.left,A.top+A.height),this.topLeftPaddingBox=n>0||i>0?fi(A.left+_,A.top+m,Math.max(0,n-_),Math.max(0,i-m),Mn.TOP_LEFT):new ai(A.left+_,A.top+m),this.topRightPaddingBox=s>0||a>0?fi(A.left+Math.min(v,A.width-C),A.top+m,v>A.width+C?0:Math.max(0,s-C),Math.max(0,a-m),Mn.TOP_RIGHT):new ai(A.left+A.width-C,A.top+m),this.bottomRightPaddingBox=u>0||h>0?fi(A.left+Math.min(B,A.width-_),A.top+Math.min(y,A.height-b),Math.max(0,u-C),Math.max(0,h-b),Mn.BOTTOM_RIGHT):new ai(A.left+A.width-C,A.top+A.height-b),this.bottomLeftPaddingBox=f>0||d>0?fi(A.left+_,A.top+Math.min(w,A.height-b),Math.max(0,f-_),Math.max(0,d-b),Mn.BOTTOM_LEFT):new ai(A.left+_,A.top+A.height-b),this.topLeftContentBox=n>0||i>0?fi(A.left+_+Q,A.top+m+x,Math.max(0,n-(_+Q)),Math.max(0,i-(m+x)),Mn.TOP_LEFT):new ai(A.left+_+Q,A.top+m+x),this.topRightContentBox=s>0||a>0?fi(A.left+Math.min(v,A.width+_+Q),A.top+m+x,v>A.width+_+Q?0:s-_+Q,a-(m+x),Mn.TOP_RIGHT):new ai(A.left+A.width-(C+E),A.top+m+x),this.bottomRightContentBox=u>0||h>0?fi(A.left+Math.min(B,A.width-(_+Q)),A.top+Math.min(y,A.height+m+x),Math.max(0,u-(C+E)),h-(b+F),Mn.BOTTOM_RIGHT):new ai(A.left+A.width-(C+E),A.top+A.height-(b+F)),this.bottomLeftContentBox=f>0||d>0?fi(A.left+_+Q,A.top+w,Math.max(0,f-(_+Q)),d-(b+F),Mn.BOTTOM_LEFT):new ai(A.left+_+Q,A.top+A.height-(b+F))};!function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(Mn||(Mn={}));var fi=function(t,e,A,r,n){var i=(Math.sqrt(2)-1)/3*4,o=A*i,s=r*i,a=t+A,c=e+r;switch(n){case Mn.TOP_LEFT:return new ui(new ai(t,c),new ai(t,c-s),new ai(a-o,e),new ai(a,e));case Mn.TOP_RIGHT:return new ui(new ai(t,e),new ai(t+o,e),new ai(a,c-s),new ai(a,c));case Mn.BOTTOM_RIGHT:return new ui(new ai(a,e),new ai(a,e+s),new ai(t+o,c),new ai(t,c));case Mn.BOTTOM_LEFT:default:return new ui(new ai(a,c),new ai(a-o,c),new ai(t,e+s),new ai(t,e))}},di=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},pi=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},gi=function(t,e,A){this.offsetX=t,this.offsetY=e,this.matrix=A,this.type=0,this.target=6},vi=function(t,e){this.path=t,this.target=e,this.type=1},yi=function(t){this.opacity=t,this.type=2,this.target=6},Bi=function(t){return 1===t.type},wi=function(t,e){return t.length===e.length&&t.some((function(t,A){return t===e[A]}))},mi=function(t){this.element=t,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]},Ci=function(){function t(t,e){if(this.container=t,this.parent=e,this.effects=[],this.curves=new li(this.container),this.container.styles.opacity<1&&this.effects.push(new yi(this.container.styles.opacity)),null!==this.container.styles.transform){var A=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,n=this.container.styles.transform;this.effects.push(new gi(A,r,n))}if(0!==this.container.styles.overflowX){var i=di(this.curves),o=pi(this.curves);wi(i,o)?this.effects.push(new vi(i,6)):(this.effects.push(new vi(i,2)),this.effects.push(new vi(o,4)))}}return t.prototype.getEffects=function(t){for(var e=-1===[2,3].indexOf(this.container.styles.position),A=this.parent,r=this.effects.slice(0);A;){var n=A.effects.filter((function(t){return!Bi(t)}));if(e||0!==A.container.styles.position||!A.parent){if(r.unshift.apply(r,n),e=-1===[2,3].indexOf(A.container.styles.position),0!==A.container.styles.overflowX){var i=di(A.curves),o=pi(A.curves);wi(i,o)||r.unshift(new vi(o,6))}}else r.unshift.apply(r,n);A=A.parent}return r.filter((function(e){return WA(e.target,t)}))},t}(),bi=function(t,e,A,r){t.container.elements.forEach((function(n){var i=WA(n.flags,4),o=WA(n.flags,2),s=new Ci(n,t);WA(n.styles.display,2048)&&r.push(s);var a=WA(n.flags,8)?[]:r;if(i||o){var c=i||n.styles.isPositioned()?A:e,u=new mi(s);if(n.styles.isPositioned()||n.styles.opacity<1||n.styles.isTransformed()){var h=n.styles.zIndex.order;if(h<0){var l=0;c.negativeZIndex.some((function(t,e){return h>t.element.container.styles.zIndex.order?(l=e,!1):l>0})),c.negativeZIndex.splice(l,0,u)}else if(h>0){var f=0;c.positiveZIndex.some((function(t,e){return h>=t.element.container.styles.zIndex.order?(f=e+1,!1):f>0})),c.positiveZIndex.splice(f,0,u)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else n.styles.isFloating()?c.nonPositionedFloats.push(u):c.nonPositionedInlineLevel.push(u);bi(s,u,i?u:A,a)}else n.styles.isInlineLevel()?e.inlineLevel.push(s):e.nonInlineLevel.push(s),bi(s,e,A,a);WA(n.flags,8)&&_i(n,a)}))},_i=function(t,e){for(var A=t instanceof Wr?t.start:1,r=t instanceof Wr&&t.reversed,n=0;n<e.length;n++){var i=e[n];i.container instanceof Xr&&"number"==typeof i.container.value&&0!==i.container.value&&(A=i.container.value),i.listValue=Hn(A,i.container.styles.listStyleType,!0),A+=r?-1:1}},xi=function(t,e){switch(e){case 0:return Fi(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Fi(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Fi(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Fi(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},Ei=function(t,e){var A=[];return hi(t)?A.push(t.subdivide(.5,!1)):A.push(t),hi(e)?A.push(e.subdivide(.5,!0)):A.push(e),A},Fi=function(t,e,A,r){var n=[];return hi(t)?n.push(t.subdivide(.5,!1)):n.push(t),hi(A)?n.push(A.subdivide(.5,!0)):n.push(A),hi(r)?n.push(r.subdivide(.5,!0).reverse()):n.push(r),hi(e)?n.push(e.subdivide(.5,!1).reverse()):n.push(e),n},Qi=function(t){var e=t.bounds,A=t.styles;return e.add(A.borderLeftWidth,A.borderTopWidth,-(A.borderRightWidth+A.borderLeftWidth),-(A.borderTopWidth+A.borderBottomWidth))},Ui=function(t){var e=t.styles,A=t.bounds,r=$t(e.paddingLeft,A.width),n=$t(e.paddingRight,A.width),i=$t(e.paddingTop,A.width),o=$t(e.paddingBottom,A.width);return A.add(r+e.borderLeftWidth,i+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+n),-(e.borderTopWidth+e.borderBottomWidth+i+o))},Si=function(t,e,A){var r=function(t,e){return 0===t?e.bounds:2===t?Ui(e):Qi(e)}(ki(t.styles.backgroundOrigin,e),t),n=function(t,e){return 0===t?e.bounds:2===t?Ui(e):Qi(e)}(ki(t.styles.backgroundClip,e),t),i=Oi(ki(t.styles.backgroundSize,e),A,r),o=i[0],s=i[1],a=Zt(ki(t.styles.backgroundPosition,e),r.width-o,r.height-s);return[Di(ki(t.styles.backgroundRepeat,e),a,i,r,n),Math.round(r.left+a[0]),Math.round(r.top+a[1]),o,s]},Ii=function(t){return Pt(t)&&t.value===he.AUTO},Ti=function(t){return"number"==typeof t},Oi=function(t,e,A){var r=e[0],n=e[1],i=e[2],o=t[0],s=t[1];if(!o)return[0,0];if(Wt(o)&&s&&Wt(s))return[$t(o,A.width),$t(s,A.height)];var a=Ti(i);if(Pt(o)&&(o.value===he.CONTAIN||o.value===he.COVER))return Ti(i)?A.width/A.height<i!=(o.value===he.COVER)?[A.width,A.width/i]:[A.height*i,A.height]:[A.width,A.height];var c=Ti(r),u=Ti(n),h=c||u;if(Ii(o)&&(!s||Ii(s)))return c&&u?[r,n]:a||h?h&&a?[c?r:n*i,u?n:r/i]:[c?r:A.width,u?n:A.height]:[A.width,A.height];if(a){var l=0,f=0;return Wt(o)?l=$t(o,A.width):Wt(s)&&(f=$t(s,A.height)),Ii(o)?l=f*i:s&&!Ii(s)||(f=l/i),[l,f]}var d=null,p=null;if(Wt(o)?d=$t(o,A.width):s&&Wt(s)&&(p=$t(s,A.height)),null===d||s&&!Ii(s)||(p=c&&u?d/r*n:A.height),null!==p&&Ii(o)&&(d=c&&u?p/n*r:A.width),null!==d&&null!==p)return[d,p];throw new Error("Unable to calculate background-size for element")},ki=function(t,e){var A=t[e];return void 0===A?t[0]:A},Di=function(t,e,A,r,n){var i=e[0],o=e[1],s=A[0],a=A[1];switch(t){case 2:return[new ai(Math.round(r.left),Math.round(r.top+o)),new ai(Math.round(r.left+r.width),Math.round(r.top+o)),new ai(Math.round(r.left+r.width),Math.round(a+r.top+o)),new ai(Math.round(r.left),Math.round(a+r.top+o))];case 3:return[new ai(Math.round(r.left+i),Math.round(r.top)),new ai(Math.round(r.left+i+s),Math.round(r.top)),new ai(Math.round(r.left+i+s),Math.round(r.height+r.top)),new ai(Math.round(r.left+i),Math.round(r.height+r.top))];case 1:return[new ai(Math.round(r.left+i),Math.round(r.top+o)),new ai(Math.round(r.left+i+s),Math.round(r.top+o)),new ai(Math.round(r.left+i+s),Math.round(r.top+o+a)),new ai(Math.round(r.left+i),Math.round(r.top+o+a))];default:return[new ai(Math.round(n.left),Math.round(n.top)),new ai(Math.round(n.left+n.width),Math.round(n.top)),new ai(Math.round(n.left+n.width),Math.round(n.height+n.top)),new ai(Math.round(n.left),Math.round(n.height+n.top))]}},Hi=function(){function t(t){this._data={},this._document=t}return t.prototype.parseMetrics=function(t,e){var A=this._document.createElement("div"),r=this._document.createElement("img"),n=this._document.createElement("span"),i=this._document.body;A.style.visibility="hidden",A.style.fontFamily=t,A.style.fontSize=e,A.style.margin="0",A.style.padding="0",A.style.whiteSpace="nowrap",i.appendChild(A),r.src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",n.style.fontFamily=t,n.style.fontSize=e,n.style.margin="0",n.style.padding="0",n.appendChild(this._document.createTextNode("Hidden Text")),A.appendChild(n),A.appendChild(r);var o=r.offsetTop-n.offsetTop+2;A.removeChild(n),A.appendChild(this._document.createTextNode("Hidden Text")),A.style.lineHeight="normal",r.style.verticalAlign="super";var s=r.offsetTop-A.offsetTop+2;return i.removeChild(A),{baseline:o,middle:s}},t.prototype.getMetrics=function(t,e){var A=t+" "+e;return void 0===this._data[A]&&(this._data[A]=this.parseMetrics(t,e)),this._data[A]},t}(),Li=function(t,e){this.context=t,this.options=e},Mi=function(t){function A(e,A){var r=t.call(this,e,A)||this;return r._activeEffects=[],r.canvas=A.canvas?A.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),A.canvas||(r.canvas.width=Math.floor(A.width*A.scale),r.canvas.height=Math.floor(A.height*A.scale),r.canvas.style.width=A.width+"px",r.canvas.style.height=A.height+"px"),r.fontMetrics=new Hi(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-A.x,-A.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+A.width+"x"+A.height+") with scale "+A.scale),r}return e(A,t),A.prototype.applyEffects=function(t){for(var e=this;this._activeEffects.length;)this.popEffect();t.forEach((function(t){return e.applyEffect(t)}))},A.prototype.applyEffect=function(t){this.ctx.save(),function(t){return 2===t.type}(t)&&(this.ctx.globalAlpha=t.opacity),function(t){return 0===t.type}(t)&&(this.ctx.translate(t.offsetX,t.offsetY),this.ctx.transform(t.matrix[0],t.matrix[1],t.matrix[2],t.matrix[3],t.matrix[4],t.matrix[5]),this.ctx.translate(-t.offsetX,-t.offsetY)),Bi(t)&&(this.path(t.path),this.ctx.clip()),this._activeEffects.push(t)},A.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},A.prototype.renderStack=function(t){return r(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return t.element.container.styles.isVisible()?[4,this.renderStackContent(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},A.prototype.renderNode=function(t){return r(this,void 0,void 0,(function(){return n(this,(function(e){switch(e.label){case 0:return WA(t.container.flags,16),t.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(t)]:[3,3];case 1:return e.sent(),[4,this.renderNodeContent(t)];case 2:e.sent(),e.label=3;case 3:return[2]}}))}))},A.prototype.renderTextWithLetterSpacing=function(t,e,A){var r=this;0===e?this.ctx.fillText(t.text,t.bounds.left,t.bounds.top+A):Dr(t.text).reduce((function(e,n){return r.ctx.fillText(n,e,t.bounds.top+A),e+r.ctx.measureText(n).width}),t.bounds.left)},A.prototype.createFontStyle=function(t){var e=t.fontVariant.filter((function(t){return"normal"===t||"small-caps"===t})).join(""),A=Ni(t.fontFamily).join(", "),r=Lt(t.fontSize)?""+t.fontSize.number+t.fontSize.unit:t.fontSize.number+"px";return[[t.fontStyle,e,t.fontWeight,r,A].join(" "),A,r]},A.prototype.renderTextNode=function(t,e){return r(this,void 0,void 0,(function(){var A,r,i,o,s,a,c,u,h=this;return n(this,(function(n){return A=this.createFontStyle(e),r=A[0],i=A[1],o=A[2],this.ctx.font=r,this.ctx.direction=1===e.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",s=this.fontMetrics.getMetrics(i,o),a=s.baseline,c=s.middle,u=e.paintOrder,t.textBounds.forEach((function(t){u.forEach((function(A){switch(A){case 0:h.ctx.fillStyle=oe(e.color),h.renderTextWithLetterSpacing(t,e.letterSpacing,a);var r=e.textShadow;r.length&&t.text.trim().length&&(r.slice(0).reverse().forEach((function(A){h.ctx.shadowColor=oe(A.color),h.ctx.shadowOffsetX=A.offsetX.number*h.options.scale,h.ctx.shadowOffsetY=A.offsetY.number*h.options.scale,h.ctx.shadowBlur=A.blur.number,h.renderTextWithLetterSpacing(t,e.letterSpacing,a)})),h.ctx.shadowColor="",h.ctx.shadowOffsetX=0,h.ctx.shadowOffsetY=0,h.ctx.shadowBlur=0),e.textDecorationLine.length&&(h.ctx.fillStyle=oe(e.textDecorationColor||e.color),e.textDecorationLine.forEach((function(e){switch(e){case 1:h.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top+a),t.bounds.width,1);break;case 2:h.ctx.fillRect(t.bounds.left,Math.round(t.bounds.top),t.bounds.width,1);break;case 3:h.ctx.fillRect(t.bounds.left,Math.ceil(t.bounds.top+c),t.bounds.width,1)}})));break;case 1:e.webkitTextStrokeWidth&&t.text.trim().length&&(h.ctx.strokeStyle=oe(e.webkitTextStrokeColor),h.ctx.lineWidth=e.webkitTextStrokeWidth,h.ctx.lineJoin=window.chrome?"miter":"round",h.ctx.strokeText(t.text,t.bounds.left,t.bounds.top+a)),h.ctx.strokeStyle="",h.ctx.lineWidth=0,h.ctx.lineJoin="miter"}}))})),[2]}))}))},A.prototype.renderReplacedElement=function(t,e,A){if(A&&t.intrinsicWidth>0&&t.intrinsicHeight>0){var r=Ui(t),n=pi(e);this.path(n),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(A,0,0,t.intrinsicWidth,t.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},A.prototype.renderNodeContent=function(t){return r(this,void 0,void 0,(function(){var e,r,o,s,a,c,u,h,l,f,d,p,g,v,y,B,w,m;return n(this,(function(n){switch(n.label){case 0:this.applyEffects(t.getEffects(4)),e=t.container,r=t.curves,o=e.styles,s=0,a=e.textNodes,n.label=1;case 1:return s<a.length?(c=a[s],[4,this.renderTextNode(c,o)]):[3,4];case 2:n.sent(),n.label=3;case 3:return s++,[3,1];case 4:if(!(e instanceof Nr))return[3,8];n.label=5;case 5:return n.trys.push([5,7,,8]),[4,this.context.cache.match(e.src)];case 6:return y=n.sent(),this.renderReplacedElement(e,r,y),[3,8];case 7:return n.sent(),this.context.logger.error("Error loading image "+e.src),[3,8];case 8:if(e instanceof Vr&&this.renderReplacedElement(e,r,e.canvas),!(e instanceof Gr))return[3,12];n.label=9;case 9:return n.trys.push([9,11,,12]),[4,this.context.cache.match(e.svg)];case 10:return y=n.sent(),this.renderReplacedElement(e,r,y),[3,12];case 11:return n.sent(),this.context.logger.error("Error loading svg "+e.svg.substring(0,255)),[3,12];case 12:return e instanceof tn&&e.tree?[4,new A(this.context,{scale:this.options.scale,backgroundColor:e.backgroundColor,x:0,y:0,width:e.width,height:e.height}).render(e.tree)]:[3,14];case 13:u=n.sent(),e.width&&e.height&&this.ctx.drawImage(u,0,0,e.width,e.height,e.bounds.left,e.bounds.top,e.bounds.width,e.bounds.height),n.label=14;case 14:if(e instanceof qr&&(h=Math.min(e.bounds.width,e.bounds.height),"checkbox"===e.type?e.checked&&(this.ctx.save(),this.path([new ai(e.bounds.left+.39363*h,e.bounds.top+.79*h),new ai(e.bounds.left+.16*h,e.bounds.top+.5549*h),new ai(e.bounds.left+.27347*h,e.bounds.top+.44071*h),new ai(e.bounds.left+.39694*h,e.bounds.top+.5649*h),new ai(e.bounds.left+.72983*h,e.bounds.top+.23*h),new ai(e.bounds.left+.84*h,e.bounds.top+.34085*h),new ai(e.bounds.left+.39363*h,e.bounds.top+.79*h)]),this.ctx.fillStyle=oe(707406591),this.ctx.fill(),this.ctx.restore()):"radio"===e.type&&e.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(e.bounds.left+h/2,e.bounds.top+h/2,h/4,0,2*Math.PI,!0),this.ctx.fillStyle=oe(707406591),this.ctx.fill(),this.ctx.restore())),Pi(e)&&e.value.length){switch(l=this.createFontStyle(o),w=l[0],f=l[1],d=this.fontMetrics.getMetrics(w,f).baseline,this.ctx.font=w,this.ctx.fillStyle=oe(o.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=Ki(e.styles.textAlign),m=Ui(e),p=0,e.styles.textAlign){case 1:p+=m.width/2;break;case 2:p+=m.width}g=m.add(p,0,0,-m.height/2+1),this.ctx.save(),this.path([new ai(m.left,m.top),new ai(m.left+m.width,m.top),new ai(m.left+m.width,m.top+m.height),new ai(m.left,m.top+m.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new Tr(e.value,g),o.letterSpacing,d),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!WA(e.styles.display,2048))return[3,20];if(null===e.styles.listStyleImage)return[3,19];if(0!==(v=e.styles.listStyleImage).type)return[3,18];y=void 0,B=v.url,n.label=15;case 15:return n.trys.push([15,17,,18]),[4,this.context.cache.match(B)];case 16:return y=n.sent(),this.ctx.drawImage(y,e.bounds.left-(y.width+10),e.bounds.top),[3,18];case 17:return n.sent(),this.context.logger.error("Error loading list-style-image "+B),[3,18];case 18:return[3,20];case 19:t.listValue&&-1!==e.styles.listStyleType&&(w=this.createFontStyle(o)[0],this.ctx.font=w,this.ctx.fillStyle=oe(o.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",m=new i(e.bounds.left,e.bounds.top+$t(e.styles.paddingTop,e.bounds.width),e.bounds.width,uA(o.lineHeight,o.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new Tr(t.listValue,m),o.letterSpacing,uA(o.lineHeight,o.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),n.label=20;case 20:return[2]}}))}))},A.prototype.renderStackContent=function(t){return r(this,void 0,void 0,(function(){var e,A,r,i,o,s,a,c,u,h,l,f,d,p,g;return n(this,(function(n){switch(n.label){case 0:return WA(t.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(t.element)];case 1:n.sent(),e=0,A=t.negativeZIndex,n.label=2;case 2:return e<A.length?(g=A[e],[4,this.renderStack(g)]):[3,5];case 3:n.sent(),n.label=4;case 4:return e++,[3,2];case 5:return[4,this.renderNodeContent(t.element)];case 6:n.sent(),r=0,i=t.nonInlineLevel,n.label=7;case 7:return r<i.length?(g=i[r],[4,this.renderNode(g)]):[3,10];case 8:n.sent(),n.label=9;case 9:return r++,[3,7];case 10:o=0,s=t.nonPositionedFloats,n.label=11;case 11:return o<s.length?(g=s[o],[4,this.renderStack(g)]):[3,14];case 12:n.sent(),n.label=13;case 13:return o++,[3,11];case 14:a=0,c=t.nonPositionedInlineLevel,n.label=15;case 15:return a<c.length?(g=c[a],[4,this.renderStack(g)]):[3,18];case 16:n.sent(),n.label=17;case 17:return a++,[3,15];case 18:u=0,h=t.inlineLevel,n.label=19;case 19:return u<h.length?(g=h[u],[4,this.renderNode(g)]):[3,22];case 20:n.sent(),n.label=21;case 21:return u++,[3,19];case 22:l=0,f=t.zeroOrAutoZIndexOrTransformedOrOpacity,n.label=23;case 23:return l<f.length?(g=f[l],[4,this.renderStack(g)]):[3,26];case 24:n.sent(),n.label=25;case 25:return l++,[3,23];case 26:d=0,p=t.positiveZIndex,n.label=27;case 27:return d<p.length?(g=p[d],[4,this.renderStack(g)]):[3,30];case 28:n.sent(),n.label=29;case 29:return d++,[3,27];case 30:return[2]}}))}))},A.prototype.mask=function(t){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(t.slice(0).reverse()),this.ctx.closePath()},A.prototype.path=function(t){this.ctx.beginPath(),this.formatPath(t),this.ctx.closePath()},A.prototype.formatPath=function(t){var e=this;t.forEach((function(t,A){var r=hi(t)?t.start:t;0===A?e.ctx.moveTo(r.x,r.y):e.ctx.lineTo(r.x,r.y),hi(t)&&e.ctx.bezierCurveTo(t.startControl.x,t.startControl.y,t.endControl.x,t.endControl.y,t.end.x,t.end.y)}))},A.prototype.renderRepeat=function(t,e,A,r){this.path(t),this.ctx.fillStyle=e,this.ctx.translate(A,r),this.ctx.fill(),this.ctx.translate(-A,-r)},A.prototype.resizeImage=function(t,e,A){var r;if(t.width===e&&t.height===A)return t;var n=(null!==(r=this.canvas.ownerDocument)&&void 0!==r?r:document).createElement("canvas");return n.width=Math.max(1,e),n.height=Math.max(1,A),n.getContext("2d").drawImage(t,0,0,t.width,t.height,0,0,e,A),n},A.prototype.renderBackgroundImage=function(t){return r(this,void 0,void 0,(function(){var e,A,r,i,o,s;return n(this,(function(a){switch(a.label){case 0:e=t.styles.backgroundImage.length-1,A=function(A){var i,o,s,a,c,u,h,l,f,d,p,g,v,y,B,w,m,C,b,_,x,E,F,Q,U,S,I,T,O,k,D;return n(this,(function(n){switch(n.label){case 0:if(0!==A.type)return[3,5];i=void 0,o=A.url,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,r.context.cache.match(o)];case 2:return i=n.sent(),[3,4];case 3:return n.sent(),r.context.logger.error("Error loading background-image "+o),[3,4];case 4:return i&&(s=Si(t,e,[i.width,i.height,i.width/i.height]),w=s[0],E=s[1],F=s[2],b=s[3],_=s[4],y=r.ctx.createPattern(r.resizeImage(i,b,_),"repeat"),r.renderRepeat(w,y,E,F)),[3,6];case 5:1===A.type?(a=Si(t,e,[null,null,null]),w=a[0],E=a[1],F=a[2],b=a[3],_=a[4],c=we(A.angle,b,_),u=c[0],h=c[1],l=c[2],f=c[3],d=c[4],(p=document.createElement("canvas")).width=b,p.height=_,g=p.getContext("2d"),v=g.createLinearGradient(h,f,l,d),Be(A.stops,u).forEach((function(t){return v.addColorStop(t.stop,oe(t.color))})),g.fillStyle=v,g.fillRect(0,0,b,_),b>0&&_>0&&(y=r.ctx.createPattern(p,"repeat"),r.renderRepeat(w,y,E,F))):function(t){return 2===t.type}(A)&&(B=Si(t,e,[null,null,null]),w=B[0],m=B[1],C=B[2],b=B[3],_=B[4],x=0===A.position.length?[zt]:A.position,E=$t(x[0],b),F=$t(x[x.length-1],_),Q=function(t,e,A,r,n){var i=0,o=0;switch(t.size){case 0:0===t.shape?i=o=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(A),Math.abs(A-n)):1===t.shape&&(i=Math.min(Math.abs(e),Math.abs(e-r)),o=Math.min(Math.abs(A),Math.abs(A-n)));break;case 2:if(0===t.shape)i=o=Math.min(me(e,A),me(e,A-n),me(e-r,A),me(e-r,A-n));else if(1===t.shape){var s=Math.min(Math.abs(A),Math.abs(A-n))/Math.min(Math.abs(e),Math.abs(e-r)),a=Ce(r,n,e,A,!0),c=a[0],u=a[1];o=s*(i=me(c-e,(u-A)/s))}break;case 1:0===t.shape?i=o=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(A),Math.abs(A-n)):1===t.shape&&(i=Math.max(Math.abs(e),Math.abs(e-r)),o=Math.max(Math.abs(A),Math.abs(A-n)));break;case 3:if(0===t.shape)i=o=Math.max(me(e,A),me(e,A-n),me(e-r,A),me(e-r,A-n));else if(1===t.shape){s=Math.max(Math.abs(A),Math.abs(A-n))/Math.max(Math.abs(e),Math.abs(e-r));var h=Ce(r,n,e,A,!1);c=h[0],u=h[1],o=s*(i=me(c-e,(u-A)/s))}}return Array.isArray(t.size)&&(i=$t(t.size[0],r),o=2===t.size.length?$t(t.size[1],n):i),[i,o]}(A,E,F,b,_),U=Q[0],S=Q[1],U>0&&S>0&&(I=r.ctx.createRadialGradient(m+E,C+F,0,m+E,C+F,U),Be(A.stops,2*U).forEach((function(t){return I.addColorStop(t.stop,oe(t.color))})),r.path(w),r.ctx.fillStyle=I,U!==S?(T=t.bounds.left+.5*t.bounds.width,O=t.bounds.top+.5*t.bounds.height,D=1/(k=S/U),r.ctx.save(),r.ctx.translate(T,O),r.ctx.transform(1,0,0,k,0,0),r.ctx.translate(-T,-O),r.ctx.fillRect(m,D*(C-O)+O,b,_*D),r.ctx.restore()):r.ctx.fill())),n.label=6;case 6:return e--,[2]}}))},r=this,i=0,o=t.styles.backgroundImage.slice(0).reverse(),a.label=1;case 1:return i<o.length?(s=o[i],[5,A(s)]):[3,4];case 2:a.sent(),a.label=3;case 3:return i++,[3,1];case 4:return[2]}}))}))},A.prototype.renderSolidBorder=function(t,e,A){return r(this,void 0,void 0,(function(){return n(this,(function(r){return this.path(xi(A,e)),this.ctx.fillStyle=oe(t),this.ctx.fill(),[2]}))}))},A.prototype.renderDoubleBorder=function(t,e,A,i){return r(this,void 0,void 0,(function(){var r,o;return n(this,(function(n){switch(n.label){case 0:return e<3?[4,this.renderSolidBorder(t,A,i)]:[3,2];case 1:return n.sent(),[2];case 2:return r=function(t,e){switch(e){case 0:return Fi(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Fi(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Fi(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Fi(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}}(i,A),this.path(r),this.ctx.fillStyle=oe(t),this.ctx.fill(),o=function(t,e){switch(e){case 0:return Fi(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Fi(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Fi(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Fi(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}}(i,A),this.path(o),this.ctx.fill(),[2]}}))}))},A.prototype.renderNodeBackgroundAndBorders=function(t){return r(this,void 0,void 0,(function(){var e,A,r,i,o,s,a,c,u=this;return n(this,(function(n){switch(n.label){case 0:return this.applyEffects(t.getEffects(2)),e=t.container.styles,A=!ie(e.backgroundColor)||e.backgroundImage.length,r=[{style:e.borderTopStyle,color:e.borderTopColor,width:e.borderTopWidth},{style:e.borderRightStyle,color:e.borderRightColor,width:e.borderRightWidth},{style:e.borderBottomStyle,color:e.borderBottomColor,width:e.borderBottomWidth},{style:e.borderLeftStyle,color:e.borderLeftColor,width:e.borderLeftWidth}],i=Ri(ki(e.backgroundClip,0),t.curves),A||e.boxShadow.length?(this.ctx.save(),this.path(i),this.ctx.clip(),ie(e.backgroundColor)||(this.ctx.fillStyle=oe(e.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(t.container)]):[3,2];case 1:n.sent(),this.ctx.restore(),e.boxShadow.slice(0).reverse().forEach((function(e){u.ctx.save();var A,r,n,i,o,s=di(t.curves),a=e.inset?0:1e4,c=(A=s,r=-a+(e.inset?1:-1)*e.spread.number,n=(e.inset?1:-1)*e.spread.number,i=e.spread.number*(e.inset?-2:2),o=e.spread.number*(e.inset?-2:2),A.map((function(t,e){switch(e){case 0:return t.add(r,n);case 1:return t.add(r+i,n);case 2:return t.add(r+i,n+o);case 3:return t.add(r,n+o)}return t})));e.inset?(u.path(s),u.ctx.clip(),u.mask(c)):(u.mask(s),u.ctx.clip(),u.path(c)),u.ctx.shadowOffsetX=e.offsetX.number+a,u.ctx.shadowOffsetY=e.offsetY.number,u.ctx.shadowColor=oe(e.color),u.ctx.shadowBlur=e.blur.number,u.ctx.fillStyle=e.inset?oe(e.color):"rgba(0,0,0,1)",u.ctx.fill(),u.ctx.restore()})),n.label=2;case 2:o=0,s=0,a=r,n.label=3;case 3:return s<a.length?0!==(c=a[s]).style&&!ie(c.color)&&c.width>0?2!==c.style?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,o,t.curves,2)]:[3,11]:[3,13];case 4:return n.sent(),[3,11];case 5:return 3!==c.style?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,o,t.curves,3)];case 6:return n.sent(),[3,11];case 7:return 4!==c.style?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,o,t.curves)];case 8:return n.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,o,t.curves)];case 10:n.sent(),n.label=11;case 11:o++,n.label=12;case 12:return s++,[3,3];case 13:return[2]}}))}))},A.prototype.renderDashedDottedBorder=function(t,e,A,i,o){return r(this,void 0,void 0,(function(){var r,s,a,c,u,h,l,f,d,p,g,v,y,B,w,m;return n(this,(function(n){return this.ctx.save(),r=function(t,e){switch(e){case 0:return Ei(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return Ei(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return Ei(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return Ei(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}}(i,A),s=xi(i,A),2===o&&(this.path(s),this.ctx.clip()),hi(s[0])?(a=s[0].start.x,c=s[0].start.y):(a=s[0].x,c=s[0].y),hi(s[1])?(u=s[1].end.x,h=s[1].end.y):(u=s[1].x,h=s[1].y),l=0===A||2===A?Math.abs(a-u):Math.abs(c-h),this.ctx.beginPath(),3===o?this.formatPath(r):this.formatPath(s.slice(0,2)),f=e<3?3*e:2*e,d=e<3?2*e:e,3===o&&(f=e,d=e),p=!0,l<=2*f?p=!1:l<=2*f+d?(f*=g=l/(2*f+d),d*=g):(v=Math.floor((l+d)/(f+d)),y=(l-v*f)/(v-1),d=(B=(l-(v+1)*f)/v)<=0||Math.abs(d-y)<Math.abs(d-B)?y:B),p&&(3===o?this.ctx.setLineDash([0,f+d]):this.ctx.setLineDash([f,d])),3===o?(this.ctx.lineCap="round",this.ctx.lineWidth=e):this.ctx.lineWidth=2*e+1.1,this.ctx.strokeStyle=oe(t),this.ctx.stroke(),this.ctx.setLineDash([]),2===o&&(hi(s[0])&&(w=s[3],m=s[0],this.ctx.beginPath(),this.formatPath([new ai(w.end.x,w.end.y),new ai(m.start.x,m.start.y)]),this.ctx.stroke()),hi(s[1])&&(w=s[1],m=s[2],this.ctx.beginPath(),this.formatPath([new ai(w.end.x,w.end.y),new ai(m.start.x,m.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]}))}))},A.prototype.render=function(t){return r(this,void 0,void 0,(function(){var e;return n(this,(function(A){switch(A.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=oe(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=new Ci(t,null),n=new mi(r),bi(r,n,n,i=[]),_i(r.container,i),e=n,[4,this.renderStack(e)];case 1:return A.sent(),this.applyEffects([]),[2,this.canvas]}var r,n,i}))}))},A}(Li),Pi=function(t){return t instanceof $r||t instanceof Zr||t instanceof qr&&"radio"!==t.type&&"checkbox"!==t.type},Ri=function(t,e){switch(t){case 0:return di(e);case 2:return function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]}(e);case 1:default:return pi(e)}},Ki=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},ji=["-apple-system","system-ui"],Ni=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter((function(t){return-1===ji.indexOf(t)})):t},Vi=function(t){function A(e,A){var r=t.call(this,e,A)||this;return r.canvas=A.canvas?A.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=A,r.canvas.width=Math.floor(A.width*A.scale),r.canvas.height=Math.floor(A.height*A.scale),r.canvas.style.width=A.width+"px",r.canvas.style.height=A.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-A.x,-A.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+A.width+"x"+A.height+" at "+A.x+","+A.y+") with scale "+A.scale),r}return e(A,t),A.prototype.render=function(t){return r(this,void 0,void 0,(function(){var e,A;return n(this,(function(r){switch(r.label){case 0:return e=Ur(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,t),[4,Gi(e)];case 1:return A=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=oe(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(A,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}}))}))},A}(Li),Gi=function(t){return new Promise((function(e,A){var r=new Image;r.onload=function(){e(r)},r.onerror=A,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(t))}))},Xi=function(){function t(t){var e=t.id,A=t.enabled;this.id=e,this.enabled=A,this.start=Date.now()}return t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.debug||this.info.apply(this,t))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&"undefined"!=typeof window&&window.console&&console.info},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.warn||this.info.apply(this,t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.enabled&&("undefined"!=typeof window&&window.console&&"function"==typeof console.error||this.info.apply(this,t))},t.instances={},t}(),Wi=function(){function t(e,A){var r;this.windowBounds=A,this.instanceName="#"+t.instanceCount++,this.logger=new Xi({id:this.instanceName,enabled:e.logging}),this.cache=null!==(r=e.cache)&&void 0!==r?r:new $n(this,e)}return t.instanceCount=1,t}();"undefined"!=typeof window&&Zn.setContext(window);var Yi=function(t,e){return r(void 0,void 0,void 0,(function(){var r,s,a,c,u,h,l,f,d,p,g,v,y,B,w,m,C,b,_,x,E,F,Q,U,S,I,T,O,k,D,H,L,M,P,R,K,j,N;return n(this,(function(n){switch(n.label){case 0:if(!t||"object"!=typeof t)return[2,Promise.reject("Invalid element provided as first argument")];if(!(r=t.ownerDocument))throw new Error("Element is not attached to a Document");if(!(s=r.defaultView))throw new Error("Document is not attached to a Window");return a={allowTaint:null!==(F=e.allowTaint)&&void 0!==F&&F,imageTimeout:null!==(Q=e.imageTimeout)&&void 0!==Q?Q:15e3,proxy:e.proxy,useCORS:null!==(U=e.useCORS)&&void 0!==U&&U},c=A({logging:null===(S=e.logging)||void 0===S||S,cache:e.cache},a),u={windowWidth:null!==(I=e.windowWidth)&&void 0!==I?I:s.innerWidth,windowHeight:null!==(T=e.windowHeight)&&void 0!==T?T:s.innerHeight,scrollX:null!==(O=e.scrollX)&&void 0!==O?O:s.pageXOffset,scrollY:null!==(k=e.scrollY)&&void 0!==k?k:s.pageYOffset},h=new i(u.scrollX,u.scrollY,u.windowWidth,u.windowHeight),l=new Wi(c,h),f=null!==(D=e.foreignObjectRendering)&&void 0!==D&&D,d={allowTaint:null!==(H=e.allowTaint)&&void 0!==H&&H,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:f,copyStyles:f},l.logger.debug("Starting document clone with size "+h.width+"x"+h.height+" scrolled to "+-h.left+","+-h.top),p=new Ln(l,t,d),(g=p.clonedReferenceElement)?[4,p.toIFrame(r,h)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return v=n.sent(),y=gn(g)||"HTML"===g.tagName?function(t){var e=t.body,A=t.documentElement;if(!e||!A)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,A.scrollWidth),Math.max(e.offsetWidth,A.offsetWidth),Math.max(e.clientWidth,A.clientWidth)),n=Math.max(Math.max(e.scrollHeight,A.scrollHeight),Math.max(e.offsetHeight,A.offsetHeight),Math.max(e.clientHeight,A.clientHeight));return new i(0,0,r,n)}(g.ownerDocument):o(l,g),B=y.width,w=y.height,m=y.left,C=y.top,b=Ji(l,g,e.backgroundColor),_={canvas:e.canvas,backgroundColor:b,scale:null!==(M=null!==(L=e.scale)&&void 0!==L?L:s.devicePixelRatio)&&void 0!==M?M:1,x:(null!==(P=e.x)&&void 0!==P?P:0)+m,y:(null!==(R=e.y)&&void 0!==R?R:0)+C,width:null!==(K=e.width)&&void 0!==K?K:Math.ceil(B),height:null!==(j=e.height)&&void 0!==j?j:Math.ceil(w)},f?(l.logger.debug("Document cloned, using foreign object rendering"),[4,new Vi(l,_).render(g)]):[3,3];case 2:return x=n.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+m+","+C+" with size "+B+"x"+w+" using computed rendering"),l.logger.debug("Starting DOM parsing"),E=nn(l,g),b===E.styles.backgroundColor&&(E.styles.backgroundColor=pe.TRANSPARENT),l.logger.debug("Starting renderer for element at "+_.x+","+_.y+" with size "+_.width+"x"+_.height),[4,new Mi(l,_).render(E)];case 4:x=n.sent(),n.label=5;case 5:return(null===(N=e.removeContainer)||void 0===N||N)&&(Ln.destroy(v)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,x]}}))}))},Ji=function(t,e,A){var r=e.ownerDocument,n=r.documentElement?de(t,getComputedStyle(r.documentElement).backgroundColor):pe.TRANSPARENT,i=r.body?de(t,getComputedStyle(r.body).backgroundColor):pe.TRANSPARENT,o="string"==typeof A?de(t,A):null===A?pe.TRANSPARENT:4294967295;return e===r.documentElement?ie(n)?ie(i)?o:i:n:o};return function(t,e){return void 0===e&&(e={}),Yi(t,e)}}()},function(t,e,A){var r=A(443),n=A(444),i=A(140),o=A(445);t.exports=function(t,e){return r(t)||n(t,e)||i(t,e)||o()},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){t.exports=A(455)},function(t,e,A){"use strict";var r=A(457),n=A(467),i=A(171);t.exports={formats:i,parse:n,stringify:r}},function(t,e,A){t.exports=A(468)},function(t,e,A){var r;!function(n,i){"use strict";var o="model",s="name",a="type",c="vendor",u="version",h="mobile",l="tablet",f="smarttv",d=function(t){for(var e={},A=0;A<t.length;A++)e[t[A].toUpperCase()]=t[A];return e},p=function(t,e){return"string"==typeof t&&-1!==g(e).indexOf(g(t))},g=function(t){return t.toLowerCase()},v=function(t,e){if("string"==typeof t)return t=t.replace(/^\s\s*/,"").replace(/\s\s*$/,""),void 0===e?t:t.substring(0,255)},y=function(t,e){for(var A,r,n,i,o,s,a=0;a<e.length&&!o;){var c=e[a],u=e[a+1];for(A=r=0;A<c.length&&!o;)if(o=c[A++].exec(t))for(n=0;n<u.length;n++)s=o[++r],"object"==typeof(i=u[n])&&i.length>0?2===i.length?"function"==typeof i[1]?this[i[0]]=i[1].call(this,s):this[i[0]]=i[1]:3===i.length?"function"!=typeof i[1]||i[1].exec&&i[1].test?this[i[0]]=s?s.replace(i[1],i[2]):void 0:this[i[0]]=s?i[1].call(this,s,i[2]):void 0:4===i.length&&(this[i[0]]=s?i[3].call(this,s.replace(i[1],i[2])):void 0):this[i]=s||void 0;a+=2}},B=function(t,e){for(var A in e)if("object"==typeof e[A]&&e[A].length>0){for(var r=0;r<e[A].length;r++)if(p(e[A][r],t))return"?"===A?void 0:A}else if(p(e[A],t))return"?"===A?void 0:A;return t},w={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},m={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[u,[s,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[u,[s,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[s,u],[/opios[\/ ]+([\w\.]+)/i],[u,[s,"Opera Mini"]],[/\bopr\/([\w\.]+)/i],[u,[s,"Opera"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[s,u],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[u,[s,"UCBrowser"]],[/\bqbcore\/([\w\.]+)/i],[u,[s,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[u,[s,"WeChat"]],[/konqueror\/([\w\.]+)/i],[u,[s,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[u,[s,"IE"]],[/yabrowser\/([\w\.]+)/i],[u,[s,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[s,/(.+)/,"$1 Secure Browser"],u],[/\bfocus\/([\w\.]+)/i],[u,[s,"Firefox Focus"]],[/\bopt\/([\w\.]+)/i],[u,[s,"Opera Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[u,[s,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[u,[s,"Dolphin"]],[/coast\/([\w\.]+)/i],[u,[s,"Opera Coast"]],[/miuibrowser\/([\w\.]+)/i],[u,[s,"MIUI Browser"]],[/fxios\/([-\w\.]+)/i],[u,[s,"Firefox"]],[/\bqihu|(qi?ho?o?|360)browser/i],[[s,"360 Browser"]],[/(oculus|samsung|sailfish)browser\/([\w\.]+)/i],[[s,/(.+)/,"$1 Browser"],u],[/(comodo_dragon)\/([\w\.]+)/i],[[s,/_/g," "],u],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[s,u],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i],[s],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[s,"Facebook"],u],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[s,u],[/\bgsa\/([\w\.]+) .*safari\//i],[u,[s,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[u,[s,"Chrome Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[s,"Chrome WebView"],u],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[u,[s,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[s,u],[/version\/([\w\.]+) .*mobile\/\w+ (safari)/i],[u,[s,"Mobile Safari"]],[/version\/([\w\.]+) .*(mobile ?safari|safari)/i],[u,s],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[s,[u,B,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[s,u],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[s,"Netscape"],u],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[u,[s,"Firefox Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[s,u]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",g]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[["architecture","arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[["architecture","armhf"]],[/windows (ce|mobile); ppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[["architecture",/ower/,"",g]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[["architecture",g]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[pt]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[o,[c,"Samsung"],[a,l]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[o,[c,"Samsung"],[a,h]],[/\((ip(?:hone|od)[\w ]*);/i],[o,[c,"Apple"],[a,h]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[o,[c,"Apple"],[a,l]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[o,[c,"Huawei"],[a,l]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}-[atu]?[ln][01259x][012359][an]?)\b(?!.+d\/s)/i],[o,[c,"Huawei"],[a,h]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[o,/_/g," "],[c,"Xiaomi"],[a,h]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[o,/_/g," "],[c,"Xiaomi"],[a,l]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[o,[c,"OPPO"],[a,h]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[o,[c,"Vivo"],[a,h]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[o,[c,"Realme"],[a,h]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[o,[c,"Motorola"],[a,h]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[o,[c,"Motorola"],[a,l]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[o,[c,"LG"],[a,l]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[o,[c,"LG"],[a,h]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[o,[c,"Lenovo"],[a,l]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[o,/_/g," "],[c,"Nokia"],[a,h]],[/(pixel c)\b/i],[o,[c,"Google"],[a,l]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[o,[c,"Google"],[a,h]],[/droid.+ ([c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[o,[c,"Sony"],[a,h]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[o,"Xperia Tablet"],[c,"Sony"],[a,l]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[o,[c,"OnePlus"],[a,h]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[o,[c,"Amazon"],[a,l]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[o,/(.+)/g,"Fire Phone $1"],[c,"Amazon"],[a,h]],[/(playbook);[-\w\),; ]+(rim)/i],[o,c,[a,l]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[o,[c,"BlackBerry"],[a,h]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[o,[c,"ASUS"],[a,l]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[o,[c,"ASUS"],[a,h]],[/(nexus 9)/i],[o,[c,"HTC"],[a,l]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony)[-_ ]?([-\w]*)/i],[c,[o,/_/g," "],[a,h]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[o,[c,"Acer"],[a,l]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[o,[c,"Meizu"],[a,h]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[o,[c,"Sharp"],[a,h]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[c,o,[a,h]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[c,o,[a,l]],[/(surface duo)/i],[o,[c,"Microsoft"],[a,l]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[o,[c,"Fairphone"],[a,h]],[/(u304aa)/i],[o,[c,"AT&T"],[a,h]],[/\bsie-(\w*)/i],[o,[c,"Siemens"],[a,h]],[/\b(rct\w+) b/i],[o,[c,"RCA"],[a,l]],[/\b(venue[\d ]{2,7}) b/i],[o,[c,"Dell"],[a,l]],[/\b(q(?:mv|ta)\w+) b/i],[o,[c,"Verizon"],[a,l]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[o,[c,"Barnes & Noble"],[a,l]],[/\b(tm\d{3}\w+) b/i],[o,[c,"NuVision"],[a,l]],[/\b(k88) b/i],[o,[c,"ZTE"],[a,l]],[/\b(nx\d{3}j) b/i],[o,[c,"ZTE"],[a,h]],[/\b(gen\d{3}) b.+49h/i],[o,[c,"Swiss"],[a,h]],[/\b(zur\d{3}) b/i],[o,[c,"Swiss"],[a,l]],[/\b((zeki)?tb.*\b) b/i],[o,[c,"Zeki"],[a,l]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[c,"Dragon Touch"],o,[a,l]],[/\b(ns-?\w{0,9}) b/i],[o,[c,"Insignia"],[a,l]],[/\b((nxa|next)-?\w{0,9}) b/i],[o,[c,"NextBook"],[a,l]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[c,"Voice"],o,[a,h]],[/\b(lvtel\-)?(v1[12]) b/i],[[c,"LvTel"],o,[a,h]],[/\b(ph-1) /i],[o,[c,"Essential"],[a,h]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[o,[c,"Envizen"],[a,l]],[/\b(trio[-\w\. ]+) b/i],[o,[c,"MachSpeed"],[a,l]],[/\btu_(1491) b/i],[o,[c,"Rotor"],[a,l]],[/(shield[\w ]+) b/i],[o,[c,"Nvidia"],[a,l]],[/(sprint) (\w+)/i],[c,o,[a,h]],[/(kin\.[onetw]{3})/i],[[o,/\./g," "],[c,"Microsoft"],[a,h]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[o,[c,"Zebra"],[a,l]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[o,[c,"Zebra"],[a,h]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[c,o,[a,"console"]],[/droid.+; (shield) bui/i],[o,[c,"Nvidia"],[a,"console"]],[/(playstation [345portablevi]+)/i],[o,[c,"Sony"],[a,"console"]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[o,[c,"Microsoft"],[a,"console"]],[/smart-tv.+(samsung)/i],[c,[a,f]],[/hbbtv.+maple;(\d+)/i],[[o,/^/,"SmartTV"],[c,"Samsung"],[a,f]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[c,"LG"],[a,f]],[/(apple) ?tv/i],[c,[o,"Apple TV"],[a,f]],[/crkey/i],[[o,"Chromecast"],[c,"Google"],[a,f]],[/droid.+aft(\w)( bui|\))/i],[o,[c,"Amazon"],[a,f]],[/\(dtv[\);].+(aquos)/i],[o,[c,"Sharp"],[a,f]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[c,v],[o,v],[a,f]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[a,f]],[/((pebble))app/i],[c,o,[a,"wearable"]],[/droid.+; (glass) \d/i],[o,[c,"Google"],[a,"wearable"]],[/droid.+; (wt63?0{2,3})\)/i],[o,[c,"Zebra"],[a,"wearable"]],[/(quest( 2)?)/i],[o,[c,"Facebook"],[a,"wearable"]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[c,[a,"embedded"]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[o,[a,h]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[o,[a,l]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[a,l]],[/(phone|mobile(?:[;\/]| safari)|pda(?=.+windows ce))/i],[[a,h]],[/(android[-\w\. ]{0,9});.+buil/i],[o,[c,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[u,[s,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[u,[s,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[s,u],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[u,s]],os:[[/microsoft (windows) (vista|xp)/i],[s,u],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[s,[u,B,w]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[s,"Windows"],[u,B,w]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[u,/_/g,"."],[s,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[s,"Mac OS"],[u,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86)/i],[u,s],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[s,u],[/\(bb(10);/i],[u,[s,"BlackBerry"]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[u,[s,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[u,[s,"Firefox OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[u,[s,"webOS"]],[/crkey\/([\d\.]+)/i],[u,[s,"Chromecast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[s,"Chromium OS"],u],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[s,u],[/(sunos) ?([\w\.\d]*)/i],[[s,"Solaris"],u],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[s,u]]},C=function(t,e){if("object"==typeof t&&(e=t,t=void 0),!(this instanceof C))return new C(t,e).getResult();var A=t||(void 0!==n&&n.navigator&&n.navigator.userAgent?n.navigator.userAgent:""),r=e?function(t,e){var A={};for(var r in t)e[r]&&e[r].length%2==0?A[r]=e[r].concat(t[r]):A[r]=t[r];return A}(m,e):m;return this.getBrowser=function(){var t,e={};return e[s]=void 0,e[u]=void 0,y.call(e,A,r.browser),e.major="string"==typeof(t=e.version)?t.replace(/[^\d\.]/g,"").split(".")[0]:void 0,e},this.getCPU=function(){var t={architecture:void 0};return y.call(t,A,r.cpu),t},this.getDevice=function(){var t={vendor:void 0,model:void 0,type:void 0};return y.call(t,A,r.device),t},this.getEngine=function(){var t={name:void 0,version:void 0};return y.call(t,A,r.engine),t},this.getOS=function(){var t={name:void 0,version:void 0};return y.call(t,A,r.os),t},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return A},this.setUA=function(t){return A="string"==typeof t&&t.length>255?v(t,255):t,this},this.setUA(A),this};C.VERSION="0.7.31",C.BROWSER=d([s,u,"major"]),C.CPU=d(["architecture"]),C.DEVICE=d([o,c,a,"console",h,f,l,"wearable","embedded"]),C.ENGINE=C.OS=d([s,u]),void 0!==e?(void 0!==t&&t.exports&&(e=t.exports=C),e.UAParser=C):A(470)?void 0===(r=function(){return C}.call(e,A,e,t))||(t.exports=r):void 0!==n&&(n.UAParser=C);var b=void 0!==n&&(n.jQuery||n.Zepto);if(b&&!b.ua){var _=new C;b.ua=_.getResult(),b.ua.get=function(){return _.getUA()},b.ua.set=function(t){_.setUA(t);var e=_.getResult();for(var A in e)b.ua[A]=e[A]}}}("object"==typeof window?window:this)},function(t,e,A){(function(e){!function(){"use strict";var A={d:function(t,e){for(var r in e)A.o(e,r)&&!A.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}};A.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),A.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},A.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};A.r(r),A.d(r,{createTracker:function(){return w}});var n=function(t,e,A,r){this._opt=r||{},this.s=A||"",this.k=t||0,this.timestamp=Date.now(),this.etype=e||0,this.appId="",this.preset={},this.tags={},this.data={},this.lib_version="1.0.0",this.lib_name="vhall-jssdk-track"},i={};try{var o=function(){}.constructor("return this")();o&&(i=o)}catch(A){}function s(){return"[object process]"===Object.prototype.toString.call(void 0!==e?e:0)?A.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:i}function a(){var t=s(),e=t.__vh_track__;return e||(t.__vh_track__={_q:[],hub:null},e=t.__vh_track__),e}var c=a().logger,u={1:"属性不能为非字符串",2:"属性以$开头是保留属性",3:"属性只能为a-zA-Z0-9_-.字符",10:"值只能是string、boolean、number、Date类型，不可为NaN或Infinity",11:"值不支持此种类型，请转化为字符串"};function h(t){var e=typeof t;return"string"===e||"boolean"===e?0:"number"===e?isFinite(t)?0:-1:t instanceof Date||"function"==typeof t||"symbol"==typeof t||"bigint"==typeof t||Array.isArray(t)||"object"==typeof t?-1:11}function l(t){return"string"!=typeof t?1:"$"===t[0]?2:/^[a-zA-Z0-9_\-$.:@\[\]|()*+,]*$/i.test(t)?0:3}function f(t){return function(t,e){void 0===e&&(e=!0),t||(t={});for(var A={},r=0,n=Object.keys(t);r<n.length;r++){var i=n[r],o=t[i];if("$preset"!==i){var s=l(i),a=h(o);s>0&&a>0?(e&&delete t[i],c&&c.debug("已删除有问题的属性: "+i+" ",u[s]||u[a]||"")):A[i]=o}else A.$preset=t.$preset}return A}(t,!1)}function d(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function p(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var A=e.shift();if(A&&"object"==typeof A)for(var r in A)d(A,r)&&(t[r]=A[r])}return t}s();var g=function(){function t(t,e,A,r){this._opt=r||{},this._t=Date.now(),this._mk="number"==typeof t?t:t||35,this._preset=A||{},this._appId=e,this._s=this._opt.s||"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)})),this.setAppid(e)}var e,A=t.prototype;return A._point=function(t){return function(t){var e=a();if(!e.hub)return Array.isArray(e._q)||(e._q=[]),e._q.push(t),void(e._q.length>8e3&&(e._q=e._q.slice(e._q.length-8e3)));"function"==typeof e.hub.captureEventData&&e.hub.captureEventData(t)}(t)},A._getK=function(t){return t>1e4?t:1e4*this._mk+Math.min(Math.max(t,0),9999)},A.setAppid=function(t){if(t){this._appId=t,a().appId=t;var e=a().hub;e&&e.setAppid(t)}},A.setPreset=function(t){p(this._preset,t)},A._capture=function(t,e,A){var r=this._getK(e),i=new n(r,t,this._s,this._opt);i.data=A||{},p(i.preset,this._preset),i.appId=this._appId,this._point(i)},A.event=function(t,e){f(e),this._capture(0,t,e)},A.exception=function(t,e){"[object Error]"===Object.prototype.toString.apply(t)&&(e=t,t=0),this._capture(1,t,e)},A.sample=function(t,e,A){f(e),this._capture(2,t,e,{sampleRate:A})},A.mark=function(t,e){f(e),this._capture(3,t,e)},A.metrics=function(t,e){f(e),this._capture(4,t,e)},(e=[{key:"s",get:function(){return this._s}}])&&function(t,e){for(var A=0;A<e.length;A++){var r=e[A];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(t.prototype,e),t}();function v(t,e,A){return(v=y()?Reflect.construct:function(t,e,A){var r=[null];r.push.apply(r,e);var n=new(Function.bind.apply(t,r));return A&&B(n,A.prototype),n}).apply(null,arguments)}function y(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function B(t,e){return(B=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function w(){for(var t=arguments.length,e=new Array(t),A=0;A<t;A++)e[A]=arguments[A];return v(g,e)}t.exports=r}()}).call(this,A(233))},function(t,e,A){A(177),A(136),A(249),A(250),t.exports=A(17).Symbol},function(t,e,A){var r=A(84),n=A(133),i=A(101);t.exports=function(t){var e=r(t),A=n.f;if(A)for(var o,s=A(t),a=i.f,c=0;s.length>c;)a.call(t,o=s[c++])&&e.push(o);return e}},function(t,e,A){var r=A(55),n=A(100),i=A(248);t.exports=function(t){return function(e,A,o){var s,a=r(e),c=n(a.length),u=i(o,c);if(t&&A!=A){for(;c>u;)if((s=a[u++])!=s)return!0}else for(;c>u;u++)if((t||u in a)&&a[u]===A)return t||u||0;return!t&&-1}}},function(t,e,A){var r=A(130),n=Math.max,i=Math.min;t.exports=function(t,e){return(t=r(t))<0?n(t+e,0):i(t,e)}},function(t,e,A){A(128)("asyncIterator")},function(t,e,A){A(128)("observable")},function(t,e,A){A(104),A(138),t.exports=A(127).f("iterator")},function(t,e,A){var r=A(130),n=A(129);t.exports=function(t){return function(e,A){var i,o,s=String(n(e)),a=r(A),c=s.length;return a<0||a>=c?t?"":void 0:(i=s.charCodeAt(a))<55296||i>56319||a+1===c||(o=s.charCodeAt(a+1))<56320||o>57343?t?s.charAt(a):i:t?s.slice(a,a+2):o-56320+(i-55296<<10)+65536}}},function(t,e,A){"use strict";var r=A(86),n=A(81),i=A(83),o={};A(60)(o,A(38)("iterator"),(function(){return this})),t.exports=function(t,e,A){t.prototype=r(o,{next:n(1,A)}),i(t,e+" Iterator")}},function(t,e,A){"use strict";var r=A(255),n=A(186),i=A(87),o=A(55);t.exports=A(137)(Array,"Array",(function(t,e){this._t=o(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,A=this._i++;return!t||A>=t.length?(this._t=void 0,n(1)):n(0,"keys"==e?A:"values"==e?t[A]:[A,t[A]])}),"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e,A){A(257),t.exports=A(17).Reflect.construct},function(t,e,A){var r=A(24),n=A(86),i=A(66),o=A(50),s=A(42),a=A(65),c=A(258),u=(A(35).Reflect||{}).construct,h=a((function(){function t(){}return!(u((function(){}),[],t)instanceof t)})),l=!a((function(){u((function(){}))}));r(r.S+r.F*(h||l),"Reflect",{construct:function(t,e){i(t),o(e);var A=arguments.length<3?t:i(arguments[2]);if(l&&!h)return u(t,e,A);if(t==A){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(c.apply(t,r))}var a=A.prototype,f=n(s(a)?a:Object.prototype),d=Function.apply.call(t,f,e);return s(d)?d:f}})},function(t,e,A){"use strict";var r=A(66),n=A(42),i=A(187),o=[].slice,s={},a=function(t,e,A){if(!(e in s)){for(var r=[],n=0;n<e;n++)r[n]="a["+n+"]";s[e]=Function("F,a","return new F("+r.join(",")+")")}return s[e](t,A)};t.exports=Function.bind||function(t){var e=r(this),A=o.call(arguments,1),s=function(){var r=A.concat(o.call(arguments));return this instanceof s?a(e,r.length,r):i(e,r,t)};return n(e.prototype)&&(s.prototype=e.prototype),s}},function(t,e,A){A(260),t.exports=A(17).Object.setPrototypeOf},function(t,e,A){var r=A(24);r(r.S,"Object",{setPrototypeOf:A(261).set})},function(t,e,A){var r=A(42),n=A(50),i=function(t,e){if(n(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=A(54)(Function.call,A(102).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,A){return i(t,A),e?t.__proto__=A:r(t,A),t}}({},!1):void 0),check:i}},function(t,e,A){A(263),t.exports=A(17).Array.isArray},function(t,e,A){var r=A(24);r(r.S,"Array",{isArray:A(134)})},function(t,e,A){A(104),A(265),t.exports=A(17).Array.from},function(t,e,A){"use strict";var r=A(54),n=A(24),i=A(73),o=A(191),s=A(192),a=A(100),c=A(193),u=A(194);n(n.S+n.F*!A(195)((function(t){Array.from(t)})),"Array",{from:function(t){var e,A,n,h,l=i(t),f="function"==typeof this?this:Array,d=arguments.length,p=d>1?arguments[1]:void 0,g=void 0!==p,v=0,y=u(l);if(g&&(p=r(p,d>2?arguments[2]:void 0,2)),null==y||f==Array&&s(y))for(A=new f(e=a(l.length));e>v;v++)c(A,v,g?p(l[v],v):l[v]);else for(h=y.call(l),A=new f;!(n=h.next()).done;v++)c(A,v,g?o(h,p,[n.value,v],!0):n.value);return A.length=v,A}})},function(t,e,A){var r=A(70),n=A(196);t.exports=function(t){if(r(t))return n(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){var r=A(69),n=A(103),i=A(97);t.exports=function(t){if(void 0!==r&&null!=t[n]||null!=t["@@iterator"])return i(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){A(270),t.exports=A(17).Object.keys},function(t,e,A){var r=A(73),n=A(84);A(105)("keys",(function(){return function(t){return n(r(t))}}))},function(t,e,A){t.exports=A(272)},function(t,e,A){A(177),t.exports=A(17).Object.getOwnPropertySymbols},function(t,e,A){A(274);var r=A(17).Object;t.exports=function(t,e){return r.getOwnPropertyDescriptor(t,e)}},function(t,e,A){var r=A(55),n=A(102).f;A(105)("getOwnPropertyDescriptor",(function(){return function(t,e){return n(r(t),e)}}))},function(t,e,A){t.exports=A(276)},function(t,e,A){A(277),t.exports=A(17).Object.getOwnPropertyDescriptors},function(t,e,A){var r=A(24),n=A(278),i=A(55),o=A(102),s=A(193);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,A,r=i(t),a=o.f,c=n(r),u={},h=0;c.length>h;)void 0!==(A=a(r,e=c[h++]))&&s(u,e,A);return u}})},function(t,e,A){var r=A(135),n=A(133),i=A(50),o=A(35).Reflect;t.exports=o&&o.ownKeys||function(t){var e=r.f(i(t)),A=n.f;return A?e.concat(A(t)):e}},function(t,e,A){t.exports=A(280)},function(t,e,A){A(281);var r=A(17).Object;t.exports=function(t,e){return r.defineProperties(t,e)}},function(t,e,A){var r=A(24);r(r.S+r.F*!A(45),"Object",{defineProperties:A(182)})},function(t,e,A){A(283);var r=A(17).Object;t.exports=function(t,e,A){return r.defineProperty(t,e,A)}},function(t,e,A){var r=A(24);r(r.S+r.F*!A(45),"Object",{defineProperty:A(49).f})},function(t,e,A){A(136),A(104),A(138),A(285),A(288),A(289),t.exports=A(17).Promise},function(t,e,A){"use strict";var r,n,i,o,s=A(82),a=A(35),c=A(54),u=A(141),h=A(24),l=A(42),f=A(66),d=A(142),p=A(89),g=A(197),v=A(198).set,y=A(286)(),B=A(143),w=A(199),m=A(287),C=A(200),b=a.TypeError,_=a.process,x=_&&_.versions,E=x&&x.v8||"",F=a.Promise,Q="process"==u(_),U=function(){},S=n=B.f,I=!!function(){try{var t=F.resolve(1),e=(t.constructor={})[A(38)("species")]=function(t){t(U,U)};return(Q||"function"==typeof PromiseRejectionEvent)&&t.then(U)instanceof e&&0!==E.indexOf("6.6")&&-1===m.indexOf("Chrome/66")}catch(t){}}(),T=function(t){var e;return!(!l(t)||"function"!=typeof(e=t.then))&&e},O=function(t,e){if(!t._n){t._n=!0;var A=t._c;y((function(){for(var r=t._v,n=1==t._s,i=0,o=function(e){var A,i,o,s=n?e.ok:e.fail,a=e.resolve,c=e.reject,u=e.domain;try{s?(n||(2==t._h&&H(t),t._h=1),!0===s?A=r:(u&&u.enter(),A=s(r),u&&(u.exit(),o=!0)),A===e.promise?c(b("Promise-chain cycle")):(i=T(A))?i.call(A,a,c):a(A)):c(r)}catch(t){u&&!o&&u.exit(),c(t)}};A.length>i;)o(A[i++]);t._c=[],t._n=!1,e&&!t._h&&k(t)}))}},k=function(t){v.call(a,(function(){var e,A,r,n=t._v,i=D(t);if(i&&(e=w((function(){Q?_.emit("unhandledRejection",n,t):(A=a.onunhandledrejection)?A({promise:t,reason:n}):(r=a.console)&&r.error&&r.error("Unhandled promise rejection",n)})),t._h=Q||D(t)?2:1),t._a=void 0,i&&e.e)throw e.v}))},D=function(t){return 1!==t._h&&0===(t._a||t._c).length},H=function(t){v.call(a,(function(){var e;Q?_.emit("rejectionHandled",t):(e=a.onrejectionhandled)&&e({promise:t,reason:t._v})}))},L=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),O(e,!0))},M=function(t){var e,A=this;if(!A._d){A._d=!0,A=A._w||A;try{if(A===t)throw b("Promise can't be resolved itself");(e=T(t))?y((function(){var r={_w:A,_d:!1};try{e.call(t,c(M,r,1),c(L,r,1))}catch(t){L.call(r,t)}})):(A._v=t,A._s=1,O(A,!1))}catch(t){L.call({_w:A,_d:!1},t)}}};I||(F=function(t){d(this,F,"Promise","_h"),f(t),r.call(this);try{t(c(M,this,1),c(L,this,1))}catch(t){L.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=A(144)(F.prototype,{then:function(t,e){var A=S(g(this,F));return A.ok="function"!=typeof t||t,A.fail="function"==typeof e&&e,A.domain=Q?_.domain:void 0,this._c.push(A),this._a&&this._a.push(A),this._s&&O(this,!1),A.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r;this.promise=t,this.resolve=c(M,t,1),this.reject=c(L,t,1)},B.f=S=function(t){return t===F||t===o?new i(t):n(t)}),h(h.G+h.W+h.F*!I,{Promise:F}),A(83)(F,"Promise"),A(201)("Promise"),o=A(17).Promise,h(h.S+h.F*!I,"Promise",{reject:function(t){var e=S(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(s||!I),"Promise",{resolve:function(t){return C(s&&this===o?F:this,t)}}),h(h.S+h.F*!(I&&A(195)((function(t){F.all(t).catch(U)}))),"Promise",{all:function(t){var e=this,A=S(e),r=A.resolve,n=A.reject,i=w((function(){var A=[],i=0,o=1;p(t,!1,(function(t){var s=i++,a=!1;A.push(void 0),o++,e.resolve(t).then((function(t){a||(a=!0,A[s]=t,--o||r(A))}),n)})),--o||r(A)}));return i.e&&n(i.v),A.promise},race:function(t){var e=this,A=S(e),r=A.reject,n=w((function(){p(t,!1,(function(t){e.resolve(t).then(A.resolve,r)}))}));return n.e&&r(n.v),A.promise}})},function(t,e,A){var r=A(35),n=A(198).set,i=r.MutationObserver||r.WebKitMutationObserver,o=r.process,s=r.Promise,a="process"==A(85)(o);t.exports=function(){var t,e,A,c=function(){var r,n;for(a&&(r=o.domain)&&r.exit();t;){n=t.fn,t=t.next;try{n()}catch(r){throw t?A():e=void 0,r}}e=void 0,r&&r.enter()};if(a)A=function(){o.nextTick(c)};else if(!i||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);A=function(){u.then(c)}}else A=function(){n.call(r,c)};else{var h=!0,l=document.createTextNode("");new i(c).observe(l,{characterData:!0}),A=function(){l.data=h=!h}}return function(r){var n={fn:r,next:void 0};e&&(e.next=n),t||(t=n,A()),e=n}}},function(t,e,A){var r=A(35).navigator;t.exports=r&&r.userAgent||""},function(t,e,A){"use strict";var r=A(24),n=A(17),i=A(35),o=A(197),s=A(200);r(r.P+r.R,"Promise",{finally:function(t){var e=o(this,n.Promise||i.Promise),A="function"==typeof t;return this.then(A?function(A){return s(e,t()).then((function(){return A}))}:t,A?function(A){return s(e,t()).then((function(){throw A}))}:t)}})},function(t,e,A){"use strict";var r=A(24),n=A(143),i=A(199);r(r.S,"Promise",{try:function(t){var e=n.f(this),A=i(t);return(A.e?e.reject:e.resolve)(A.v),e.promise}})},function(t,e,A){var r=function(t){"use strict";var e=Object.prototype,A=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(t,e,A){return Object.defineProperty(t,e,{value:A,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,A){return t[e]=A}}function a(t,e,A,r){var n=e&&e.prototype instanceof h?e:h,i=Object.create(n.prototype),o=new b(r||[]);return i._invoke=function(t,e,A){var r="suspendedStart";return function(n,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw i;return x()}for(A.method=n,A.arg=i;;){var o=A.delegate;if(o){var s=w(o,A);if(s){if(s===u)continue;return s}}if("next"===A.method)A.sent=A._sent=A.arg;else if("throw"===A.method){if("suspendedStart"===r)throw r="completed",A.arg;A.dispatchException(A.arg)}else"return"===A.method&&A.abrupt("return",A.arg);r="executing";var a=c(t,e,A);if("normal"===a.type){if(r=A.done?"completed":"suspendedYield",a.arg===u)continue;return{value:a.arg,done:A.done}}"throw"===a.type&&(r="completed",A.method="throw",A.arg=a.arg)}}}(t,A,o),i}function c(t,e,A){try{return{type:"normal",arg:t.call(e,A)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var u={};function h(){}function l(){}function f(){}var d={};s(d,n,(function(){return this}));var p=Object.getPrototypeOf,g=p&&p(p(_([])));g&&g!==e&&A.call(g,n)&&(d=g);var v=f.prototype=h.prototype=Object.create(d);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function B(t,e){var r;this._invoke=function(n,i){function o(){return new e((function(r,o){!function r(n,i,o,s){var a=c(t[n],t,i);if("throw"!==a.type){var u=a.arg,h=u.value;return h&&"object"==typeof h&&A.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(h).then((function(t){u.value=t,o(u)}),(function(t){return r("throw",t,o,s)}))}s(a.arg)}(n,i,r,o)}))}return r=r?r.then(o,o):o()}}function w(t,e){var A=t.iterator[e.method];if(void 0===A){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(A,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var n=r.arg;return n?n.done?(e[t.resultName]=n.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):n:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function m(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function b(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(m,this),this.reset(!0)}function _(t){if(t){var e=t[n];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(A.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return l.prototype=f,s(v,"constructor",f),s(f,"constructor",l),l.displayName=s(f,o,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===l||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,o,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},y(B.prototype),s(B.prototype,i,(function(){return this})),t.AsyncIterator=B,t.async=function(e,A,r,n,i){void 0===i&&(i=Promise);var o=new B(a(e,A,r,n),i);return t.isGeneratorFunction(A)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},y(v),s(v,o,"Generator"),s(v,n,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var A in t)e.push(A);return e.reverse(),function A(){for(;e.length;){var r=e.pop();if(r in t)return A.value=r,A.done=!1,A}return A.done=!0,A}},t.values=_,b.prototype={constructor:b,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&A.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(A,r){return o.type="throw",o.arg=t,e.next=A,r&&(e.method="next",e.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=A.call(i,"catchLoc"),a=A.call(i,"finallyLoc");if(s&&a){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&A.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var A=this.tryEntries[e];if(A.finallyLoc===t)return this.complete(A.completion,A.afterLoc),C(A),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var A=this.tryEntries[e];if(A.tryLoc===t){var r=A.completion;if("throw"===r.type){var n=r.arg;C(A)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,A){return this.delegate={iterator:_(t),resultName:e,nextLoc:A},"next"===this.method&&(this.arg=void 0),u}},t}(t.exports);try{regeneratorRuntime=r}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(t,e,A){A(136),A(104),A(138),A(292),A(298),A(301),A(303),t.exports=A(17).Map},function(t,e,A){"use strict";var r=A(293),n=A(202);t.exports=A(294)("Map",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=r.getEntry(n(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(n(this,"Map"),0===t?0:t,e)}},r,!0)},function(t,e,A){"use strict";var r=A(49).f,n=A(86),i=A(144),o=A(54),s=A(142),a=A(89),c=A(137),u=A(186),h=A(201),l=A(45),f=A(125).fastKey,d=A(202),p=l?"_s":"size",g=function(t,e){var A,r=f(e);if("F"!==r)return t._i[r];for(A=t._f;A;A=A.n)if(A.k==e)return A};t.exports={getConstructor:function(t,e,A,c){var u=t((function(t,r){s(t,u,e,"_i"),t._t=e,t._i=n(null),t._f=void 0,t._l=void 0,t[p]=0,null!=r&&a(r,A,t[c],t)}));return i(u.prototype,{clear:function(){for(var t=d(this,e),A=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete A[r.i];t._f=t._l=void 0,t[p]=0},delete:function(t){var A=d(this,e),r=g(A,t);if(r){var n=r.n,i=r.p;delete A._i[r.i],r.r=!0,i&&(i.n=n),n&&(n.p=i),A._f==r&&(A._f=n),A._l==r&&(A._l=i),A[p]--}return!!r},forEach:function(t){d(this,e);for(var A,r=o(t,arguments.length>1?arguments[1]:void 0,3);A=A?A.n:this._f;)for(r(A.v,A.k,this);A&&A.r;)A=A.p},has:function(t){return!!g(d(this,e),t)}}),l&&r(u.prototype,"size",{get:function(){return d(this,e)[p]}}),u},def:function(t,e,A){var r,n,i=g(t,e);return i?i.v=A:(t._l=i={i:n=f(e,!0),k:e,v:A,p:r=t._l,n:void 0,r:!1},t._f||(t._f=i),r&&(r.n=i),t[p]++,"F"!==n&&(t._i[n]=i)),t},getEntry:g,setStrong:function(t,e,A){c(t,e,(function(t,A){this._t=d(t,e),this._k=A,this._l=void 0}),(function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?u(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,u(1))}),A?"entries":"values",!A,!0),h(e)}}},function(t,e,A){"use strict";var r=A(35),n=A(24),i=A(125),o=A(65),s=A(60),a=A(144),c=A(89),u=A(142),h=A(42),l=A(83),f=A(49).f,d=A(295)(0),p=A(45);t.exports=function(t,e,A,g,v,y){var B=r[t],w=B,m=v?"set":"add",C=w&&w.prototype,b={};return p&&"function"==typeof w&&(y||C.forEach&&!o((function(){(new w).entries().next()})))?(w=e((function(e,A){u(e,w,t,"_c"),e._c=new B,null!=A&&c(A,v,e[m],e)})),d("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(t){var e="add"==t||"set"==t;!(t in C)||y&&"clear"==t||s(w.prototype,t,(function(A,r){if(u(this,w,t),!e&&y&&!h(A))return"get"==t&&void 0;var n=this._c[t](0===A?0:A,r);return e?this:n}))})),y||f(w.prototype,"size",{get:function(){return this._c.size}})):(w=g.getConstructor(e,t,v,m),a(w.prototype,A),i.NEED=!0),l(w,t),b[t]=w,n(n.G+n.W+n.F,b),y||g.setStrong(w,t,v),w}},function(t,e,A){var r=A(54),n=A(181),i=A(73),o=A(100),s=A(296);t.exports=function(t,e){var A=1==t,a=2==t,c=3==t,u=4==t,h=6==t,l=5==t||h,f=e||s;return function(e,s,d){for(var p,g,v=i(e),y=n(v),B=r(s,d,3),w=o(y.length),m=0,C=A?f(e,w):a?f(e,0):void 0;w>m;m++)if((l||m in y)&&(g=B(p=y[m],m,v),t))if(A)C[m]=g;else if(g)switch(t){case 3:return!0;case 5:return p;case 6:return m;case 2:C.push(p)}else if(u)return!1;return h?-1:c||u?u:C}}},function(t,e,A){var r=A(297);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,A){var r=A(42),n=A(134),i=A(38)("species");t.exports=function(t){var e;return n(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!n(e.prototype)||(e=void 0),r(e)&&null===(e=e[i])&&(e=void 0)),void 0===e?Array:e}},function(t,e,A){var r=A(24);r(r.P+r.R,"Map",{toJSON:A(299)("Map")})},function(t,e,A){var r=A(141),n=A(300);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return n(this)}}},function(t,e,A){var r=A(89);t.exports=function(t,e){var A=[];return r(t,!1,A.push,A,e),A}},function(t,e,A){A(302)("Map")},function(t,e,A){"use strict";var r=A(24);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,A){A(304)("Map")},function(t,e,A){"use strict";var r=A(24),n=A(66),i=A(54),o=A(89);t.exports=function(t){r(r.S,t,{from:function(t){var e,A,r,s,a=arguments[1];return n(this),(e=void 0!==a)&&n(a),null==t?new this:(A=[],e?(r=0,s=i(a,arguments[2],2),o(t,!1,(function(t){A.push(s(t,r++))}))):o(t,!1,A.push,A),new this(A))}})}},function(t,e,A){var r=A(17),n=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return n.stringify.apply(n,arguments)}},function(t,e,A){A(307),t.exports=A(17).Object.values},function(t,e,A){var r=A(24),n=A(308)(!1);r(r.S,"Object",{values:function(t){return n(t)}})},function(t,e,A){var r=A(45),n=A(84),i=A(55),o=A(101).f;t.exports=function(t){return function(e){for(var A,s=i(e),a=n(s),c=a.length,u=0,h=[];c>u;)A=a[u++],r&&!o.call(s,A)||h.push(t?[A,s[A]]:s[A]);return h}}},function(t,e,A){"use strict";var r=A(203),n=A(310),i=A(314),o=A(322),s=A(323);(t.exports=function(t,e){var A,n,a,c,u;return arguments.length<2||"string"!=typeof t?(c=e,e=t,t=null):c=arguments[2],r(t)?(A=s.call(t,"c"),n=s.call(t,"e"),a=s.call(t,"w")):(A=a=!0,n=!1),u={value:e,configurable:A,enumerable:n,writable:a},c?i(o(c),u):u}).gs=function(t,e,A){var a,c,u,h;return"string"!=typeof t?(u=A,A=e,e=t,t=null):u=arguments[3],r(e)?n(e)?r(A)?n(A)||(u=A,A=void 0):A=void 0:(u=e,e=A=void 0):e=void 0,r(t)?(a=s.call(t,"c"),c=s.call(t,"e")):(a=!0,c=!1),h={get:e,set:A,configurable:a,enumerable:c},u?i(o(u),h):h}},function(t,e,A){"use strict";var r=A(311),n=/^\s*class[\s{/}]/,i=Function.prototype.toString;t.exports=function(t){return!!r(t)&&!n.test(i.call(t))}},function(t,e,A){"use strict";var r=A(312);t.exports=function(t){if("function"!=typeof t)return!1;if(!hasOwnProperty.call(t,"length"))return!1;try{if("number"!=typeof t.length)return!1;if("function"!=typeof t.call)return!1;if("function"!=typeof t.apply)return!1}catch(t){return!1}return!r(t)}},function(t,e,A){"use strict";var r=A(313);t.exports=function(t){if(!r(t))return!1;try{return!!t.constructor&&t.constructor.prototype===t}catch(t){return!1}}},function(t,e,A){"use strict";var r=A(203),n={object:!0,function:!0,undefined:!0};t.exports=function(t){return!!r(t)&&hasOwnProperty.call(n,typeof t)}},function(t,e,A){"use strict";t.exports=A(315)()?Object.assign:A(316)},function(t,e,A){"use strict";t.exports=function(){var t,e=Object.assign;return"function"==typeof e&&(e(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},function(t,e,A){"use strict";var r=A(317),n=A(321),i=Math.max;t.exports=function(t,e){var A,o,s,a=i(arguments.length,2);for(t=Object(n(t)),s=function(r){try{t[r]=e[r]}catch(t){A||(A=t)}},o=1;o<a;++o)r(e=arguments[o]).forEach(s);if(void 0!==A)throw A;return t}},function(t,e,A){"use strict";t.exports=A(318)()?Object.keys:A(319)},function(t,e,A){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},function(t,e,A){"use strict";var r=A(145),n=Object.keys;t.exports=function(t){return n(r(t)?Object(t):t)}},function(t,e,A){"use strict";t.exports=function(){}},function(t,e,A){"use strict";var r=A(145);t.exports=function(t){if(!r(t))throw new TypeError("Cannot use null or undefined");return t}},function(t,e,A){"use strict";var r=A(145),n=Array.prototype.forEach,i=Object.create,o=function(t,e){var A;for(A in t)e[A]=t[A]};t.exports=function(t){var e=i(null);return n.call(arguments,(function(t){r(t)&&o(Object(t),e)})),e}},function(t,e,A){"use strict";t.exports=A(324)()?String.prototype.contains:A(325)},function(t,e,A){"use strict";var r="razdwatrzy";t.exports=function(){return"function"==typeof r.contains&&(!0===r.contains("dwa")&&!1===r.contains("foo"))}},function(t,e,A){"use strict";var r=String.prototype.indexOf;t.exports=function(t){return r.call(this,t,arguments[1])>-1}},function(t,e,A){"use strict";t.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}},function(t,e,A){A(328),t.exports=A(15).Object.keys},function(t,e,A){var r=A(67),n=A(90);A(109)("keys",(function(){return function(t){return n(r(t))}}))},function(t,e,A){var r=A(61),n=A(107),i=A(330);t.exports=function(t){return function(e,A,o){var s,a=r(e),c=n(a.length),u=i(o,c);if(t&&A!=A){for(;c>u;)if((s=a[u++])!=s)return!0}else for(;c>u;u++)if((t||u in a)&&a[u]===A)return t||u||0;return!t&&-1}}},function(t,e,A){var r=A(147),n=Math.max,i=Math.min;t.exports=function(t,e){return(t=r(t))<0?n(t+e,0):i(t,e)}},function(t,e,A){t.exports=A(332)},function(t,e,A){A(206),t.exports=A(15).Object.getOwnPropertySymbols},function(t,e,A){var r=A(90),n=A(110),i=A(111);t.exports=function(t){var e=r(t),A=n.f;if(A)for(var o,s=A(t),a=i.f,c=0;s.length>c;)a.call(t,o=s[c++])&&e.push(o);return e}},function(t,e,A){A(335);var r=A(15).Object;t.exports=function(t,e){return r.getOwnPropertyDescriptor(t,e)}},function(t,e,A){var r=A(61),n=A(75).f;A(109)("getOwnPropertyDescriptor",(function(){return function(t,e){return n(r(t),e)}}))},function(t,e,A){t.exports=A(337)},function(t,e,A){A(338),t.exports=A(15).Object.getOwnPropertyDescriptors},function(t,e,A){var r=A(18),n=A(339),i=A(61),o=A(75),s=A(211);r(r.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,A,r=i(t),a=o.f,c=n(r),u={},h=0;c.length>h;)void 0!==(A=a(r,e=c[h++]))&&s(u,e,A);return u}})},function(t,e,A){var r=A(157),n=A(110),i=A(43),o=A(29).Reflect;t.exports=o&&o.ownKeys||function(t){var e=r.f(i(t)),A=n.f;return A?e.concat(A(t)):e}},function(t,e,A){t.exports=A(341)},function(t,e,A){A(342);var r=A(15).Object;t.exports=function(t,e){return r.defineProperties(t,e)}},function(t,e,A){var r=A(18);r(r.S+r.F*!A(47),"Object",{defineProperties:A(208)})},function(t,e,A){A(344);var r=A(15).Object;t.exports=function(t,e,A){return r.defineProperty(t,e,A)}},function(t,e,A){var r=A(18);r(r.S+r.F*!A(47),"Object",{defineProperty:A(46).f})},function(t,e,A){A(346),t.exports=A(15).Object.assign},function(t,e,A){var r=A(18);r(r.S+r.F,"Object",{assign:A(347)})},function(t,e,A){"use strict";var r=A(47),n=A(90),i=A(110),o=A(111),s=A(67),a=A(146),c=Object.assign;t.exports=!c||A(58)((function(){var t={},e={},A=Symbol(),r="abcdefghijklmnopqrst";return t[A]=7,r.split("").forEach((function(t){e[t]=t})),7!=c({},t)[A]||Object.keys(c({},e)).join("")!=r}))?function(t,e){for(var A=s(t),c=arguments.length,u=1,h=i.f,l=o.f;c>u;)for(var f,d=a(arguments[u++]),p=h?n(d).concat(h(d)):n(d),g=p.length,v=0;g>v;)f=p[v++],r&&!l.call(d,f)||(A[f]=d[f]);return A}:c},function(t,e,A){var r=A(15),n=r.JSON||(r.JSON={stringify:JSON.stringify});t.exports=function(t){return n.stringify.apply(n,arguments)}},function(t,e,A){"use strict";var r=A(212),n=A(350),i=A(354),o=A(362),s=A(363);(t.exports=function(t,e){var A,n,a,c,u;return arguments.length<2||"string"!=typeof t?(c=e,e=t,t=null):c=arguments[2],r(t)?(A=s.call(t,"c"),n=s.call(t,"e"),a=s.call(t,"w")):(A=a=!0,n=!1),u={value:e,configurable:A,enumerable:n,writable:a},c?i(o(c),u):u}).gs=function(t,e,A){var a,c,u,h;return"string"!=typeof t?(u=A,A=e,e=t,t=null):u=arguments[3],r(e)?n(e)?r(A)?n(A)||(u=A,A=void 0):A=void 0:(u=e,e=A=void 0):e=void 0,r(t)?(a=s.call(t,"c"),c=s.call(t,"e")):(a=!0,c=!1),h={get:e,set:A,configurable:a,enumerable:c},u?i(o(u),h):h}},function(t,e,A){"use strict";var r=A(351),n=/^\s*class[\s{/}]/,i=Function.prototype.toString;t.exports=function(t){return!!r(t)&&!n.test(i.call(t))}},function(t,e,A){"use strict";var r=A(352);t.exports=function(t){if("function"!=typeof t)return!1;if(!hasOwnProperty.call(t,"length"))return!1;try{if("number"!=typeof t.length)return!1;if("function"!=typeof t.call)return!1;if("function"!=typeof t.apply)return!1}catch(t){return!1}return!r(t)}},function(t,e,A){"use strict";var r=A(353);t.exports=function(t){if(!r(t))return!1;try{return!!t.constructor&&t.constructor.prototype===t}catch(t){return!1}}},function(t,e,A){"use strict";var r=A(212),n={object:!0,function:!0,undefined:!0};t.exports=function(t){return!!r(t)&&hasOwnProperty.call(n,typeof t)}},function(t,e,A){"use strict";t.exports=A(355)()?Object.assign:A(356)},function(t,e,A){"use strict";t.exports=function(){var t,e=Object.assign;return"function"==typeof e&&(e(t={foo:"raz"},{bar:"dwa"},{trzy:"trzy"}),t.foo+t.bar+t.trzy==="razdwatrzy")}},function(t,e,A){"use strict";var r=A(357),n=A(361),i=Math.max;t.exports=function(t,e){var A,o,s,a=i(arguments.length,2);for(t=Object(n(t)),s=function(r){try{t[r]=e[r]}catch(t){A||(A=t)}},o=1;o<a;++o)r(e=arguments[o]).forEach(s);if(void 0!==A)throw A;return t}},function(t,e,A){"use strict";t.exports=A(358)()?Object.keys:A(359)},function(t,e,A){"use strict";t.exports=function(){try{return Object.keys("primitive"),!0}catch(t){return!1}}},function(t,e,A){"use strict";var r=A(158),n=Object.keys;t.exports=function(t){return n(r(t)?Object(t):t)}},function(t,e,A){"use strict";t.exports=function(){}},function(t,e,A){"use strict";var r=A(158);t.exports=function(t){if(!r(t))throw new TypeError("Cannot use null or undefined");return t}},function(t,e,A){"use strict";var r=A(158),n=Array.prototype.forEach,i=Object.create,o=function(t,e){var A;for(A in t)e[A]=t[A]};t.exports=function(t){var e=i(null);return n.call(arguments,(function(t){r(t)&&o(Object(t),e)})),e}},function(t,e,A){"use strict";t.exports=A(364)()?String.prototype.contains:A(365)},function(t,e,A){"use strict";var r="razdwatrzy";t.exports=function(){return"function"==typeof r.contains&&(!0===r.contains("dwa")&&!1===r.contains("foo"))}},function(t,e,A){"use strict";var r=String.prototype.indexOf;t.exports=function(t){return r.call(this,t,arguments[1])>-1}},function(t,e,A){"use strict";t.exports=function(t){if("function"!=typeof t)throw new TypeError(t+" is not a function");return t}},function(t,e,A){A(206),A(159),A(368),A(369),t.exports=A(15).Symbol},function(t,e,A){A(155)("asyncIterator")},function(t,e,A){A(155)("observable")},function(t,e,A){A(112),A(162),t.exports=A(154).f("iterator")},function(t,e,A){var r=A(147),n=A(106);t.exports=function(t){return function(e,A){var i,o,s=String(n(e)),a=r(A),c=s.length;return a<0||a>=c?t?"":void 0:(i=s.charCodeAt(a))<55296||i>56319||a+1===c||(o=s.charCodeAt(a+1))<56320||o>57343?t?s.charAt(a):i:t?s.slice(a,a+2):o-56320+(i-55296<<10)+65536}}},function(t,e,A){"use strict";var r=A(94),n=A(74),i=A(93),o={};A(62)(o,A(39)("iterator"),(function(){return this})),t.exports=function(t,e,A){t.prototype=r(o,{next:n(1,A)}),i(t,e+" Iterator")}},function(t,e,A){"use strict";var r=A(374),n=A(213),i=A(95),o=A(61);t.exports=A(161)(Array,"Array",(function(t,e){this._t=o(t),this._i=0,this._k=e}),(function(){var t=this._t,e=this._k,A=this._i++;return!t||A>=t.length?(this._t=void 0,n(1)):n(0,"keys"==e?A:"values"==e?t[A]:[A,t[A]])}),"values"),i.Arguments=i.Array,r("keys"),r("values"),r("entries")},function(t,e){t.exports=function(){}},function(t,e,A){A(376),t.exports=A(15).Array.isArray},function(t,e,A){var r=A(18);r(r.S,"Array",{isArray:A(156)})},function(t,e,A){A(112),A(378),t.exports=A(15).Array.from},function(t,e,A){"use strict";var r=A(57),n=A(18),i=A(67),o=A(215),s=A(216),a=A(107),c=A(211),u=A(217);n(n.S+n.F*!A(218)((function(t){Array.from(t)})),"Array",{from:function(t){var e,A,n,h,l=i(t),f="function"==typeof this?this:Array,d=arguments.length,p=d>1?arguments[1]:void 0,g=void 0!==p,v=0,y=u(l);if(g&&(p=r(p,d>2?arguments[2]:void 0,2)),null==y||f==Array&&s(y))for(A=new f(e=a(l.length));e>v;v++)c(A,v,g?p(l[v],v):l[v]);else for(h=y.call(l),A=new f;!(n=h.next()).done;v++)c(A,v,g?o(h,p,[n.value,v],!0):n.value);return A.length=v,A}})},function(t,e,A){A(380),t.exports=A(15).Reflect.construct},function(t,e,A){var r=A(18),n=A(94),i=A(68),o=A(43),s=A(36),a=A(58),c=A(381),u=(A(29).Reflect||{}).construct,h=a((function(){function t(){}return!(u((function(){}),[],t)instanceof t)})),l=!a((function(){u((function(){}))}));r(r.S+r.F*(h||l),"Reflect",{construct:function(t,e){i(t),o(e);var A=arguments.length<3?t:i(arguments[2]);if(l&&!h)return u(t,e,A);if(t==A){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var r=[null];return r.push.apply(r,e),new(c.apply(t,r))}var a=A.prototype,f=n(s(a)?a:Object.prototype),d=Function.apply.call(t,f,e);return s(d)?d:f}})},function(t,e,A){"use strict";var r=A(68),n=A(36),i=A(220),o=[].slice,s={},a=function(t,e,A){if(!(e in s)){for(var r=[],n=0;n<e;n++)r[n]="a["+n+"]";s[e]=Function("F,a","return new F("+r.join(",")+")")}return s[e](t,A)};t.exports=Function.bind||function(t){var e=r(this),A=o.call(arguments,1),s=function(){var r=A.concat(o.call(arguments));return this instanceof s?a(e,r.length,r):i(e,r,t)};return n(e.prototype)&&(s.prototype=e.prototype),s}},function(t,e,A){A(383),t.exports=A(15).Object.setPrototypeOf},function(t,e,A){var r=A(18);r(r.S,"Object",{setPrototypeOf:A(384).set})},function(t,e,A){var r=A(36),n=A(43),i=function(t,e){if(n(t),!r(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,r){try{(r=A(57)(Function.call,A(75).f(Object.prototype,"__proto__").set,2))(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,A){return i(t,A),e?t.__proto__=A:r(t,A),t}}({},!1):void 0),check:i}},function(t,e,A){A(386),t.exports=A(15).parseInt},function(t,e,A){var r=A(18),n=A(387);r(r.G+r.F*(parseInt!=n),{parseInt:n})},function(t,e,A){var r=A(29).parseInt,n=A(224).trim,i=A(165),o=/^[-+]?0[xX]/;t.exports=8!==r(i+"08")||22!==r(i+"0x16")?function(t,e){var A=n(String(t),3);return r(A,e>>>0||(o.test(A)?16:10))}:r},function(t,e,A){A(389);var r=A(15).Object;t.exports=function(t){return r.getOwnPropertyNames(t)}},function(t,e,A){A(109)("getOwnPropertyNames",(function(){return A(210).f}))},function(t,e,A){t.exports=A(391)},function(t,e,A){A(392);var r=A(15).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,A){var r=A(18);r(r.S,"Object",{create:A(94)})},function(t,e,A){t.exports=A(394)},function(t,e,A){A(395),t.exports=A(15).Object.getPrototypeOf},function(t,e,A){var r=A(67),n=A(113);A(109)("getPrototypeOf",(function(){return function(t){return n(r(t))}}))},function(t,e,A){var r=A(51).default,n=A(31);t.exports=function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return n(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){t.exports=A(398)},function(t,e,A){A(399),t.exports=A(15).Reflect.get},function(t,e,A){var r=A(75),n=A(113),i=A(56),o=A(18),s=A(36),a=A(43);o(o.S,"Reflect",{get:function t(e,A){var o,c,u=arguments.length<3?e:arguments[2];return a(e)===u?e[A]:(o=r.f(e,A))?i(o,"value")?o.value:void 0!==o.get?o.get.call(u):void 0:s(c=n(e))?t(c,A,u):void 0}})},function(t,e,A){A(401),t.exports=A(15).Date.now},function(t,e,A){var r=A(18);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,A){A(403),t.exports=A(15).parseFloat},function(t,e,A){var r=A(18),n=A(404);r(r.G+r.F*(parseFloat!=n),{parseFloat:n})},function(t,e,A){var r=A(29).parseFloat,n=A(224).trim;t.exports=1/r(A(165)+"-0")!=-1/0?function(t){var e=n(String(t),3),A=r(e);return 0===A&&"-"==e.charAt(0)?-0:A}:r},function(t,e,A){t.exports=A(406)},function(t,e,A){A(407),t.exports=A(15).Reflect.set},function(t,e,A){var r=A(46),n=A(75),i=A(113),o=A(56),s=A(18),a=A(74),c=A(43),u=A(36);s(s.S,"Reflect",{set:function t(e,A,s){var h,l,f=arguments.length<4?e:arguments[3],d=n.f(c(e),A);if(!d){if(u(l=i(e)))return t(l,A,s,f);d=a(0)}if(o(d,"value")){if(!1===d.writable||!u(f))return!1;if(h=n.f(f,A)){if(h.get||h.set||!1===h.writable)return!1;h.value=s,r.f(f,A,h)}else r.f(f,A,a(0,s));return!0}return void 0!==d.set&&(d.set.call(f,s),!0)}})},function(t,e,A){A(159),A(112),A(162),A(409),A(412),A(413),t.exports=A(15).Promise},function(t,e,A){"use strict";var r,n,i,o,s=A(92),a=A(29),c=A(57),u=A(163),h=A(18),l=A(36),f=A(68),d=A(166),p=A(96),g=A(226),v=A(227).set,y=A(410)(),B=A(167),w=A(228),m=A(411),C=A(229),b=a.TypeError,_=a.process,x=_&&_.versions,E=x&&x.v8||"",F=a.Promise,Q="process"==u(_),U=function(){},S=n=B.f,I=!!function(){try{var t=F.resolve(1),e=(t.constructor={})[A(39)("species")]=function(t){t(U,U)};return(Q||"function"==typeof PromiseRejectionEvent)&&t.then(U)instanceof e&&0!==E.indexOf("6.6")&&-1===m.indexOf("Chrome/66")}catch(t){}}(),T=function(t){var e;return!(!l(t)||"function"!=typeof(e=t.then))&&e},O=function(t,e){if(!t._n){t._n=!0;var A=t._c;y((function(){for(var r=t._v,n=1==t._s,i=0,o=function(e){var A,i,o,s=n?e.ok:e.fail,a=e.resolve,c=e.reject,u=e.domain;try{s?(n||(2==t._h&&H(t),t._h=1),!0===s?A=r:(u&&u.enter(),A=s(r),u&&(u.exit(),o=!0)),A===e.promise?c(b("Promise-chain cycle")):(i=T(A))?i.call(A,a,c):a(A)):c(r)}catch(t){u&&!o&&u.exit(),c(t)}};A.length>i;)o(A[i++]);t._c=[],t._n=!1,e&&!t._h&&k(t)}))}},k=function(t){v.call(a,(function(){var e,A,r,n=t._v,i=D(t);if(i&&(e=w((function(){Q?_.emit("unhandledRejection",n,t):(A=a.onunhandledrejection)?A({promise:t,reason:n}):(r=a.console)&&r.error&&r.error("Unhandled promise rejection",n)})),t._h=Q||D(t)?2:1),t._a=void 0,i&&e.e)throw e.v}))},D=function(t){return 1!==t._h&&0===(t._a||t._c).length},H=function(t){v.call(a,(function(){var e;Q?_.emit("rejectionHandled",t):(e=a.onrejectionhandled)&&e({promise:t,reason:t._v})}))},L=function(t){var e=this;e._d||(e._d=!0,(e=e._w||e)._v=t,e._s=2,e._a||(e._a=e._c.slice()),O(e,!0))},M=function(t){var e,A=this;if(!A._d){A._d=!0,A=A._w||A;try{if(A===t)throw b("Promise can't be resolved itself");(e=T(t))?y((function(){var r={_w:A,_d:!1};try{e.call(t,c(M,r,1),c(L,r,1))}catch(t){L.call(r,t)}})):(A._v=t,A._s=1,O(A,!1))}catch(t){L.call({_w:A,_d:!1},t)}}};I||(F=function(t){d(this,F,"Promise","_h"),f(t),r.call(this);try{t(c(M,this,1),c(L,this,1))}catch(t){L.call(this,t)}},(r=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=A(168)(F.prototype,{then:function(t,e){var A=S(g(this,F));return A.ok="function"!=typeof t||t,A.fail="function"==typeof e&&e,A.domain=Q?_.domain:void 0,this._c.push(A),this._a&&this._a.push(A),this._s&&O(this,!1),A.promise},catch:function(t){return this.then(void 0,t)}}),i=function(){var t=new r;this.promise=t,this.resolve=c(M,t,1),this.reject=c(L,t,1)},B.f=S=function(t){return t===F||t===o?new i(t):n(t)}),h(h.G+h.W+h.F*!I,{Promise:F}),A(93)(F,"Promise"),A(230)("Promise"),o=A(15).Promise,h(h.S+h.F*!I,"Promise",{reject:function(t){var e=S(this);return(0,e.reject)(t),e.promise}}),h(h.S+h.F*(s||!I),"Promise",{resolve:function(t){return C(s&&this===o?F:this,t)}}),h(h.S+h.F*!(I&&A(218)((function(t){F.all(t).catch(U)}))),"Promise",{all:function(t){var e=this,A=S(e),r=A.resolve,n=A.reject,i=w((function(){var A=[],i=0,o=1;p(t,!1,(function(t){var s=i++,a=!1;A.push(void 0),o++,e.resolve(t).then((function(t){a||(a=!0,A[s]=t,--o||r(A))}),n)})),--o||r(A)}));return i.e&&n(i.v),A.promise},race:function(t){var e=this,A=S(e),r=A.reject,n=w((function(){p(t,!1,(function(t){e.resolve(t).then(A.resolve,r)}))}));return n.e&&r(n.v),A.promise}})},function(t,e,A){var r=A(29),n=A(227).set,i=r.MutationObserver||r.WebKitMutationObserver,o=r.process,s=r.Promise,a="process"==A(91)(o);t.exports=function(){var t,e,A,c=function(){var r,n;for(a&&(r=o.domain)&&r.exit();t;){n=t.fn,t=t.next;try{n()}catch(r){throw t?A():e=void 0,r}}e=void 0,r&&r.enter()};if(a)A=function(){o.nextTick(c)};else if(!i||r.navigator&&r.navigator.standalone)if(s&&s.resolve){var u=s.resolve(void 0);A=function(){u.then(c)}}else A=function(){n.call(r,c)};else{var h=!0,l=document.createTextNode("");new i(c).observe(l,{characterData:!0}),A=function(){l.data=h=!h}}return function(r){var n={fn:r,next:void 0};e&&(e.next=n),t||(t=n,A()),e=n}}},function(t,e,A){var r=A(29).navigator;t.exports=r&&r.userAgent||""},function(t,e,A){"use strict";var r=A(18),n=A(15),i=A(29),o=A(226),s=A(229);r(r.P+r.R,"Promise",{finally:function(t){var e=o(this,n.Promise||i.Promise),A="function"==typeof t;return this.then(A?function(A){return s(e,t()).then((function(){return A}))}:t,A?function(A){return s(e,t()).then((function(){throw A}))}:t)}})},function(t,e,A){"use strict";var r=A(18),n=A(167),i=A(228);r(r.S,"Promise",{try:function(t){var e=n.f(this),A=i(t);return(A.e?e.reject:e.resolve)(A.v),e.promise}})},function(t,e,A){var r=A(37),n=A(219);t.exports=function(t){if(r(t))return n(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){var r=A(77),n=A(160),i=A(71);t.exports=function(t){if(void 0!==r&&null!=t[n]||null!=t["@@iterator"])return i(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){var r=function(t){"use strict";var e=Object.prototype,A=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",o=r.toStringTag||"@@toStringTag";function s(t,e,A){return Object.defineProperty(t,e,{value:A,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,A){return t[e]=A}}function a(t,e,A,r){var n=e&&e.prototype instanceof h?e:h,i=Object.create(n.prototype),o=new b(r||[]);return i._invoke=function(t,e,A){var r="suspendedStart";return function(n,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===n)throw i;return x()}for(A.method=n,A.arg=i;;){var o=A.delegate;if(o){var s=w(o,A);if(s){if(s===u)continue;return s}}if("next"===A.method)A.sent=A._sent=A.arg;else if("throw"===A.method){if("suspendedStart"===r)throw r="completed",A.arg;A.dispatchException(A.arg)}else"return"===A.method&&A.abrupt("return",A.arg);r="executing";var a=c(t,e,A);if("normal"===a.type){if(r=A.done?"completed":"suspendedYield",a.arg===u)continue;return{value:a.arg,done:A.done}}"throw"===a.type&&(r="completed",A.method="throw",A.arg=a.arg)}}}(t,A,o),i}function c(t,e,A){try{return{type:"normal",arg:t.call(e,A)}}catch(t){return{type:"throw",arg:t}}}t.wrap=a;var u={};function h(){}function l(){}function f(){}var d={};s(d,n,(function(){return this}));var p=Object.getPrototypeOf,g=p&&p(p(_([])));g&&g!==e&&A.call(g,n)&&(d=g);var v=f.prototype=h.prototype=Object.create(d);function y(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function B(t,e){var r;this._invoke=function(n,i){function o(){return new e((function(r,o){!function r(n,i,o,s){var a=c(t[n],t,i);if("throw"!==a.type){var u=a.arg,h=u.value;return h&&"object"==typeof h&&A.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,o,s)}),(function(t){r("throw",t,o,s)})):e.resolve(h).then((function(t){u.value=t,o(u)}),(function(t){return r("throw",t,o,s)}))}s(a.arg)}(n,i,r,o)}))}return r=r?r.then(o,o):o()}}function w(t,e){var A=t.iterator[e.method];if(void 0===A){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return u;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return u}var r=c(A,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,u;var n=r.arg;return n?n.done?(e[t.resultName]=n.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,u):n:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,u)}function m(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function b(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(m,this),this.reset(!0)}function _(t){if(t){var e=t[n];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(A.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:x}}function x(){return{value:void 0,done:!0}}return l.prototype=f,s(v,"constructor",f),s(f,"constructor",l),l.displayName=s(f,o,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===l||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,f):(t.__proto__=f,s(t,o,"GeneratorFunction")),t.prototype=Object.create(v),t},t.awrap=function(t){return{__await:t}},y(B.prototype),s(B.prototype,i,(function(){return this})),t.AsyncIterator=B,t.async=function(e,A,r,n,i){void 0===i&&(i=Promise);var o=new B(a(e,A,r,n),i);return t.isGeneratorFunction(A)?o:o.next().then((function(t){return t.done?t.value:o.next()}))},y(v),s(v,o,"Generator"),s(v,n,(function(){return this})),s(v,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var A in t)e.push(A);return e.reverse(),function A(){for(;e.length;){var r=e.pop();if(r in t)return A.value=r,A.done=!1,A}return A.done=!0,A}},t.values=_,b.prototype={constructor:b,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&A.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(A,r){return o.type="throw",o.arg=t,e.next=A,r&&(e.method="next",e.arg=void 0),!!r}for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n],o=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var s=A.call(i,"catchLoc"),a=A.call(i,"finallyLoc");if(s&&a){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&A.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var i=n;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,u):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),u},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var A=this.tryEntries[e];if(A.finallyLoc===t)return this.complete(A.completion,A.afterLoc),C(A),u}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var A=this.tryEntries[e];if(A.tryLoc===t){var r=A.completion;if("throw"===r.type){var n=r.arg;C(A)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,A){return this.delegate={iterator:_(t),resultName:e,nextLoc:A},"next"===this.method&&(this.arg=void 0),u}},t}(t.exports);try{regeneratorRuntime=r}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=r:Function("r","regeneratorRuntime = r")(r)}},function(t,e,A){"use strict";(function(t){
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */
var r=A(420),n=A(421),i=A(422);function o(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(t,e){if(o()<e)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e)).__proto__=a.prototype:(null===t&&(t=new a(e)),t.length=e),t}function a(t,e,A){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(t,e,A);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return c(this,t,e,A)}function c(t,e,A,r){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?function(t,e,A,r){if(e.byteLength,A<0||e.byteLength<A)throw new RangeError("'offset' is out of bounds");if(e.byteLength<A+(r||0))throw new RangeError("'length' is out of bounds");e=void 0===A&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,A):new Uint8Array(e,A,r);a.TYPED_ARRAY_SUPPORT?(t=e).__proto__=a.prototype:t=l(t,e);return t}(t,e,A,r):"string"==typeof e?function(t,e,A){"string"==typeof A&&""!==A||(A="utf8");if(!a.isEncoding(A))throw new TypeError('"encoding" must be a valid string encoding');var r=0|d(e,A),n=(t=s(t,r)).write(e,A);n!==r&&(t=t.slice(0,n));return t}(t,e,A):function(t,e){if(a.isBuffer(e)){var A=0|f(e.length);return 0===(t=s(t,A)).length||e.copy(t,0,0,A),t}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||(r=e.length)!=r?s(t,0):l(t,e);if("Buffer"===e.type&&i(e.data))return l(t,e.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function h(t,e){if(u(e),t=s(t,e<0?0:0|f(e)),!a.TYPED_ARRAY_SUPPORT)for(var A=0;A<e;++A)t[A]=0;return t}function l(t,e){var A=e.length<0?0:0|f(e.length);t=s(t,A);for(var r=0;r<A;r+=1)t[r]=255&e[r];return t}function f(t){if(t>=o())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o().toString(16)+" bytes");return 0|t}function d(t,e){if(a.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var A=t.length;if(0===A)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return A;case"utf8":case"utf-8":case void 0:return R(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*A;case"hex":return A>>>1;case"base64":return K(t).length;default:if(r)return R(t).length;e=(""+e).toLowerCase(),r=!0}}function p(t,e,A){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===A||A>this.length)&&(A=this.length),A<=0)return"";if((A>>>=0)<=(e>>>=0))return"";for(t||(t="utf8");;)switch(t){case"hex":return U(this,e,A);case"utf8":case"utf-8":return E(this,e,A);case"ascii":return F(this,e,A);case"latin1":case"binary":return Q(this,e,A);case"base64":return x(this,e,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,A);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function g(t,e,A){var r=t[e];t[e]=t[A],t[A]=r}function v(t,e,A,r,n){if(0===t.length)return-1;if("string"==typeof A?(r=A,A=0):A>2147483647?A=2147483647:A<-2147483648&&(A=-2147483648),A=+A,isNaN(A)&&(A=n?0:t.length-1),A<0&&(A=t.length+A),A>=t.length){if(n)return-1;A=t.length-1}else if(A<0){if(!n)return-1;A=0}if("string"==typeof e&&(e=a.from(e,r)),a.isBuffer(e))return 0===e.length?-1:y(t,e,A,r,n);if("number"==typeof e)return e&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?n?Uint8Array.prototype.indexOf.call(t,e,A):Uint8Array.prototype.lastIndexOf.call(t,e,A):y(t,[e],A,r,n);throw new TypeError("val must be string, number or Buffer")}function y(t,e,A,r,n){var i,o=1,s=t.length,a=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;o=2,s/=2,a/=2,A/=2}function c(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(n){var u=-1;for(i=A;i<s;i++)if(c(t,i)===c(e,-1===u?0:i-u)){if(-1===u&&(u=i),i-u+1===a)return u*o}else-1!==u&&(i-=i-u),u=-1}else for(A+a>s&&(A=s-a),i=A;i>=0;i--){for(var h=!0,l=0;l<a;l++)if(c(t,i+l)!==c(e,l)){h=!1;break}if(h)return i}return-1}function B(t,e,A,r){A=Number(A)||0;var n=t.length-A;r?(r=Number(r))>n&&(r=n):r=n;var i=e.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var o=0;o<r;++o){var s=parseInt(e.substr(2*o,2),16);if(isNaN(s))return o;t[A+o]=s}return o}function w(t,e,A,r){return j(R(e,t.length-A),t,A,r)}function m(t,e,A,r){return j(function(t){for(var e=[],A=0;A<t.length;++A)e.push(255&t.charCodeAt(A));return e}(e),t,A,r)}function C(t,e,A,r){return m(t,e,A,r)}function b(t,e,A,r){return j(K(e),t,A,r)}function _(t,e,A,r){return j(function(t,e){for(var A,r,n,i=[],o=0;o<t.length&&!((e-=2)<0);++o)A=t.charCodeAt(o),r=A>>8,n=A%256,i.push(n),i.push(r);return i}(e,t.length-A),t,A,r)}function x(t,e,A){return 0===e&&A===t.length?r.fromByteArray(t):r.fromByteArray(t.slice(e,A))}function E(t,e,A){A=Math.min(t.length,A);for(var r=[],n=e;n<A;){var i,o,s,a,c=t[n],u=null,h=c>239?4:c>223?3:c>191?2:1;if(n+h<=A)switch(h){case 1:c<128&&(u=c);break;case 2:128==(192&(i=t[n+1]))&&(a=(31&c)<<6|63&i)>127&&(u=a);break;case 3:i=t[n+1],o=t[n+2],128==(192&i)&&128==(192&o)&&(a=(15&c)<<12|(63&i)<<6|63&o)>2047&&(a<55296||a>57343)&&(u=a);break;case 4:i=t[n+1],o=t[n+2],s=t[n+3],128==(192&i)&&128==(192&o)&&128==(192&s)&&(a=(15&c)<<18|(63&i)<<12|(63&o)<<6|63&s)>65535&&a<1114112&&(u=a)}null===u?(u=65533,h=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),n+=h}return function(t){var e=t.length;if(e<=4096)return String.fromCharCode.apply(String,t);var A="",r=0;for(;r<e;)A+=String.fromCharCode.apply(String,t.slice(r,r+=4096));return A}(r)}e.Buffer=a,e.SlowBuffer=function(t){+t!=t&&(t=0);return a.alloc(+t)},e.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=o(),a.poolSize=8192,a._augment=function(t){return t.__proto__=a.prototype,t},a.from=function(t,e,A){return c(null,t,e,A)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(t,e,A){return function(t,e,A,r){return u(e),e<=0?s(t,e):void 0!==A?"string"==typeof r?s(t,e).fill(A,r):s(t,e).fill(A):s(t,e)}(null,t,e,A)},a.allocUnsafe=function(t){return h(null,t)},a.allocUnsafeSlow=function(t){return h(null,t)},a.isBuffer=function(t){return!(null==t||!t._isBuffer)},a.compare=function(t,e){if(!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var A=t.length,r=e.length,n=0,i=Math.min(A,r);n<i;++n)if(t[n]!==e[n]){A=t[n],r=e[n];break}return A<r?-1:r<A?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!i(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var A;if(void 0===e)for(e=0,A=0;A<t.length;++A)e+=t[A].length;var r=a.allocUnsafe(e),n=0;for(A=0;A<t.length;++A){var o=t[A];if(!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,n),n+=o.length}return r},a.byteLength=d,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},a.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?E(this,0,t):p.apply(this,arguments)},a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t="",A=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,A).match(/.{2}/g).join(" "),this.length>A&&(t+=" ... ")),"<Buffer "+t+">"},a.prototype.compare=function(t,e,A,r,n){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===A&&(A=t?t.length:0),void 0===r&&(r=0),void 0===n&&(n=this.length),e<0||A>t.length||r<0||n>this.length)throw new RangeError("out of range index");if(r>=n&&e>=A)return 0;if(r>=n)return-1;if(e>=A)return 1;if(this===t)return 0;for(var i=(n>>>=0)-(r>>>=0),o=(A>>>=0)-(e>>>=0),s=Math.min(i,o),c=this.slice(r,n),u=t.slice(e,A),h=0;h<s;++h)if(c[h]!==u[h]){i=c[h],o=u[h];break}return i<o?-1:o<i?1:0},a.prototype.includes=function(t,e,A){return-1!==this.indexOf(t,e,A)},a.prototype.indexOf=function(t,e,A){return v(this,t,e,A,!0)},a.prototype.lastIndexOf=function(t,e,A){return v(this,t,e,A,!1)},a.prototype.write=function(t,e,A,r){if(void 0===e)r="utf8",A=this.length,e=0;else if(void 0===A&&"string"==typeof e)r=e,A=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(A)?(A|=0,void 0===r&&(r="utf8")):(r=A,A=void 0)}var n=this.length-e;if((void 0===A||A>n)&&(A=n),t.length>0&&(A<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return B(this,t,e,A);case"utf8":case"utf-8":return w(this,t,e,A);case"ascii":return m(this,t,e,A);case"latin1":case"binary":return C(this,t,e,A);case"base64":return b(this,t,e,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _(this,t,e,A);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function F(t,e,A){var r="";A=Math.min(t.length,A);for(var n=e;n<A;++n)r+=String.fromCharCode(127&t[n]);return r}function Q(t,e,A){var r="";A=Math.min(t.length,A);for(var n=e;n<A;++n)r+=String.fromCharCode(t[n]);return r}function U(t,e,A){var r=t.length;(!e||e<0)&&(e=0),(!A||A<0||A>r)&&(A=r);for(var n="",i=e;i<A;++i)n+=P(t[i]);return n}function S(t,e,A){for(var r=t.slice(e,A),n="",i=0;i<r.length;i+=2)n+=String.fromCharCode(r[i]+256*r[i+1]);return n}function I(t,e,A){if(t%1!=0||t<0)throw new RangeError("offset is not uint");if(t+e>A)throw new RangeError("Trying to access beyond buffer length")}function T(t,e,A,r,n,i){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>n||e<i)throw new RangeError('"value" argument is out of bounds');if(A+r>t.length)throw new RangeError("Index out of range")}function O(t,e,A,r){e<0&&(e=65535+e+1);for(var n=0,i=Math.min(t.length-A,2);n<i;++n)t[A+n]=(e&255<<8*(r?n:1-n))>>>8*(r?n:1-n)}function k(t,e,A,r){e<0&&(e=4294967295+e+1);for(var n=0,i=Math.min(t.length-A,4);n<i;++n)t[A+n]=e>>>8*(r?n:3-n)&255}function D(t,e,A,r,n,i){if(A+r>t.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("Index out of range")}function H(t,e,A,r,i){return i||D(t,0,A,4),n.write(t,e,A,r,23,4),A+4}function L(t,e,A,r,i){return i||D(t,0,A,8),n.write(t,e,A,r,52,8),A+8}a.prototype.slice=function(t,e){var A,r=this.length;if((t=~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),(e=void 0===e?r:~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),e<t&&(e=t),a.TYPED_ARRAY_SUPPORT)(A=this.subarray(t,e)).__proto__=a.prototype;else{var n=e-t;A=new a(n,void 0);for(var i=0;i<n;++i)A[i]=this[i+t]}return A},a.prototype.readUIntLE=function(t,e,A){t|=0,e|=0,A||I(t,e,this.length);for(var r=this[t],n=1,i=0;++i<e&&(n*=256);)r+=this[t+i]*n;return r},a.prototype.readUIntBE=function(t,e,A){t|=0,e|=0,A||I(t,e,this.length);for(var r=this[t+--e],n=1;e>0&&(n*=256);)r+=this[t+--e]*n;return r},a.prototype.readUInt8=function(t,e){return e||I(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,e){return e||I(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,e){return e||I(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,e){return e||I(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUInt32BE=function(t,e){return e||I(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,e,A){t|=0,e|=0,A||I(t,e,this.length);for(var r=this[t],n=1,i=0;++i<e&&(n*=256);)r+=this[t+i]*n;return r>=(n*=128)&&(r-=Math.pow(2,8*e)),r},a.prototype.readIntBE=function(t,e,A){t|=0,e|=0,A||I(t,e,this.length);for(var r=e,n=1,i=this[t+--r];r>0&&(n*=256);)i+=this[t+--r]*n;return i>=(n*=128)&&(i-=Math.pow(2,8*e)),i},a.prototype.readInt8=function(t,e){return e||I(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,e){e||I(t,2,this.length);var A=this[t]|this[t+1]<<8;return 32768&A?4294901760|A:A},a.prototype.readInt16BE=function(t,e){e||I(t,2,this.length);var A=this[t+1]|this[t]<<8;return 32768&A?4294901760|A:A},a.prototype.readInt32LE=function(t,e){return e||I(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return e||I(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,e){return e||I(t,4,this.length),n.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return e||I(t,4,this.length),n.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return e||I(t,8,this.length),n.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return e||I(t,8,this.length),n.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,e,A,r){(t=+t,e|=0,A|=0,r)||T(this,t,e,A,Math.pow(2,8*A)-1,0);var n=1,i=0;for(this[e]=255&t;++i<A&&(n*=256);)this[e+i]=t/n&255;return e+A},a.prototype.writeUIntBE=function(t,e,A,r){(t=+t,e|=0,A|=0,r)||T(this,t,e,A,Math.pow(2,8*A)-1,0);var n=A-1,i=1;for(this[e+n]=255&t;--n>=0&&(i*=256);)this[e+n]=t/i&255;return e+A},a.prototype.writeUInt8=function(t,e,A){return t=+t,e|=0,A||T(this,t,e,1,255,0),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},a.prototype.writeUInt16LE=function(t,e,A){return t=+t,e|=0,A||T(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},a.prototype.writeUInt16BE=function(t,e,A){return t=+t,e|=0,A||T(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},a.prototype.writeUInt32LE=function(t,e,A){return t=+t,e|=0,A||T(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):k(this,t,e,!0),e+4},a.prototype.writeUInt32BE=function(t,e,A){return t=+t,e|=0,A||T(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):k(this,t,e,!1),e+4},a.prototype.writeIntLE=function(t,e,A,r){if(t=+t,e|=0,!r){var n=Math.pow(2,8*A-1);T(this,t,e,A,n-1,-n)}var i=0,o=1,s=0;for(this[e]=255&t;++i<A&&(o*=256);)t<0&&0===s&&0!==this[e+i-1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+A},a.prototype.writeIntBE=function(t,e,A,r){if(t=+t,e|=0,!r){var n=Math.pow(2,8*A-1);T(this,t,e,A,n-1,-n)}var i=A-1,o=1,s=0;for(this[e+i]=255&t;--i>=0&&(o*=256);)t<0&&0===s&&0!==this[e+i+1]&&(s=1),this[e+i]=(t/o>>0)-s&255;return e+A},a.prototype.writeInt8=function(t,e,A){return t=+t,e|=0,A||T(this,t,e,1,127,-128),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,A){return t=+t,e|=0,A||T(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):O(this,t,e,!0),e+2},a.prototype.writeInt16BE=function(t,e,A){return t=+t,e|=0,A||T(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):O(this,t,e,!1),e+2},a.prototype.writeInt32LE=function(t,e,A){return t=+t,e|=0,A||T(this,t,e,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):k(this,t,e,!0),e+4},a.prototype.writeInt32BE=function(t,e,A){return t=+t,e|=0,A||T(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):k(this,t,e,!1),e+4},a.prototype.writeFloatLE=function(t,e,A){return H(this,t,e,!0,A)},a.prototype.writeFloatBE=function(t,e,A){return H(this,t,e,!1,A)},a.prototype.writeDoubleLE=function(t,e,A){return L(this,t,e,!0,A)},a.prototype.writeDoubleBE=function(t,e,A){return L(this,t,e,!1,A)},a.prototype.copy=function(t,e,A,r){if(A||(A=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<A&&(r=A),r===A)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(A<0||A>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-A&&(r=t.length-e+A);var n,i=r-A;if(this===t&&A<e&&e<r)for(n=i-1;n>=0;--n)t[n+e]=this[n+A];else if(i<1e3||!a.TYPED_ARRAY_SUPPORT)for(n=0;n<i;++n)t[n+e]=this[n+A];else Uint8Array.prototype.set.call(t,this.subarray(A,A+i),e);return i},a.prototype.fill=function(t,e,A,r){if("string"==typeof t){if("string"==typeof e?(r=e,e=0,A=this.length):"string"==typeof A&&(r=A,A=this.length),1===t.length){var n=t.charCodeAt(0);n<256&&(t=n)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!a.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<A)throw new RangeError("Out of range index");if(A<=e)return this;var i;if(e>>>=0,A=void 0===A?this.length:A>>>0,t||(t=0),"number"==typeof t)for(i=e;i<A;++i)this[i]=t;else{var o=a.isBuffer(t)?t:R(new a(t,r).toString()),s=o.length;for(i=0;i<A-e;++i)this[i+e]=o[i%s]}return this};var M=/[^+\/0-9A-Za-z-_]/g;function P(t){return t<16?"0"+t.toString(16):t.toString(16)}function R(t,e){var A;e=e||1/0;for(var r=t.length,n=null,i=[],o=0;o<r;++o){if((A=t.charCodeAt(o))>55295&&A<57344){if(!n){if(A>56319){(e-=3)>-1&&i.push(239,191,189);continue}if(o+1===r){(e-=3)>-1&&i.push(239,191,189);continue}n=A;continue}if(A<56320){(e-=3)>-1&&i.push(239,191,189),n=A;continue}A=65536+(n-55296<<10|A-56320)}else n&&(e-=3)>-1&&i.push(239,191,189);if(n=null,A<128){if((e-=1)<0)break;i.push(A)}else if(A<2048){if((e-=2)<0)break;i.push(A>>6|192,63&A|128)}else if(A<65536){if((e-=3)<0)break;i.push(A>>12|224,A>>6&63|128,63&A|128)}else{if(!(A<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;i.push(A>>18|240,A>>12&63|128,A>>6&63|128,63&A|128)}}return i}function K(t){return r.toByteArray(function(t){if((t=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}(t).replace(M,"")).length<2)return"";for(;t.length%4!=0;)t+="=";return t}(t))}function j(t,e,A,r){for(var n=0;n<r&&!(n+A>=e.length||n>=t.length);++n)e[n+A]=t[n];return n}}).call(this,A(419))},function(t,e){var A;A=function(){return this}();try{A=A||new Function("return this")()}catch(t){"object"==typeof window&&(A=window)}t.exports=A},function(t,e,A){"use strict";e.byteLength=function(t){var e=c(t),A=e[0],r=e[1];return 3*(A+r)/4-r},e.toByteArray=function(t){var e,A,r=c(t),o=r[0],s=r[1],a=new i(function(t,e,A){return 3*(e+A)/4-A}(0,o,s)),u=0,h=s>0?o-4:o;for(A=0;A<h;A+=4)e=n[t.charCodeAt(A)]<<18|n[t.charCodeAt(A+1)]<<12|n[t.charCodeAt(A+2)]<<6|n[t.charCodeAt(A+3)],a[u++]=e>>16&255,a[u++]=e>>8&255,a[u++]=255&e;2===s&&(e=n[t.charCodeAt(A)]<<2|n[t.charCodeAt(A+1)]>>4,a[u++]=255&e);1===s&&(e=n[t.charCodeAt(A)]<<10|n[t.charCodeAt(A+1)]<<4|n[t.charCodeAt(A+2)]>>2,a[u++]=e>>8&255,a[u++]=255&e);return a},e.fromByteArray=function(t){for(var e,A=t.length,n=A%3,i=[],o=0,s=A-n;o<s;o+=16383)i.push(u(t,o,o+16383>s?s:o+16383));1===n?(e=t[A-1],i.push(r[e>>2]+r[e<<4&63]+"==")):2===n&&(e=(t[A-2]<<8)+t[A-1],i.push(r[e>>10]+r[e>>4&63]+r[e<<2&63]+"="));return i.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,a=o.length;s<a;++s)r[s]=o[s],n[o.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var A=t.indexOf("=");return-1===A&&(A=e),[A,A===e?0:4-A%4]}function u(t,e,A){for(var n,i,o=[],s=e;s<A;s+=3)n=(t[s]<<16&16711680)+(t[s+1]<<8&65280)+(255&t[s+2]),o.push(r[(i=n)>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},function(t,e){
/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.read=function(t,e,A,r,n){var i,o,s=8*n-r-1,a=(1<<s)-1,c=a>>1,u=-7,h=A?n-1:0,l=A?-1:1,f=t[e+h];for(h+=l,i=f&(1<<-u)-1,f>>=-u,u+=s;u>0;i=256*i+t[e+h],h+=l,u-=8);for(o=i&(1<<-u)-1,i>>=-u,u+=r;u>0;o=256*o+t[e+h],h+=l,u-=8);if(0===i)i=1-c;else{if(i===a)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,r),i-=c}return(f?-1:1)*o*Math.pow(2,i-r)},e.write=function(t,e,A,r,n,i){var o,s,a,c=8*i-n-1,u=(1<<c)-1,h=u>>1,l=23===n?Math.pow(2,-24)-Math.pow(2,-77):0,f=r?0:i-1,d=r?1:-1,p=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(a=Math.pow(2,-o))<1&&(o--,a*=2),(e+=o+h>=1?l/a:l*Math.pow(2,1-h))*a>=2&&(o++,a/=2),o+h>=u?(s=0,o=u):o+h>=1?(s=(e*a-1)*Math.pow(2,n),o+=h):(s=e*Math.pow(2,h-1)*Math.pow(2,n),o=0));n>=8;t[A+f]=255&s,f+=d,s/=256,n-=8);for(o=o<<n|s,c+=n;c>0;t[A+f]=255&o,f+=d,o/=256,c-=8);t[A+f-d]|=128*p}},function(t,e){var A={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==A.call(t)}},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e,A){A(159),A(112),A(162),A(428),A(434),A(437),A(439),t.exports=A(15).Map},function(t,e,A){"use strict";var r=A(429),n=A(231);t.exports=A(430)("Map",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var e=r.getEntry(n(this,"Map"),t);return e&&e.v},set:function(t,e){return r.def(n(this,"Map"),0===t?0:t,e)}},r,!0)},function(t,e,A){"use strict";var r=A(46).f,n=A(94),i=A(168),o=A(57),s=A(166),a=A(96),c=A(161),u=A(213),h=A(230),l=A(47),f=A(153).fastKey,d=A(231),p=l?"_s":"size",g=function(t,e){var A,r=f(e);if("F"!==r)return t._i[r];for(A=t._f;A;A=A.n)if(A.k==e)return A};t.exports={getConstructor:function(t,e,A,c){var u=t((function(t,r){s(t,u,e,"_i"),t._t=e,t._i=n(null),t._f=void 0,t._l=void 0,t[p]=0,null!=r&&a(r,A,t[c],t)}));return i(u.prototype,{clear:function(){for(var t=d(this,e),A=t._i,r=t._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete A[r.i];t._f=t._l=void 0,t[p]=0},delete:function(t){var A=d(this,e),r=g(A,t);if(r){var n=r.n,i=r.p;delete A._i[r.i],r.r=!0,i&&(i.n=n),n&&(n.p=i),A._f==r&&(A._f=n),A._l==r&&(A._l=i),A[p]--}return!!r},forEach:function(t){d(this,e);for(var A,r=o(t,arguments.length>1?arguments[1]:void 0,3);A=A?A.n:this._f;)for(r(A.v,A.k,this);A&&A.r;)A=A.p},has:function(t){return!!g(d(this,e),t)}}),l&&r(u.prototype,"size",{get:function(){return d(this,e)[p]}}),u},def:function(t,e,A){var r,n,i=g(t,e);return i?i.v=A:(t._l=i={i:n=f(e,!0),k:e,v:A,p:r=t._l,n:void 0,r:!1},t._f||(t._f=i),r&&(r.n=i),t[p]++,"F"!==n&&(t._i[n]=i)),t},getEntry:g,setStrong:function(t,e,A){c(t,e,(function(t,A){this._t=d(t,e),this._k=A,this._l=void 0}),(function(){for(var t=this._k,e=this._l;e&&e.r;)e=e.p;return this._t&&(this._l=e=e?e.n:this._t._f)?u(0,"keys"==t?e.k:"values"==t?e.v:[e.k,e.v]):(this._t=void 0,u(1))}),A?"entries":"values",!A,!0),h(e)}}},function(t,e,A){"use strict";var r=A(29),n=A(18),i=A(153),o=A(58),s=A(62),a=A(168),c=A(96),u=A(166),h=A(36),l=A(93),f=A(46).f,d=A(431)(0),p=A(47);t.exports=function(t,e,A,g,v,y){var B=r[t],w=B,m=v?"set":"add",C=w&&w.prototype,b={};return p&&"function"==typeof w&&(y||C.forEach&&!o((function(){(new w).entries().next()})))?(w=e((function(e,A){u(e,w,t,"_c"),e._c=new B,null!=A&&c(A,v,e[m],e)})),d("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),(function(t){var e="add"==t||"set"==t;!(t in C)||y&&"clear"==t||s(w.prototype,t,(function(A,r){if(u(this,w,t),!e&&y&&!h(A))return"get"==t&&void 0;var n=this._c[t](0===A?0:A,r);return e?this:n}))})),y||f(w.prototype,"size",{get:function(){return this._c.size}})):(w=g.getConstructor(e,t,v,m),a(w.prototype,A),i.NEED=!0),l(w,t),b[t]=w,n(n.G+n.W+n.F,b),y||g.setStrong(w,t,v),w}},function(t,e,A){var r=A(57),n=A(146),i=A(67),o=A(107),s=A(432);t.exports=function(t,e){var A=1==t,a=2==t,c=3==t,u=4==t,h=6==t,l=5==t||h,f=e||s;return function(e,s,d){for(var p,g,v=i(e),y=n(v),B=r(s,d,3),w=o(y.length),m=0,C=A?f(e,w):a?f(e,0):void 0;w>m;m++)if((l||m in y)&&(g=B(p=y[m],m,v),t))if(A)C[m]=g;else if(g)switch(t){case 3:return!0;case 5:return p;case 6:return m;case 2:C.push(p)}else if(u)return!1;return h?-1:c||u?u:C}}},function(t,e,A){var r=A(433);t.exports=function(t,e){return new(r(t))(e)}},function(t,e,A){var r=A(36),n=A(156),i=A(39)("species");t.exports=function(t){var e;return n(t)&&("function"!=typeof(e=t.constructor)||e!==Array&&!n(e.prototype)||(e=void 0),r(e)&&null===(e=e[i])&&(e=void 0)),void 0===e?Array:e}},function(t,e,A){var r=A(18);r(r.P+r.R,"Map",{toJSON:A(435)("Map")})},function(t,e,A){var r=A(163),n=A(436);t.exports=function(t){return function(){if(r(this)!=t)throw TypeError(t+"#toJSON isn't generic");return n(this)}}},function(t,e,A){var r=A(96);t.exports=function(t,e){var A=[];return r(t,!1,A.push,A,e),A}},function(t,e,A){A(438)("Map")},function(t,e,A){"use strict";var r=A(18);t.exports=function(t){r(r.S,t,{of:function(){for(var t=arguments.length,e=new Array(t);t--;)e[t]=arguments[t];return new this(e)}})}},function(t,e,A){A(440)("Map")},function(t,e,A){"use strict";var r=A(18),n=A(68),i=A(57),o=A(96);t.exports=function(t){r(r.S,t,{from:function(t){var e,A,r,s,a=arguments[1];return n(this),(e=void 0!==a)&&n(a),null==t?new this:(A=[],e?(r=0,s=i(a,arguments[2],2),o(t,!1,(function(t){A.push(s(t,r++))}))):o(t,!1,A.push,A),new this(A))}})}},function(t,e,A){A(442),t.exports=9007199254740991},function(t,e,A){var r=A(18);r(r.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,A){var r=A(70);t.exports=function(t){if(r(t))return t},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){var r=A(69),n=A(103);t.exports=function(t,e){var A=null==t?null:void 0!==r&&t[n]||t["@@iterator"];if(null!=A){var i,o,s=[],a=!0,c=!1;try{for(A=A.call(t);!(a=(i=A.next()).done)&&(s.push(i.value),!e||s.length!==e);a=!0);}catch(t){c=!0,o=t}finally{try{a||null==A.return||A.return()}finally{if(c)throw o}}return s}},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){A(447),t.exports=A(17).Date.now},function(t,e,A){var r=A(24);r(r.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,A){A(449);var r=A(17).Object;t.exports=function(t,e){return r.create(t,e)}},function(t,e,A){var r=A(24);r(r.S,"Object",{create:A(86)})},function(t,e,A){var r=A(189),n=A(451);function i(e){return t.exports=i=r?n:function(t){return t.__proto__||n(t)},t.exports.__esModule=!0,t.exports.default=t.exports,i(e)}t.exports=i,t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){t.exports=A(452)},function(t,e,A){A(453),t.exports=A(17).Object.getPrototypeOf},function(t,e,A){var r=A(73),n=A(185);A(105)("getPrototypeOf",(function(){return function(t){return n(r(t))}}))},function(t,e,A){var r=A(72).default,n=A(119);t.exports=function(t,e){if(e&&("object"===r(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return n(t)},t.exports.__esModule=!0,t.exports.default=t.exports},function(t,e,A){A(456),t.exports=A(17).Number.isNaN},function(t,e,A){var r=A(24);r(r.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,A){"use strict";var r=A(458),n=A(232),i=A(171),o=Object.prototype.hasOwnProperty,s={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},a=Array.isArray,c=String.prototype.split,u=Array.prototype.push,h=function(t,e){u.apply(t,a(e)?e:[e])},l=Date.prototype.toISOString,f=i.default,d={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:n.encode,encodeValuesOnly:!1,format:f,formatter:i.formatters[f],indices:!1,serializeDate:function(t){return l.call(t)},skipNulls:!1,strictNullHandling:!1},p={},g=function t(e,A,i,o,s,u,l,f,g,v,y,B,w,m,C){for(var b,_=e,x=C,E=0,F=!1;void 0!==(x=x.get(p))&&!F;){var Q=x.get(e);if(E+=1,void 0!==Q){if(Q===E)throw new RangeError("Cyclic object value");F=!0}void 0===x.get(p)&&(E=0)}if("function"==typeof l?_=l(A,_):_ instanceof Date?_=v(_):"comma"===i&&a(_)&&(_=n.maybeMap(_,(function(t){return t instanceof Date?v(t):t}))),null===_){if(o)return u&&!w?u(A,d.encoder,m,"key",y):A;_=""}if("string"==typeof(b=_)||"number"==typeof b||"boolean"==typeof b||"symbol"==typeof b||"bigint"==typeof b||n.isBuffer(_)){if(u){var U=w?A:u(A,d.encoder,m,"key",y);if("comma"===i&&w){for(var S=c.call(String(_),","),I="",T=0;T<S.length;++T)I+=(0===T?"":",")+B(u(S[T],d.encoder,m,"value",y));return[B(U)+"="+I]}return[B(U)+"="+B(u(_,d.encoder,m,"value",y))]}return[B(A)+"="+B(String(_))]}var O,k=[];if(void 0===_)return k;if("comma"===i&&a(_))O=[{value:_.length>0?_.join(",")||null:void 0}];else if(a(l))O=l;else{var D=Object.keys(_);O=f?D.sort(f):D}for(var H=0;H<O.length;++H){var L=O[H],M="object"==typeof L&&void 0!==L.value?L.value:_[L];if(!s||null!==M){var P=a(_)?"function"==typeof i?i(A,L):A:A+(g?"."+L:"["+L+"]");C.set(e,E);var R=r();R.set(p,C),h(k,t(M,P,i,o,s,u,l,f,g,v,y,B,w,m,R))}}return k};t.exports=function(t,e){var A,n=t,c=function(t){if(!t)return d;if(null!==t.encoder&&void 0!==t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||d.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var A=i.default;if(void 0!==t.format){if(!o.call(i.formatters,t.format))throw new TypeError("Unknown format option provided.");A=t.format}var r=i.formatters[A],n=d.filter;return("function"==typeof t.filter||a(t.filter))&&(n=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:d.addQueryPrefix,allowDots:void 0===t.allowDots?d.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:d.charsetSentinel,delimiter:void 0===t.delimiter?d.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:d.encode,encoder:"function"==typeof t.encoder?t.encoder:d.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:d.encodeValuesOnly,filter:n,format:A,formatter:r,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:d.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:d.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:d.strictNullHandling}}(e);"function"==typeof c.filter?n=(0,c.filter)("",n):a(c.filter)&&(A=c.filter);var u,l=[];if("object"!=typeof n||null===n)return"";u=e&&e.arrayFormat in s?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices";var f=s[u];A||(A=Object.keys(n)),c.sort&&A.sort(c.sort);for(var p=r(),v=0;v<A.length;++v){var y=A[v];c.skipNulls&&null===n[y]||h(l,g(n[y],y,f,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,p))}var B=l.join(c.delimiter),w=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?w+="utf8=%26%2310003%3B&":w+="utf8=%E2%9C%93&"),B.length>0?w+B:""}},function(t,e,A){"use strict";var r=A(169),n=A(463),i=A(465),o=r("%TypeError%"),s=r("%WeakMap%",!0),a=r("%Map%",!0),c=n("WeakMap.prototype.get",!0),u=n("WeakMap.prototype.set",!0),h=n("WeakMap.prototype.has",!0),l=n("Map.prototype.get",!0),f=n("Map.prototype.set",!0),d=n("Map.prototype.has",!0),p=function(t,e){for(var A,r=t;null!==(A=r.next);r=A)if(A.key===e)return r.next=A.next,A.next=t.next,t.next=A,A};t.exports=function(){var t,e,A,r={assert:function(t){if(!r.has(t))throw new o("Side channel does not contain "+i(t))},get:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(t)return c(t,r)}else if(a){if(e)return l(e,r)}else if(A)return function(t,e){var A=p(t,e);return A&&A.value}(A,r)},has:function(r){if(s&&r&&("object"==typeof r||"function"==typeof r)){if(t)return h(t,r)}else if(a){if(e)return d(e,r)}else if(A)return function(t,e){return!!p(t,e)}(A,r);return!1},set:function(r,n){s&&r&&("object"==typeof r||"function"==typeof r)?(t||(t=new s),u(t,r,n)):a?(e||(e=new a),f(e,r,n)):(A||(A={key:{},next:null}),function(t,e,A){var r=p(t,e);r?r.value=A:t.next={key:e,next:t.next,value:A}}(A,r,n))}};return r}},function(t,e,A){"use strict";var r="undefined"!=typeof Symbol&&Symbol,n=A(460);t.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&n())))}},function(t,e,A){"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),A=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(A))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var n=Object.getOwnPropertyDescriptor(t,e);if(42!==n.value||!0!==n.enumerable)return!1}return!0}},function(t,e,A){"use strict";var r="Function.prototype.bind called on incompatible ",n=Array.prototype.slice,i=Object.prototype.toString;t.exports=function(t){var e=this;if("function"!=typeof e||"[object Function]"!==i.call(e))throw new TypeError(r+e);for(var A,o=n.call(arguments,1),s=function(){if(this instanceof A){var r=e.apply(this,o.concat(n.call(arguments)));return Object(r)===r?r:this}return e.apply(t,o.concat(n.call(arguments)))},a=Math.max(0,e.length-o.length),c=[],u=0;u<a;u++)c.push("$"+u);if(A=Function("binder","return function ("+c.join(",")+"){ return binder.apply(this,arguments); }")(s),e.prototype){var h=function(){};h.prototype=e.prototype,A.prototype=new h,h.prototype=null}return A}},function(t,e,A){"use strict";var r=A(170);t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},function(t,e,A){"use strict";var r=A(169),n=A(464),i=n(r("String.prototype.indexOf"));t.exports=function(t,e){var A=r(t,!!e);return"function"==typeof A&&i(t,".prototype.")>-1?n(A):A}},function(t,e,A){"use strict";var r=A(170),n=A(169),i=n("%Function.prototype.apply%"),o=n("%Function.prototype.call%"),s=n("%Reflect.apply%",!0)||r.call(o,i),a=n("%Object.getOwnPropertyDescriptor%",!0),c=n("%Object.defineProperty%",!0),u=n("%Math.max%");if(c)try{c({},"a",{value:1})}catch(t){c=null}t.exports=function(t){var e=s(r,o,arguments);if(a&&c){var A=a(e,"length");A.configurable&&c(e,"length",{value:1+u(0,t.length-(arguments.length-1))})}return e};var h=function(){return s(r,i,arguments)};c?c(t.exports,"apply",{value:h}):t.exports.apply=h},function(t,e,A){var r="function"==typeof Map&&Map.prototype,n=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=r&&n&&"function"==typeof n.get?n.get:null,o=r&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,a=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&a&&"function"==typeof a.get?a.get:null,u=s&&Set.prototype.forEach,h="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,l="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,f="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,d=Boolean.prototype.valueOf,p=Object.prototype.toString,g=Function.prototype.toString,v=String.prototype.match,y=String.prototype.slice,B=String.prototype.replace,w=String.prototype.toUpperCase,m=String.prototype.toLowerCase,C=RegExp.prototype.test,b=Array.prototype.concat,_=Array.prototype.join,x=Array.prototype.slice,E=Math.floor,F="function"==typeof BigInt?BigInt.prototype.valueOf:null,Q=Object.getOwnPropertySymbols,U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,S="function"==typeof Symbol&&"object"==typeof Symbol.iterator,I="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===S||"symbol")?Symbol.toStringTag:null,T=Object.prototype.propertyIsEnumerable,O=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function k(t,e){if(t===1/0||t===-1/0||t!=t||t&&t>-1e3&&t<1e3||C.call(/e/,e))return e;var A=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var r=t<0?-E(-t):E(t);if(r!==t){var n=String(r),i=y.call(e,n.length+1);return B.call(n,A,"$&_")+"."+B.call(B.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return B.call(e,A,"$&_")}var D=A(466).custom,H=D&&R(D)?D:null;function L(t,e,A){var r="double"===(A.quoteStyle||e)?'"':"'";return r+t+r}function M(t){return B.call(String(t),/"/g,"&quot;")}function P(t){return!("[object Array]"!==N(t)||I&&"object"==typeof t&&I in t)}function R(t){if(S)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!U)return!1;try{return U.call(t),!0}catch(t){}return!1}t.exports=function t(e,A,r,n){var s=A||{};if(j(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(j(s,"maxStringLength")&&("number"==typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=!j(s,"customInspect")||s.customInspect;if("boolean"!=typeof a&&"symbol"!==a)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(j(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(j(s,"numericSeparator")&&"boolean"!=typeof s.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var p=s.numericSeparator;if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return function t(e,A){if(e.length>A.maxStringLength){var r=e.length-A.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return t(y.call(e,0,A.maxStringLength),A)+n}return L(B.call(B.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,G),"single",A)}(e,s);if("number"==typeof e){if(0===e)return 1/0/e>0?"0":"-0";var w=String(e);return p?k(e,w):w}if("bigint"==typeof e){var C=String(e)+"n";return p?k(e,C):C}var E=void 0===s.depth?5:s.depth;if(void 0===r&&(r=0),r>=E&&E>0&&"object"==typeof e)return P(e)?"[Array]":"[Object]";var Q=function(t,e){var A;if("\t"===t.indent)A="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;A=_.call(Array(t.indent+1)," ")}return{base:A,prev:_.call(Array(e+1),A)}}(s,r);if(void 0===n)n=[];else if(V(n,e)>=0)return"[Circular]";function D(e,A,i){if(A&&(n=x.call(n)).push(A),i){var o={depth:s.depth};return j(s,"quoteStyle")&&(o.quoteStyle=s.quoteStyle),t(e,o,r+1,n)}return t(e,s,r+1,n)}if("function"==typeof e){var K=function(t){if(t.name)return t.name;var e=v.call(g.call(t),/^function\s*([\w$]+)/);if(e)return e[1];return null}(e),q=z(e,D);return"[Function"+(K?": "+K:" (anonymous)")+"]"+(q.length>0?" { "+_.call(q,", ")+" }":"")}if(R(e)){var Z=S?B.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):U.call(e);return"object"!=typeof e||S?Z:X(Z)}if(function(t){if(!t||"object"!=typeof t)return!1;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)return!0;return"string"==typeof t.nodeName&&"function"==typeof t.getAttribute}(e)){for(var $="<"+m.call(String(e.nodeName)),tt=e.attributes||[],et=0;et<tt.length;et++)$+=" "+tt[et].name+"="+L(M(tt[et].value),"double",s);return $+=">",e.childNodes&&e.childNodes.length&&($+="..."),$+="</"+m.call(String(e.nodeName))+">"}if(P(e)){if(0===e.length)return"[]";var At=z(e,D);return Q&&!function(t){for(var e=0;e<t.length;e++)if(V(t[e],"\n")>=0)return!1;return!0}(At)?"["+J(At,Q)+"]":"[ "+_.call(At,", ")+" ]"}if(function(t){return!("[object Error]"!==N(t)||I&&"object"==typeof t&&I in t)}(e)){var rt=z(e,D);return"cause"in e&&!T.call(e,"cause")?"{ ["+String(e)+"] "+_.call(b.call("[cause]: "+D(e.cause),rt),", ")+" }":0===rt.length?"["+String(e)+"]":"{ ["+String(e)+"] "+_.call(rt,", ")+" }"}if("object"==typeof e&&a){if(H&&"function"==typeof e[H])return e[H]();if("symbol"!==a&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!i||!t||"object"!=typeof t)return!1;try{i.call(t);try{c.call(t)}catch(t){return!0}return t instanceof Map}catch(t){}return!1}(e)){var nt=[];return o.call(e,(function(t,A){nt.push(D(A,e,!0)+" => "+D(t,e))})),Y("Map",i.call(e),nt,Q)}if(function(t){if(!c||!t||"object"!=typeof t)return!1;try{c.call(t);try{i.call(t)}catch(t){return!0}return t instanceof Set}catch(t){}return!1}(e)){var it=[];return u.call(e,(function(t){it.push(D(t,e))})),Y("Set",c.call(e),it,Q)}if(function(t){if(!h||!t||"object"!=typeof t)return!1;try{h.call(t,h);try{l.call(t,l)}catch(t){return!0}return t instanceof WeakMap}catch(t){}return!1}(e))return W("WeakMap");if(function(t){if(!l||!t||"object"!=typeof t)return!1;try{l.call(t,l);try{h.call(t,h)}catch(t){return!0}return t instanceof WeakSet}catch(t){}return!1}(e))return W("WeakSet");if(function(t){if(!f||!t||"object"!=typeof t)return!1;try{return f.call(t),!0}catch(t){}return!1}(e))return W("WeakRef");if(function(t){return!("[object Number]"!==N(t)||I&&"object"==typeof t&&I in t)}(e))return X(D(Number(e)));if(function(t){if(!t||"object"!=typeof t||!F)return!1;try{return F.call(t),!0}catch(t){}return!1}(e))return X(D(F.call(e)));if(function(t){return!("[object Boolean]"!==N(t)||I&&"object"==typeof t&&I in t)}(e))return X(d.call(e));if(function(t){return!("[object String]"!==N(t)||I&&"object"==typeof t&&I in t)}(e))return X(D(String(e)));if(!function(t){return!("[object Date]"!==N(t)||I&&"object"==typeof t&&I in t)}(e)&&!function(t){return!("[object RegExp]"!==N(t)||I&&"object"==typeof t&&I in t)}(e)){var ot=z(e,D),st=O?O(e)===Object.prototype:e instanceof Object||e.constructor===Object,at=e instanceof Object?"":"null prototype",ct=!st&&I&&Object(e)===e&&I in e?y.call(N(e),8,-1):at?"Object":"",ut=(st||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(ct||at?"["+_.call(b.call([],ct||[],at||[]),": ")+"] ":"");return 0===ot.length?ut+"{}":Q?ut+"{"+J(ot,Q)+"}":ut+"{ "+_.call(ot,", ")+" }"}return String(e)};var K=Object.prototype.hasOwnProperty||function(t){return t in this};function j(t,e){return K.call(t,e)}function N(t){return p.call(t)}function V(t,e){if(t.indexOf)return t.indexOf(e);for(var A=0,r=t.length;A<r;A++)if(t[A]===e)return A;return-1}function G(t){var e=t.charCodeAt(0),A={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return A?"\\"+A:"\\x"+(e<16?"0":"")+w.call(e.toString(16))}function X(t){return"Object("+t+")"}function W(t){return t+" { ? }"}function Y(t,e,A,r){return t+" ("+e+") {"+(r?J(A,r):_.call(A,", "))+"}"}function J(t,e){if(0===t.length)return"";var A="\n"+e.prev+e.base;return A+_.call(t,","+A)+"\n"+e.prev}function z(t,e){var A=P(t),r=[];if(A){r.length=t.length;for(var n=0;n<t.length;n++)r[n]=j(t,n)?e(t[n],t):""}var i,o="function"==typeof Q?Q(t):[];if(S){i={};for(var s=0;s<o.length;s++)i["$"+o[s]]=o[s]}for(var a in t)j(t,a)&&(A&&String(Number(a))===a&&a<t.length||S&&i["$"+a]instanceof Symbol||(C.call(/[^\w$]/,a)?r.push(e(a,t)+": "+e(t[a],t)):r.push(a+": "+e(t[a],t))));if("function"==typeof Q)for(var c=0;c<o.length;c++)T.call(t,o[c])&&r.push("["+e(o[c])+"]: "+e(t[o[c]],t));return r}},function(t,e){},function(t,e,A){"use strict";var r=A(232),n=Object.prototype.hasOwnProperty,i=Array.isArray,o={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},a=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},c=function(t,e,A,r){if(t){var i=A.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/g,s=A.depth>0&&/(\[[^[\]]*])/.exec(i),c=s?i.slice(0,s.index):i,u=[];if(c){if(!A.plainObjects&&n.call(Object.prototype,c)&&!A.allowPrototypes)return;u.push(c)}for(var h=0;A.depth>0&&null!==(s=o.exec(i))&&h<A.depth;){if(h+=1,!A.plainObjects&&n.call(Object.prototype,s[1].slice(1,-1))&&!A.allowPrototypes)return;u.push(s[1])}return s&&u.push("["+i.slice(s.index)+"]"),function(t,e,A,r){for(var n=r?e:a(e,A),i=t.length-1;i>=0;--i){var o,s=t[i];if("[]"===s&&A.parseArrays)o=[].concat(n);else{o=A.plainObjects?Object.create(null):{};var c="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,u=parseInt(c,10);A.parseArrays||""!==c?!isNaN(u)&&s!==c&&String(u)===c&&u>=0&&A.parseArrays&&u<=A.arrayLimit?(o=[])[u]=n:"__proto__"!==c&&(o[c]=n):o={0:n}}n=o}return n}(u,e,A,r)}};t.exports=function(t,e){var A=function(t){if(!t)return o;if(null!==t.decoder&&void 0!==t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=void 0===t.charset?o.charset:t.charset;return{allowDots:void 0===t.allowDots?o.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:o.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:o.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:o.arrayLimit,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:o.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:o.comma,decoder:"function"==typeof t.decoder?t.decoder:o.decoder,delimiter:"string"==typeof t.delimiter||r.isRegExp(t.delimiter)?t.delimiter:o.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:o.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:o.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:o.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:o.strictNullHandling}}(e);if(""===t||null==t)return A.plainObjects?Object.create(null):{};for(var u="string"==typeof t?function(t,e){var A,c={},u=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,h=e.parameterLimit===1/0?void 0:e.parameterLimit,l=u.split(e.delimiter,h),f=-1,d=e.charset;if(e.charsetSentinel)for(A=0;A<l.length;++A)0===l[A].indexOf("utf8=")&&("utf8=%E2%9C%93"===l[A]?d="utf-8":"utf8=%26%2310003%3B"===l[A]&&(d="iso-8859-1"),f=A,A=l.length);for(A=0;A<l.length;++A)if(A!==f){var p,g,v=l[A],y=v.indexOf("]="),B=-1===y?v.indexOf("="):y+1;-1===B?(p=e.decoder(v,o.decoder,d,"key"),g=e.strictNullHandling?null:""):(p=e.decoder(v.slice(0,B),o.decoder,d,"key"),g=r.maybeMap(a(v.slice(B+1),e),(function(t){return e.decoder(t,o.decoder,d,"value")}))),g&&e.interpretNumericEntities&&"iso-8859-1"===d&&(g=s(g)),v.indexOf("[]=")>-1&&(g=i(g)?[g]:g),n.call(c,p)?c[p]=r.combine(c[p],g):c[p]=g}return c}(t,A):t,h=A.plainObjects?Object.create(null):{},l=Object.keys(u),f=0;f<l.length;++f){var d=l[f],p=c(d,u[d],A,"string"==typeof t);h=r.merge(h,p,A)}return!0===A.allowSparse?h:r.compact(h)}},function(t,e,A){A(469);var r=A(17).Object;t.exports=function(t){return r.getOwnPropertyNames(t)}},function(t,e,A){A(105)("getOwnPropertyNames",(function(){return A(184).f}))},function(t,e){(function(e){t.exports=e}).call(this,{})},function(t,e,A){"use strict";A.r(e),A.d(e,"default",(function(){return jt}));var r,n=A(12),i=A.n(n),o=A(116),s=A.n(o),a=A(1),c=A.n(a),u=A(2),h=A.n(u),l=A(8),f=A.n(l),d=A(10),p=A.n(d),g=A(175),v=function(){function t(){c()(this,t),this._cacheable=!0,this.cache={}}return h()(t,[{key:"clear",value:function(){this.cache={}}},{key:"setCache",value:function(t,e){this._cacheable&&(this.cache[t]=e||{})}},{key:"getCache",value:function(t){return this.cache[t]||{}}},{key:"removeCache",value:function(t){delete this.cache[t]}},{key:"cacheable",set:function(t){this._cacheable=t}}]),t}(),y=A(53),B=A.n(y),w=function(){function t(){c()(this,t),this.info={}}return h()(t,[{key:"setKV",value:function(t,e){this.info[t]=e}},{key:"getKV",value:function(t){return this.info[t]}},{key:"deleteKey",value:function(t){this.info.hasOwnProperty(t)&&delete this.info[t]}},{key:"reset",value:function(){this.info={}}},{key:"toString",value:function(){var t=this,e=B()(this.info),A="";return e.forEach((function(e){A+="".concat(e,":").concat(t.info[e]," ")})),A}}]),t}(),m=A(23),C=A.n(m),b=A(0),_=A(3);function x(t,e){for(var A=null,r=t.getObjects(),n=0,i=t.size();n<i;n+=1)if(r[n].uuid&&r[n].uuid===e){A=r[n];break}return A}function E(t,e){t.forEachObject((function(t){t.selectable=e})),t.renderAll()}function F(t,e,A){var r=A.store.getKV("mouseEnable")||!1;t.forEachObject((function(t){p()(t,e),t.selectable=r})),t.renderAll()}fabric.Object.prototype.toObject=(r=fabric.Object.prototype.toObject,function(t){return t=(t||[]).concat(["uuid","gtype","pageId"]),r.apply(this,[t])});var Q=fabric.IText.prototype.initHiddenTextarea;fabric.util.object.extend(fabric.IText.prototype,{initHiddenTextarea:function(){Q.call(this),this.canvas.wrapperEl.appendChild(this.hiddenTextarea)}});var U=A(5),S=A.n(U),I=A(4),T=A.n(I),O=A(6),k=A.n(O),D=A(7),H=A.n(D),L=h()((function t(){c()(this,t),this.stroke="#000000",this.strokeWidth=4,this.fill=""})),M=A(32),P=A.n(M),R=A(63),K=A.n(R),j=function(){function t(e){c()(this,t),K()(this),this.app=e}return h()(t,[{key:"start",value:function(){this.addEvents()}},{key:"stop",value:function(){this.removeEvents()}},{key:"addEvents",value:function(){}},{key:"removeEvents",value:function(){}},{key:"defaultOption",get:function(){}},{key:"option",get:function(){return this._option},set:function(t){this._option=t}},{key:"app",get:function(){return this._app},set:function(t){this._app=t}},{key:"root",get:function(){return this.app.canvas}},{key:"stage",get:function(){return this.app.stage}},{key:"items",get:function(){return this.app.items}},{key:"factory",get:function(){return this.app.graphicFactory}}],[{key:"toAddData",value:function(t){var e={};return e.type=t.type,e.uuid=t.uuid,e.uniqueID=C()(),e.left=P()(t.left.toFixed(1)),e.top=P()(t.top.toFixed(1)),e.stroke=t.stroke,e.strokeWidth=P()(t.strokeWidth),e.width=P()(t.width.toFixed(1)),e.height=P()(t.height.toFixed(1)),e}},{key:"toModifyData",value:function(t){var e={};return e.uuid=t.uuid,e.uniqueID=C()(),e.left=P()(t.left.toFixed(1)),e.top=P()(t.top.toFixed(1)),e.scaleX=P()(t.scaleX.toFixed(3))*(t.flipX?-1:1),e.scaleY=P()(t.scaleY.toFixed(3))*(t.flipY?-1:1),e.angle=P()(t.angle.toFixed(1)),e}}]),t}(),N=function(t){k()(A,t);var e=H()(A);function A(t){return c()(this,A),e.call(this,t)}return h()(A,[{key:"addEvents",value:function(){var t=this;S()(T()(A.prototype),"addEvents",this).call(this),this.root.on(b.CanvasEventType.Add,(function(e){if(_.a.OBJ.info("add",e),e.target){var A=t.factory.createAddData(t.bitmap);t.app.sender.add(A)}}))}},{key:"removeEvents",value:function(){S()(T()(A.prototype),"removeEvents",this).call(this),this.root.off(b.CanvasEventType.Add)}},{key:"option",get:function(){return this._option},set:function(t){t?t.hasOwnProperty("url")?""!==t.url&&this.add(t.url):_.a.OBJ.error("Bitmap URL is null"):this._option=this.defaultOption}},{key:"defaultOption",get:function(){var t=new L;return t.url="",t}},{key:"add",value:function(t){var e=this,A=this.app.items.originOption.basic.imgBaseURL;if(void 0!==A&&""!==A){var r=A+t;fabric.Image.fromURL(r,(function(t){var A=t.width,r=t.height,n=(t.width,t.height,1);if(A>e.app.stage.getStageWidth()-40||r>e.app.stage.getStageHeight()-40){var i=(e.app.stage.getStageWidth()-40)/A,o=(e.app.stage.getStageHeight()-40)/r;n=Math.min(i,o)}t.set({left:20,top:20}).scale(n),e.bitmap=t,e.root.add(t)}))}}}],[{key:"toAddData",value:function(t){var e=j.toAddData(t);if(e.gtype=b.GraphType.BITMAP,t._element){var A=t._element.src;e.url=new URL(A).pathname}return e}}]),A}(j),V=A(22),G=A.n(V),X=A(11),W=function(t){k()(A,t);var e=H()(A);function A(t){return c()(this,A),e.call(this,t)}return h()(A,[{key:"option",get:function(){return this._option},set:function(t){G()(T()(A.prototype),"option",t,this,!0),t||(this._option=this.defaultOption()),p()(this._option,t)}},{key:"defaultOption",get:function(){return new L}},{key:"addEvents",value:function(){var t,e,r,n,i=this;S()(T()(A.prototype),"addEvents",this).call(this),this.root.on(b.CanvasEventType.MouseDown,(function(A){e=!0;var o=i.root.getPointer(A.e);r=o.x,n=o.y,o=i.root.getPointer(A.e),(t=new fabric[b.GraphName.CIRCLE]({left:r,top:n,originX:"left",originY:"top",fill:"transparent",stroke:i._option.stroke,strokeWidth:i._option.strokeWidth,angle:0,rx:1,ry:1})).selectable=!1,_.a.OBJ.info(A,o,t),i.root.add(t)})),this.root.on(b.CanvasEventType.MouseMove,(function(A){if(e){var o=i.root.getPointer(A.e);r>o.x&&t.set({left:Math.abs(o.x)}),n>o.y&&t.set({top:Math.abs(o.y)});var s=Math.abs(r-o.x)/2,a=Math.abs(n-o.y)/2;t.set({rx:s,ry:a}),i.root.renderAll()}})),this.root.on(b.CanvasEventType.MouseUp,(function(A){e=!1,t.setCoords();var r=i.factory.createAddData(t);i.app.sender.add(r);var n=i.root.toDatalessJSON();X.a.getInstance().save(n)}))}},{key:"removeEvents",value:function(){S()(T()(A.prototype),"removeEvents",this).call(this),this.root.off(b.CanvasEventType.MouseDown),this.root.off(b.CanvasEventType.MouseMove),this.root.off(b.CanvasEventType.MouseUp)}}],[{key:"toAddData",value:function(t){var e=j.toAddData(t);return e.rx=t.rx.toFixed(1),e.ry=t.ry.toFixed(1),e.gtype=b.GraphType.CIRCLE,e.fill="",e}}]),A}(j),Y=A(31),J=A.n(Y),z=function(t){k()(A,t);var e=H()(A);function A(t){var r;return c()(this,A),(r=e.call(this,t))._shape=null,r._isMouseDown=!1,r._shouldSend=!0,r.ox=0,r.oy=0,r.e={mouseDown:r._mouseDownHandler.bind(J()(r)),mouseMove:r._mouseMoveHandler.bind(J()(r)),mouseUp:r._mouseUpHandler.bind(J()(r))},r}return h()(A,[{key:"option",get:function(){return this._option},set:function(t){G()(T()(A.prototype),"option",t,this,!0),t||(this._option=this.defaultOption),p()(this._option,t)}},{key:"defaultOption",get:function(){return new L}},{key:"addEvents",value:function(){S()(T()(A.prototype),"addEvents",this).call(this),this.root.on(b.CanvasEventType.MouseDown,this.e.mouseDown),this.root.on(b.CanvasEventType.MouseMove,this.e.mouseMove),this.root.on(b.CanvasEventType.MouseUp,this.e.mouseUp)}},{key:"removeEvents",value:function(){S()(T()(A.prototype),"removeEvents",this).call(this),this.root.off(b.CanvasEventType.MouseDown,this.e.mouseDown),this.root.off(b.CanvasEventType.MouseMove,this.e.mouseMove),this.root.off(b.CanvasEventType.MouseUp,this.e.mouseUp)}},{key:"_mouseDownHandler",value:function(t){this._isMouseDown=!0,this.items.removeEvents();var e=this.root.getPointer(t.e);this.ox=e.x,this.oy=e.y;var A="M ".concat(this.ox," ").concat(this.oy," L ").concat(this.ox," ").concat(this.oy);this._shape=new fabric[b.GraphName.SINGLE_ARROW](A,{left:this.ox,top:this.oy,stroke:this._option.stroke,strokeWidth:this._option.strokeWidth,fill:null,objectCaching:!1,selectable:!1}),this.root.add(this._shape)}},{key:"_mouseMoveHandler",value:function(t){}},{key:"_mouseUpHandler",value:function(t){if(this._isMouseDown=!1,this.items.addEvents(),!1!==this._shouldSend){this._shape.setCoords(),this.root.renderAll();var e=this.factory.createAddData(this._shape);this.app.sender.add(e);var A=this.root.toDatalessJSON();X.a.getInstance().save(A)}}}],[{key:"toAddData",value:function(t){var e=j.toAddData(t);return e.fill=null,e}}]),A}(j),q=function(t){k()(A,t);var e=H()(A);function A(t){return c()(this,A),e.call(this,t)}return h()(A,[{key:"_mouseMoveHandler",value:function(t){if(S()(T()(A.prototype),"_mouseMoveHandler",this).call(this,t),this._isMouseDown){this._shape&&this.root.remove(this._shape);var e=this.root.getPointer(t.e),r=e.x,n=e.y,i=Math.abs(this.ox-r),o=Math.abs(this.oy-n);Math.sqrt(Math.pow(i,2)+Math.pow(o,2))<10?this._shouldSend=!1:(this._shouldSend=!0,this._shape=new fabric[b.GraphName.SINGLE_ARROW](this.drawArrow(this.ox,this.oy,r,n,45,20),{stroke:this._option.stroke,strokeWidth:this._option.strokeWidth,fill:"",objectCaching:!1,selectable:!1,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:1}),this.root.add(this._shape),this.stage.renderNow())}}},{key:"drawArrow",value:function(t,e,A,r,n,i){i=void 0!==(n=void 0!==n?n:30)?i:10;var o=180*Math.atan2(e-r,t-A)/Math.PI,s=(o+n)*Math.PI/180,a=(o-n)*Math.PI/180,c=this._toFixed(i*Math.cos(s)),u=this._toFixed(i*Math.sin(s)),h=this._toFixed(i*Math.cos(a)),l=this._toFixed(i*Math.sin(a));t=this._toFixed(t),e=this._toFixed(e),A=this._toFixed(A),r=this._toFixed(r);this._toFixed(t-c),this._toFixed(e-u);var f=" M "+t+" "+e;return f+=" L "+A+" "+r,f+=" M "+this._toFixed(A+c)+" "+this._toFixed(r+u),f+=" L "+A+" "+r,f+=" L "+this._toFixed(A+h)+" "+this._toFixed(r+l)}},{key:"_toFixed",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return+t.toFixed(e)}}],[{key:"toAddData",value:function(t){var e=z.toAddData(t);return e.gtype=b.GraphType.SINGLE_ARROW,e.path=t.path,e}}]),A}(z),Z=function(t){k()(A,t);var e=H()(A);function A(t){return c()(this,A),e.call(this,t)}return h()(A,[{key:"drawArrow",value:function(t,e,A,r,n,i){i=void 0!==(n=void 0!==n?n:30)?i:10;var o=180*Math.atan2(e-r,t-A)/Math.PI,s=(o+n)*Math.PI/180,a=(o-n)*Math.PI/180,c=this._toFixed(i*Math.cos(s)),u=this._toFixed(i*Math.sin(s)),h=this._toFixed(i*Math.cos(a)),l=this._toFixed(i*Math.sin(a));t=this._toFixed(t),e=this._toFixed(e),A=this._toFixed(A),r=this._toFixed(r);var f="";return f+=" M "+this._toFixed(t-c)+" "+this._toFixed(e-u),f+=" L "+t+" "+e,f+=" L "+this._toFixed(t-h)+" "+this._toFixed(e-l),f+=" M ".concat(t," ").concat(e),f+=" L ".concat(A," ").concat(r),f+=" L "+A+" "+r,f+=" M "+this._toFixed(A+c)+" "+this._toFixed(r+u),f+=" L "+A+" "+r,f+=" L "+this._toFixed(A+h)+" "+this._toFixed(r+l)}}],[{key:"toAddData",value:function(t){var e=z.toAddData(t);return e.gtype=b.GraphType.DOUBLE_ARROW,e.path=t.path,e}}]),A}(q),$=function(t){k()(A,t);var e=H()(A);function A(t){var r;return c()(this,A),(r=e.call(this,t))._triangle=null,r._isMouseDown=!1,r.ox=0,r.oy=0,r.e={mouseDown:r._mouseDownHandler.bind(J()(r)),mouseMove:r._mouseMoveHandler.bind(J()(r)),mouseUp:r._mouseUpHandler.bind(J()(r))},r}return h()(A,[{key:"option",get:function(){return this._option},set:function(t){G()(T()(A.prototype),"option",t,this,!0),t||(this._option=this.defaultOption),p()(this._option,t)}},{key:"defaultOption",get:function(){return new L}},{key:"addEvents",value:function(){S()(T()(A.prototype),"addEvents",this).call(this),this.root.on(b.CanvasEventType.MouseDown,this.e.mouseDown),this.root.on(b.CanvasEventType.MouseMove,this.e.mouseMove),this.root.on(b.CanvasEventType.MouseUp,this.e.mouseUp)}},{key:"removeEvents",value:function(){S()(T()(A.prototype),"removeEvents",this).call(this),this.root.off(b.CanvasEventType.MouseDown,this.e.mouseDown),this.root.off(b.CanvasEventType.MouseMove,this.e.mouseMove),this.root.off(b.CanvasEventType.MouseUp,this.e.mouseUp)}},{key:"_mouseDownHandler",value:function(t){this._isMouseDown=!0;var e=this.root.getPointer(t.e);this.ox=+e.x.toFixed(1),this.oy=+e.y.toFixed(1)}},{key:"_mouseMoveHandler",value:function(t){}},{key:"_mouseUpHandler",value:function(t){this._isMouseDown=!1}}],[{key:"toAddData",value:function(t){var e=j.toAddData(t);return e.fill="",e}}]),A}(j),tt=function(t){k()(A,t);var e=H()(A);function A(t){return c()(this,A),e.call(this,t)}return h()(A,[{key:"_mouseDownHandler",value:function(t){S()(T()(A.prototype),"_mouseDownHandler",this).call(this,t);var e=this.root.getPointer(t.e);this._triangle=new fabric[b.GraphName.TRIANGLE]({left:this.ox,top:this.oy,width:e.x-this.ox,height:e.y-this.oy,objectCaching:!1,stroke:this._option.stroke,strokeWidth:this._option.strokeWidth,strokeLineJoin:"round",strokeLineCap:"round",fill:null,selectable:!1}),this.root.add(this._triangle),this.stage.renderNow()}},{key:"_mouseMoveHandler",value:function(t){if(S()(T()(A.prototype),"_mouseMoveHandler",this).call(this,t),this._isMouseDown){var e=this.root.getPointer(t.e);this._triangle.set({width:e.x-this.ox,height:e.y-this.oy}),this.stage.renderNow()}}},{key:"_mouseUpHandler",value:function(t){S()(T()(A.prototype),"_mouseUpHandler",this).call(this,t),this._isMouseDown=!1,this._triangle.setCoords(),this.stage.renderNow();var e=this.factory.createAddData(this._triangle);this.app.sender.add(e);var r=this.root.toDatalessJSON();X.a.getInstance().save(r)}}],[{key:"toAddData",value:function(t){var e=$.toAddData(t);return e.gtype=b.GraphType.ISOSCELES_TRIANGLE,e}}]),A}($),et=function(t){k()(A,t);var e=H()(A);function A(t){var r;return c()(this,A),(r=e.call(this,t))._shape=null,r._isMouseDown=!1,r.ox=0,r.oy=0,r.e={mouseDown:r._mouseDownHandler.bind(J()(r)),mouseMove:r._mouseMoveHandler.bind(J()(r)),mouseUp:r._mouseUpHandler.bind(J()(r))},r}return h()(A,[{key:"option",get:function(){return this._option},set:function(t){G()(T()(A.prototype),"option",t,this,!0),t||(this._option=this.defaultOption()),p()(this._option,t)}},{key:"defaultOption",get:function(){return new L}},{key:"addEvents",value:function(){S()(T()(A.prototype),"addEvents",this).call(this),this.root.on(b.CanvasEventType.MouseDown,this.e.mouseDown),this.root.on(b.CanvasEventType.MouseMove,this.e.mouseMove),this.root.on(b.CanvasEventType.MouseUp,this.e.mouseUp)}},{key:"removeEvents",value:function(){S()(T()(A.prototype),"removeEvents",this).call(this),this.root.off(b.CanvasEventType.MouseDown,this.e.mouseDown),this.root.off(b.CanvasEventType.MouseMove,this.e.mouseMove),this.root.off(b.CanvasEventType.MouseUp,this.e.mouseUp)}},{key:"_mouseDownHandler",value:function(t){this._isMouseDown=!0;var e=this.root.getPointer(t.e);this.ox=+e.x.toFixed(1),this.oy=+e.y.toFixed(1),this._shape=new fabric[b.GraphName.LINE]([this.ox,this.oy,this.ox,this.oy],{strokeWidth:this._option.strokeWidth,stroke:this._option.stroke,fill:null,left:this.ox,top:this.oy,selectable:!1}),this.root.add(this._shape),this.stage.renderNow()}},{key:"_mouseMoveHandler",value:function(t){if(this._isMouseDown){var e=this.root.getPointer(t.e);this._shape.set({x2:e.x,y2:e.y}),this.stage.renderNow()}}},{key:"_mouseUpHandler",value:function(t){this._isMouseDown=!1,this._shape.setCoords(),this.stage.renderNow();var e=this.factory.createAddData(this._shape);this.app.sender.add(e);var A=this.root.toDatalessJSON();X.a.getInstance().save(A)}}]),A}(j),At=A(27),rt=A.n(At),nt=function(t){k()(A,t);var e=H()(A);function A(t){var r;return c()(this,A),(r=e.call(this,t)).e=rt()({},b.CanvasEventType.Add,r.app.items._addByHand.bind(r.app)),r}return h()(A,[{key:"option",get:function(){return this._option},set:function(t){G()(T()(A.prototype),"option",t,this,!0),t||(this._option=this.defaultOption),p()(this._option,t);var e=this.root.freeDrawingBrush;e.color=this._option.stroke,e.width=Math.max(this._option.strokeWidth,1),e.shadow=null}},{key:"defaultOption",get:function(){return new L}},{key:"addEvents",value:function(){S()(T()(A.prototype),"addEvents",this).call(this),this.root.isDrawingMode=!0,this.root.on(b.CanvasEventType.Add,this.e[b.CanvasEventType.Add])}},{key:"removeEvents",value:function(){S()(T()(A.prototype),"removeEvents",this).call(this),this.root.isDrawingMode=!1,this.root.off(b.CanvasEventType.Add,this.e[b.CanvasEventType.Add])}},{key:"_add",value:function(t){if(_.a.OBJ.info("add",t),t.target){var e=t.target,A=this.factory.createAddData(e);this.app.sender.add(A);var r=this.app.stage.root.toDatalessJSON();X.a.getInstance().save(r)}}}],[{key:"toAddData",value:function(t){var e=j.toAddData(t);if("path"!==t.type)return e;if(e.gtype=b.GraphType.PEN,t.path.length<=5)return e.path=t.path,e;var A=[],r=[];return t.path.forEach((function(t,e,n){0!==e&&e!==n.length-1&&e%3!=1||(t.every((function(t){return isNaN(P()(t))||(t=fabric.util.toFixed(t,1)),r.push(t),!0})),A.push(r),r=[])})),e.path=A,e}}]),A}(j),it=function(t){k()(A,t);var e=H()(A);function A(t){var r;return c()(this,A),(r=e.call(this,t)).e=rt()({},b.CanvasEventType.Add,r._addHandler.bind(J()(r))),r}return h()(A,[{key:"option",get:function(){return this._option},set:function(t){G()(T()(A.prototype),"option",t,this,!0),t||(this._option=this.defaultOption),p()(this._option,t)}},{key:"defaultOption",get:function(){var t=S()(T()(A.prototype),"defaultOption",this);return t.stroke="#80FF80",t.blurStroke="#80FF00",t}},{key:"addEvents",value:function(){this.root.isDrawingMode=!0;var t=this.root.freeDrawingBrush;t.color=this.option.stroke,t.width=Math.max(this._option.strokeWidth,1),t.shadow=A.createShadow(this.option.blurStroke),this.root.on(b.CanvasEventType.Add,this.e[b.CanvasEventType.Add])}},{key:"_addHandler",value:function(t){var e=this;if(_.a.OBJ.info("add",t),t.target){var A=t.target,r=this.factory.createAddData(A);this.app.sender.add(r),A.animate("opacity",0,{duration:1e3,onChange:this.root.renderAll.bind(this.root),onComplete:function(){e.root.remove(A)}})}}},{key:"removeEvents",value:function(){S()(T()(A.prototype),"removeEvents",this).call(this),this.root.off(b.CanvasEventType.Add,this.e[b.CanvasEventType.Add])}}],[{key:"toAddData",value:function(t){var e=nt.toAddData(t);return e.gtype=b.GraphType.NITE_WHITE_PEN,e.blurStroke="#80FF00",e}},{key:"drawFromData",value:function(t,e){}},{key:"createShadow",value:function(t){return new fabric.Shadow({offsetX:0,offsetY:0,color:t})}}]),A}(nt),ot=function(t){k()(A,t);var e=H()(A);function A(t){return c()(this,A),e.call(this,t)}return h()(A,[{key:"_mouseDownHandler",value:function(t){S()(T()(A.prototype),"_mouseDownHandler",this).call(this,t);this._triangle=new fabric[b.GraphName.RIGHT_TRIANGLE]("M 0 0 L 0 3 L 5 3 z",{left:this.ox,top:this.oy,objectCaching:!1,stroke:this._option.stroke,strokeWidth:this._option.strokeWidth,fill:null,selectable:!1,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:1}),this.root.add(this._triangle)}},{key:"_mouseMoveHandler",value:function(t){if(S()(T()(A.prototype),"_mouseMoveHandler",this).call(this,t),this._isMouseDown){var e=this.root.getPointer(t.e),r=(e.y-this.oy).toFixed(1),n=(e.x-this.ox).toFixed(1),i="M 0 0 L 0 ".concat(r," L ").concat(n," ").concat(r," z"),o=new fabric[b.GraphName.RIGHT_TRIANGLE](i,{selectable:!1});this._triangle.set({path:o.path,width:o.width,height:o.height,pathOffset:o.pathOffset}),o.left<0&&(this._triangle.left=this.ox+o.left),o.top<0&&(this._triangle.top=this.oy+o.top),this.stage.renderNow()}}},{key:"_mouseUpHandler",value:function(t){S()(T()(A.prototype),"_mouseUpHandler",this).call(this,t),this._triangle.setCoords(),this.stage.renderNow();var e=this.factory.createAddData(this._triangle);this.app.sender.add(e);var r=this.root.toDatalessJSON();X.a.getInstance().save(r)}}],[{key:"toAddData",value:function(t){var e=$.toAddData(t);return e.gtype=b.GraphType.RIGHT_TRIANGLE,e.path=t.path,e}}]),A}($),st=function(t){k()(A,t);var e=H()(A);function A(t){return c()(this,A),e.call(this,t)}return h()(A,[{key:"option",get:function(){return this._option},set:function(t){G()(T()(A.prototype),"option",t,this,!0),t||(this._option=this.defaultOption),p()(this._option,t)}},{key:"defaultOption",get:function(){return new L}},{key:"addEvents",value:function(){var t,e,r,n,i=this;S()(T()(A.prototype),"addEvents",this).call(this),this.root.on(b.CanvasEventType.MouseDown,(function(A){e=!0;var o=i.root.getPointer(A.e);r=o.x,n=o.y,o=i.root.getPointer(A.e),(t=new fabric[b.GraphName.SQUARE]({left:r,top:n,originX:"left",originY:"top",width:o.x-r,height:o.y-n,angle:0,fill:i.option.fill,stroke:i.option.stroke,strokeWidth:i.option.strokeWidth})).selectable=!1,_.a.OBJ.info(A,o,t),i.root.add(t)})),this.root.on(b.CanvasEventType.MouseMove,(function(A){if(e){var o=i.root.getPointer(A.e);r>o.x&&t.set({left:Math.abs(o.x)}),n>o.y&&t.set({top:Math.abs(o.y)});var s=Math.abs(r-o.x),a=Math.abs(n-o.y);t.set({width:s,height:a}),i.stage.renderNow()}})),this.root.on(b.CanvasEventType.MouseUp,(function(A){e=!1,_.a.OBJ.info(A,t.toJSON()),t.setCoords();var r=i.factory.createAddData(t);i.app.sender.add(r);var n=i.root.toDatalessJSON();X.a.getInstance().save(n)}))}},{key:"removeEvents",value:function(){S()(T()(A.prototype),"removeEvents",this).call(this),this.root.off(b.CanvasEventType.MouseDown),this.root.off(b.CanvasEventType.MouseMove),this.root.off(b.CanvasEventType.MouseUp)}}],[{key:"toAddData",value:function(t){var e=j.toAddData(t);return e.gtype=b.GraphType.SQUARE,e.fill="",e}}]),A}(j),at=function(t){k()(A,t);var e=H()(A);function A(t){var r,n;return c()(this,A),(n=e.call(this,t)).e=(r={},rt()(r,b.CanvasEventType.MouseUp,n._mouseUp.bind(J()(n))),rt()(r,b.CanvasEventType.TextChanged,n._textChanged.bind(J()(n))),rt()(r,b.CanvasEventType.Add,n._add.bind(J()(n))),r),n}return h()(A,[{key:"option",get:function(){return this._option},set:function(t){var e=t.strokeWidth||t.fontSize||14;t.strokeWidth=0,t.fill=t.stroke,G()(T()(A.prototype),"option",t,this,!0),t||(this._option=this.defaultOption),this._option.fontSize=e}},{key:"defaultOption",get:function(){var t=new L;return t.fill="#000000",t.strokeWidth=0,t.placeholder="请输入文本",t.fontSize=14,t}},{key:"addEvents",value:function(){S()(T()(A.prototype),"addEvents",this).call(this),this.root.on(b.CanvasEventType.MouseUp,this.e[b.CanvasEventType.MouseUp]),this.root.on(b.CanvasEventType.TextChanged,this.e[b.CanvasEventType.TextChanged]),this.root.on(b.CanvasEventType.Add,this.e[b.CanvasEventType.Add])}},{key:"removeEvents",value:function(){this.root.off(b.CanvasEventType.MouseUp,this.e[b.CanvasEventType.MouseUp]),this.root.off(b.CanvasEventType.TextChanged,this.e[b.CanvasEventType.TextChanged]),this.root.off(b.CanvasEventType.Add,this.e[b.CanvasEventType.Add]),this.removeUnmodifiedItem()}},{key:"_mouseUp",value:function(t){var e=t.target;if(e&&6===e.gtype)this.removeUnmodifiedItem(e);else{this.removeUnmodifiedItem();var A=this.root.getPointer(t.e),r={};r.left=A.x,r.top=A.y,p()(this.option,r);var n=new fabric[b.GraphName.TEXT](this.option.placeholder,this.option);n.padding=6,this.root.add(n)}}},{key:"_textChanged",value:function(t){var e=t.target;e&&(""===e.text?(e.text=this.option.placeholder,e.set("opacity",.3),e.selectionStart=0,e.selectionEnd=e.text.length,e.selectionColor="transparent"):(e._updateTextarea(),e.set("opacity",1)),e.setCoords(),this.stage.renderNow())}},{key:"_add",value:function(t){if(t.target){var e=t.target,A=this.factory.createAddData(e);this.app.sender.add(A);var r=this.root.toDatalessJSON();X.a.getInstance().save(r)}}},{key:"removeUnmodifiedItem",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.root&&this.root.forEachObject((function(A){A.hasOwnProperty("gtype")&&6===A.gtype&&A.exitEditing(),!A.hasOwnProperty("gtype")||6!==A.gtype||A.text!==A.placeholder&&A.text!==t.option.placeholder||A===e||t.root.remove(A)}))}}],[{key:"toAddData",value:function(t){var e=j.toAddData(t);return e.text=t.text,e.fill=t.fill,e.fontSize=t.fontSize,e.gtype=b.GraphType.TEXT,e}},{key:"toModifyData",value:function(t){var e=j.toModifyData(t);return e.text=t.text,e.fill=t.fill,e.fontSize=t.fontSize,e}}]),A}(j),ct=function(){function t(e){c()(this,t),this.app=e}return h()(t,[{key:"tools",get:function(){return this.app.tools}},{key:"stage",get:function(){return this.app.stage}},{key:"root",get:function(){return this.app.canvas}},{key:"store",get:function(){return this.app.store}},{key:"createGraphic",value:function(t){var e=this.app.canvas;switch(E(e,!1),t){case b.GraphType.PEN:var A=new nt(this.app);return A.app=this.app,A;case b.GraphType.NITE_WHITE_PEN:var r=new it(this.app);return r.app=this.app,r;case b.GraphType.SQUARE:var n=new st(this.app);return n.app=this.app,n;case b.GraphType.CIRCLE:var i=new W(this.app);return i.app=this.app,i;case b.GraphType.ARROW:break;case b.GraphType.BITMAP:E(e,!0);var o=new N(this.app);return o.app=this.app,o;case b.GraphType.TEXT:var s=new at(this.app);return s.app=this.app,s;case b.GraphType.RIGHT_TRIANGLE:var a=new ot(this.app);return a.app=this.app,a;case b.GraphType.ISOSCELES_TRIANGLE:var c=new tt(this.app);return c.app=this.app,c;case b.GraphType.LINE:var u=new et(this.app);return u.app=this.app,u;case b.GraphType.SINGLE_ARROW:var h=new q(this.app);return h.app=this.app,h;case b.GraphType.DOUBLE_ARROW:var l=new Z(this.app);return l.app=this.app,l;default:return E(e,this.store.getKV("mouseEnable")),null}}},{key:"createAddData",value:function(t){var e,A;if(!t)return e;t.uuid=(A=(new Date).getTime(),"xxxxx".replace(/[xy]/g,(function(t){var e=(A+16*Math.random())%16|0;return A=Math.floor(A/16),("x"===t?e:3&e|8).toString(16)})));var r=this.tools.currentGraphicId;t.gtype=r,t.pageId=this.store.getKV("pageId");var n=this.tools.defaultControlOption;switch(p()(t,n),r){case b.GraphType.PEN:e=nt.toAddData(t);break;case b.GraphType.NITE_WHITE_PEN:e=it.toAddData(t);break;case b.GraphType.SQUARE:e=st.toAddData(t);break;case b.GraphType.CIRCLE:e=W.toAddData(t);break;case b.GraphType.ARROW:break;case b.GraphType.BITMAP:e=N.toAddData(t);break;case b.GraphType.TEXT:e=at.toAddData(t);break;case b.GraphType.RIGHT_TRIANGLE:e=ot.toAddData(t);break;case b.GraphType.ISOSCELES_TRIANGLE:e=tt.toAddData(t);break;case b.GraphType.LINE:e=et.toAddData(t);break;case b.GraphType.SINGLE_ARROW:e=q.toAddData(t);break;case b.GraphType.DOUBLE_ARROW:e=Z.toAddData(t);break;default:return null}return e.cw=this.store.getKV("width")||this.store.getKV("ow"),e.ch=this.store.getKV("height")||this.store.getKV("oh"),e.pageId=this.store.getKV("pageId"),e}},{key:"createModifyData",value:function(t){var e;switch(t.gtype){case b.GraphType.PEN:case b.GraphType.SQUARE:case b.GraphType.CIRCLE:case b.GraphType.BITMAP:case b.GraphType.ISOSCELES_TRIANGLE:case b.GraphType.RIGHT_TRIANGLE:case b.GraphType.SINGLE_ARROW:case b.GraphType.DOUBLE_ARROW:e=j.toModifyData(t);break;case b.GraphType.TEXT:e=at.toModifyData(t);break;case b.GraphType.ARROW:case b.GraphType.NITE_WHITE_PEN:break;default:return null}return e&&(e.pageId=this.store.getKV("pageId")),e}},{key:"createRemoveData",value:function(t){if(!t||!t.uuid)return null;var e={};return e.uuid=t.uuid,e.uniqueID=C()(),e.pageId=this.store.getKV("pageId"),e}},{key:"createByData",value:function(t){var e,A=this,r={strokeLineCap:"round",strokeLineJoin:"round"},n=t.gtype;switch(n){case b.GraphType.PEN:t.width=0===t.width?t.strokeWidth:t.width,t.height=0===t.height?t.strokeWidth:t.height,(e=new fabric[b.GraphName.PEN](t.path,{fill:"",stroke:t.stroke,strokeWidth:t.strokeWidth,strokeLineCap:"round",strokeLineJoin:"round"})).uuid=t.uuid,e.gtype=n;break;case b.GraphType.SQUARE:e=new fabric[b.GraphName.SQUARE](t);break;case b.GraphType.NITE_WHITE_PEN:(e=new fabric[b.GraphName.NITE_WHITE_PEN](t.path,{fill:"",stroke:t.stroke,strokeWidth:t.strokeWidth,strokeLineCap:"round",strokeLineJoin:"round"})).uuid=t.uuid,e.gtype=n,e.shadow=it.createShadow(t.blurStroke),e.animate("opacity",0,{duration:1e3,onChange:this.stage.renderNow.bind(this.stage),onComplete:function(){A.root.remove(e)}});break;case b.GraphType.CIRCLE:e=new fabric[b.GraphName.CIRCLE](t);break;case b.GraphType.DOUBLE_ARROW:e=new fabric[b.GraphName.DOUBLE_ARROW](t.path,p()({},t,r));break;case b.GraphType.SINGLE_ARROW:e=new fabric[b.GraphName.SINGLE_ARROW](t.path,p()({},t,r));break;case b.GraphType.ISOSCELES_TRIANGLE:e=new fabric[b.GraphName.TRIANGLE](p()({},t,r));break;case b.GraphType.RIGHT_TRIANGLE:e=new fabric[b.GraphName.RIGHT_TRIANGLE](t.path,p()({},t,r));break;case b.GraphType.BITMAP:CANVAS_BITMAP.add(t.url);break;case b.GraphType.TEXT:(e=new fabric[b.GraphName.TEXT]("",p()({},t,r))).editable=this.store.getKV("mouseEnable")}return e&&(e.set(t),e.selectable=this.store.getKV("mouseEnable"),p()(e,this.tools.defaultControlOption)),e}},{key:"modifyByData",value:function(t){if(t&&t.uuid){var e=t.uuid,A=x(this.app.canvas,e);A?(A.flipX&&(t.scaleX*=-1),A.flipY&&(t.scaleY*=-1),A.set(t),A.setCoords(),this.stage.renderNow()):_.a.OBJ.warn("can't find object uuid ".concat(e))}else _.a.OBJ.error("modify, data format error ",t)}},{key:"removeByData",value:function(t){if(t&&t.uuid){var e=t.uuid,A=this.app.canvas,r=x(A,e);r?(A.remove(r),this.stage.renderNow()):_.a.OBJ.warn("doesn't find object uuid ".concat(e))}else _.a.OBJ.error("remove, data format error ",t)}}]),t}(),ut=function(){function t(){c()(this,t),this.app=null,this.e={modifyHandler:this._modifyHandler.bind(this),removeHandler:this._removeHandler.bind(this),selectedHandler:this._selectHandler.bind(this),deselectedHandler:this._deselectHandler.bind(this),selectChangeHandler:this._selectChangeHandler.bind(this)}}return h()(t,[{key:"init",value:function(t){this.canvas=t}},{key:"store",get:function(){return this.app.store}},{key:"undo",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=X.a.getInstance().undo();this.canvas.loadFromDatalessJSON(e),this.canvas.renderAll(),t&&this.app.sender.undo()}},{key:"redo",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=X.a.getInstance().redo();this.canvas.loadFromDatalessJSON(e),this.canvas.renderAll(),t&&this.app.sender.redo()}},{key:"addEvents",value:function(){this.canvas.on(b.CanvasEventType.Modified,this.e.modifyHandler),this.canvas.on(b.CanvasEventType.Remove,this.e.removeHandler),this.canvas.on(b.CanvasEventType.Selected,this.e.selectedHandler),this.canvas.on(b.CanvasEventType.Deselected,this.e.deselectedHandler),this.canvas.on(b.CanvasEventType.SelectChanged,this.e.selectChangeHandler)}},{key:"removeEvents",value:function(){this.canvas.off(b.CanvasEventType.Modified,this.e.modifyHandler),this.canvas.off(b.CanvasEventType.Remove,this.e.removeHandler),this.canvas.off(b.CanvasEventType.Selected,this.e.selectedHandler),this.canvas.off(b.CanvasEventType.Deselected,this.e.deselectedHandler),this.canvas.off(b.CanvasEventType.SelectChanged,this.e.selectChangeHandler)}},{key:"add",value:function(t){var e=this,A=this.app.graphicFactory.createByData(t),r=null!==x(this.canvas,t.uuid);if(this.canvas&&this.canvas.forEachObject((function(t){6===t.gtype&&"请输入文本"===t.text&&e.canvas.remove(t)})),A&&!r){if(this.canvas.off(b.CanvasEventType.Add),this.canvas.add(A),2!=A.gtype){var n=this.app.stage.root.toDatalessJSON();X.a.getInstance().save(n)}this.canvas.renderAll()}}},{key:"modify",value:function(t){this.canvas.off(b.CanvasEventType.Modified),this.app.graphicFactory.modifyByData(t);var e=this.app.stage.root.toDatalessJSON();X.a.getInstance().save(e),this.canvas.on(b.CanvasEventType.Modified,this.e.modifyHandler),this.canvas.renderAll()}},{key:"remove",value:function(t){this.canvas.off(b.CanvasEventType.Remove),this.app.graphicFactory.removeByData(t);var e=this.app.stage.root.toDatalessJSON();X.a.getInstance().save(e),this.canvas.on(b.CanvasEventType.Remove,this.e.removeHandler),this.canvas.renderAll()}},{key:"removeAll",value:function(){var t,e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(this.canvas&&this.canvas.getObjects().length>0&&(this.canvas.off(b.CanvasEventType.Remove),(t=this.canvas).remove.apply(t,s()(this.canvas.getObjects())),this.canvas.renderAll(),this.canvas.on(b.CanvasEventType.Remove,this.e.removeHandler),e)){var A=this.store.getKV("pageId");this.app.sender.removeAll({pageId:A})}}},{key:"_modifyHandler",value:function(t){_.a.OBJ.info("modify item, ",t);var e=this.app.graphicFactory.createModifyData(t.target);this.app.sender.modify(e);var A=this.app.stage.root.toDatalessJSON();X.a.getInstance().save(A),this.canvas.renderAll()}},{key:"_removeHandler",value:function(t){_.a.OBJ.info("remove item, ",t);var e=this.app.graphicFactory.createRemoveData(t.target);this.app.sender.remove(e);var A=this.app.stage.root.toDatalessJSON();X.a.getInstance().save(A),this.canvas.renderAll()}},{key:"_selectHandler",value:function(t){_.a.OBJ.info("select Item",t);var e={};e.uuid=t.selected[0].uuid,e.pageId=this.store.getKV("pageId"),this.app.sender.selected(e),this.canvas.renderAll()}},{key:"_deselectHandler",value:function(t){var e={};t.deselected?e.uuid=t.deselected[0].uuid:e.uuid=t.target.uuid,e.pageId=this.store.getKV("pageId"),_.a.OBJ.info("deselect Item",t),this.app.sender.deselected(e),this.canvas.renderAll()}},{key:"_selectChangeHandler",value:function(t){var e={},A={};A.uuid=t.deselected[0].uuid;var r={};r.uuid=t.selected[0].uuid,e.oldItem=A,e.newItem=r,e.pageId=this.store.getKV("pageId"),_.a.OBJ.info("select changed old target: ",t.deselected," new target: ",t.selected),this.app.sender.selectChange(e),this.canvas.renderAll()}},{key:"_addByHand",value:function(t){if(_.a.OBJ.info("add",t),t.target){var e=t.target,A=this.graphicFactory.createAddData(e);this.sender.add(A);var r=this.stage.root.toDatalessJSON();X.a.getInstance().save(r),this.canvas.renderAll()}}}]),t}(),ht=function(){function t(e){c()(this,t),this.root=e}return h()(t,[{key:"renderNow",value:function(){this.root.renderAll()}},{key:"setSize",value:function(t,e){this.root.setDimensions({width:t,height:e}),this.renderNow()}},{key:"getStageWidth",value:function(){return this.root.getWidth()}},{key:"getStageHeight",value:function(){return this.root.getHeight()}},{key:"deselectAll",value:function(){this.root.discardActiveObject(),this.root.renderAll()}}]),t}(),lt=A(117),ft=A.n(lt),dt=function(){function t(){c()(this,t),this.type=b.CommandType.Normal,this.app=null,this.executing=!1}return h()(t,[{key:"execute",value:function(){this.executing=!0}},{key:"complete",value:function(){this.executing=!1}},{key:"stage",get:function(){return this.app.stage}},{key:"root",get:function(){return this.stage.root}}]),t}(),pt=function(t){k()(A,t);var e=H()(A);function A(){var t;return c()(this,A),(t=e.call(this)).type=b.CommandType.Eraser,t}return h()(A,[{key:"execute",value:function(){var t=this;S()(T()(A.prototype),"execute",this).call(this),this.stage.deselectAll(),this.stage.renderNow(),this.root.on(b.CanvasEventType.Remove),this.root.on(b.CanvasEventType.Selected,(function(e){if(t.executing){var A=e.target;t.root.remove(A)}}))}},{key:"complete",value:function(){S()(T()(A.prototype),"complete",this).call(this)}}]),A}(dt),gt=function(t){k()(A,t);var e=H()(A);function A(){var t;return c()(this,A),(t=e.call(this)).type=b.CommandType.Null,t}return h()(A)}(dt),vt=function(t){k()(A,t);var e=H()(A);function A(){var t;return c()(this,A),(t=e.call(this)).type=b.CommandType.Undo,t.executing=!1,t}return h()(A,[{key:"execute",value:function(){S()(T()(A.prototype),"execute",this).call(this),this.app.items.undo()}},{key:"complete",value:function(){S()(T()(A.prototype),"complete",this).call(this)}}]),A}(dt),yt=function(t){k()(A,t);var e=H()(A);function A(){var t;return c()(this,A),(t=e.call(this)).executing=!1,t.type=b.CommandType.Redo,t}return h()(A,[{key:"execute",value:function(){S()(T()(A.prototype),"execute",this).call(this),this.app.items.redo()}}]),A}(dt),Bt=function(){function t(e,A){c()(this,t),this.root=e,this.maxZoom=A.maxZoom||4,this.minZoom=A.minZoom||1}return h()(t,[{key:"root",get:function(){return this._root},set:function(t){this._root=t}},{key:"start",value:function(){this.root.on(b.CanvasEventType.MouseWheel,this._mouseWheelHandler.bind(this)),this.root.on(b.CanvasEventType.MouseDown,this._mouseDownHandler.bind(this)),this.root.on(b.CanvasEventType.MouseMove,this._mouseMoveHandler.bind(this)),this.root.on(b.CanvasEventType.MouseUp,this._mouseUpHandler.bind(this)),E(this.root,!1)}},{key:"stop",value:function(){this.root.off(b.CanvasEventType.MouseWheel,this._mouseWheelHandler),this.root.off(b.CanvasEventType.MouseDown,this._mouseDownHandler),this.root.off(b.CanvasEventType.MouseMove,this._mouseMoveHandler),this.root.off(b.CanvasEventType.MouseUp,this._mouseUpHandler),E(this.root,!0)}},{key:"_mouseWheelHandler",value:function(t){var e=t.e.deltaY/1e3,A=(this.root.getPointer(t.e),this.root.getZoom());A+=e,A=Math.min(Math.max(this.minZoom,A),this.maxZoom),this.root.zoomToPoint({x:t.e.offsetX,y:t.e.offsetY},A),t.e.preventDefault(),t.e.stopPropagation(),_.a.OBJ.info("zooom",A,t.e.deltaY,this.root.getWidth(),this.root.getZoom())}},{key:"_mouseDownHandler",value:function(t){var e=t.e;e.altKey&&(this.dragging=!0,this.lastPosX=e.clientX,this.lastPosY=e.clientY)}},{key:"_mouseMoveHandler",value:function(t){if(this.dragging){var e=t.e,A=this.root.viewportTransform;A[4]+=e.clientX-this.lastPosX,A[5]+=e.clientY-this.lastPosY,A[4]>=0&&(A[4]=0),A[5]>0&&(A[5]=0),_.a.OBJ.info(A[4],A[5]),this.root.requestRenderAll(),this.lastPosX=e.clientX,this.lastPosY=e.clientY}}},{key:"_mouseUpHandler",value:function(t){this.dragging=!1}}]),t}(),wt=function(t){k()(A,t);var e=H()(A);function A(){var t;c()(this,A),(t=e.call(this)).type=b.CommandType.Zoom,t.executing=!1;var r=t.root,n=t.app.tools.zoomOption;return t.delegate=new Bt(r,n),t}return h()(A,[{key:"execute",value:function(){S()(T()(A.prototype),"execute",this).call(this),this.delegate.start()}},{key:"complete",value:function(){S()(T()(A.prototype),"complete",this).call(this),this.delegate.stop()}}]),A}(dt),mt=function(t){k()(A,t);var e=H()(A);function A(){var t;return c()(this,A),(t=e.call(this)).type=b.CommandType.RemoveAll,t.executing=!1,t}return h()(A,[{key:"execute",value:function(){S()(T()(A.prototype),"execute",this).call(this),this.app.items.removeAll()}}]),A}(dt),Ct=function(){function t(){c()(this,t),this.app=null}return h()(t,[{key:"createCommand",value:function(t){var e;switch(t){case b.CommandType.Eraser:e=new pt;break;case b.CommandType.Undo:e=new vt;break;case b.CommandType.Redo:e=new yt;break;case b.CommandType.Zoom:e=new wt;break;case b.CommandType.RemoveAll:e=new mt;break;default:e=new gt}return e.app=this.app,e}}]),t}(),bt=function(){function t(){c()(this,t),this._app=null,this._option=null,this._lastGraphic=null,this._currentGraphicId=-1,this._currentToolId=-1,this._currentTool=null,this._defaultControlOption={hasControls:!0,hasBorders:!0,hasRotatingPoint:!0,transparentCorners:!1,cornerStyle:"circle",padding:8,cornerSize:25,rotatingPointOffset:35,borderColor:"#00FF00",cornerColor:"#0000FF",cornerStrokeColor:"#FFFF00"},this.originOption=null,this.commandFactory=new Ct,this.optionMap=new ft.a}return h()(t,[{key:"app",get:function(){return this._app},set:function(t){this._app=t,this.commandFactory.app=this.app}},{key:"option",get:function(){return this.currentGraphic.option},set:function(t){if(this._option=t,-1!==this._currentGraphicId){var e=this.optionMap.get(this._currentGraphicId);e||this.optionMap.set(this._currentGraphicId,this.currentGraphic.defaultOption),p()(e,t),this.currentGraphic.option=e,this.optionMap.set(this._currentGraphicId,e)}}},{key:"currentGraphic",get:function(){return this._currentGraphic},set:function(t){this._lastGraphic&&this._lastGraphic.stop(),this._lastTool&&this._lastTool.complete();var e=this.app.graphicFactory;if(this._currentGraphic=e.createGraphic(t),this._currentGraphic){this._lastGraphic=this._currentGraphic;var A=this.optionMap.get(t);A||(A=this._currentGraphic.defaultOption,this.optionMap.set(t,A)),this._currentGraphic.option=A,this._currentGraphic.app=this.app,this._currentGraphic.start()}this._currentGraphicId=t}},{key:"currentGraphicId",get:function(){return this._currentGraphicId}},{key:"currentTool",get:function(){return this._currentTool},set:function(t){this._currentToolId=t,this._currentTool=this.commandFactory.createCommand(t),this._lastTool&&this._lastTool.complete(),this._lastGraphic&&this._lastGraphic.stop(),this._currentTool&&(this._lastTool=this._currentTool,this._currentTool.execute())}},{key:"defaultControlOption",get:function(){return this._defaultControlOption},set:function(t){p()(this._defaultControlOption,t)}},{key:"zoomOption",get:function(){return this._zoomOption},set:function(t){this._zoomOption=t}}]),t}(),_t=A(78),xt=function(){function t(){c()(this,t),this.app=null,this.emitter=new _t.EventEmitter,this.e={add:this._addHandler.bind(this),remove:this._removeHandler.bind(this),removeAll:this._removeAllHandler.bind(this),modify:this._modifyHandler.bind(this)},this._initHandler()}return h()(t,[{key:"items",get:function(){return this.app.items}},{key:"_initHandler",value:function(){var t=this;this.emitter.on(b.MessageType.Add,this.e.add),this.emitter.on(b.MessageType.Remove,this.e.remove),this.emitter.on(b.MessageType.RemoveAll,this.e.removeAll),this.emitter.on(b.MessageType.Modify,this.e.modify),this.emitter.on(b.MessageType.Undo,(function(){t.items.undo(!1)})),this.emitter.on(b.MessageType.Redo,(function(){t.items.redo(!1)}))}},{key:"_addHandler",value:function(t){var e=JSON.parse(t);this.items.add(e)}},{key:"_removeHandler",value:function(t){var e=JSON.parse(t);this.items.remove(e)}},{key:"_removeAllHandler",value:function(t){this.items.removeAll(!1)}},{key:"_modifyHandler",value:function(t){var e=JSON.parse(t);this.items.modify(e)}}]),t}(),Et=A(26),Ft=A.n(Et),Qt=function(){function t(){c()(this,t),this.emitter=new _t.EventEmitter}return h()(t,[{key:"_fire",value:function(t,e){var A=Ft()(e);_.a.OBJ.info("shoot! ".concat(t," "),A),this.emitter.emit(t,A)}},{key:"add",value:function(t){this._fire(b.MessageType.Add,t)}},{key:"modify",value:function(t){this._fire(b.MessageType.Modify,t)}},{key:"remove",value:function(t){this._fire(b.MessageType.Remove,t)}},{key:"removeAll",value:function(t){this._fire(b.MessageType.RemoveAll,t)}},{key:"selected",value:function(t){this._fire(b.MessageType.Selected,t)}},{key:"deselected",value:function(t){this._fire(b.MessageType.Deselected,t)}},{key:"selectChange",value:function(t){this._fire(b.MessageType.SelectChanged,t)}},{key:"undo",value:function(){this._fire(b.MessageType.Undo,{})}},{key:"redo",value:function(){this._fire(b.MessageType.Redo,{})}}]),t}(),Ut=A(28),St=A(30),It=A.n(St),Tt=A(80),Ot=A.n(Tt),kt=A(238),Dt=A.n(kt),Ht=function(t,e){B()(e).forEach((function(A){t.style[A]=e[A]}))};function Lt(t,e){return new It.a((function(A,r){try{var n=function(t,e){var A=document.createElement("div"),r=null,n=null;t/e>=1?(n=1.2*t,r=Ot()(Math.pow(t,2)/e)):(r=1.2*e,n=Ot()(Math.pow(e,2)/t));return Ht(A,{width:"".concat(r,"px"),height:"".concat(n,"px"),fontSize:0,overflow:"hidden",position:"fixed",left:"-9999px"}),A}(t,e),i=Mt();n.appendChild(i),document.body.appendChild(n);var o=function(t,e){var A=document.createElement("div"),r=0,n=t.clientHeight,i=e.clientHeight;for(;r<n;){r+=i;var o=Pt(t,e);r/i%2==0&&Ht(o,{transform:"translateX(".concat(e.clientWidth,"px)")}),A.appendChild(o)}return A}(n,i);i.remove(),n.appendChild(o),Dt()(n,{backgroundColor:null,scale:1}).then((function(t){A(t.toDataURL()),n.remove()}))}catch(t){r(t)}}))}function Mt(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=document.createElement("div");return e.innerText=Ut.a.watermarkOption.text,Ht(e,{display:"inline-block",fontSize:"".concat(Ut.a.watermarkOption.fontSize,"px"),color:Ut.a.watermarkOption.color,lineHeight:2,padding:"0 1em",visibility:t?"visible":"hidden"}),e}function Pt(t,e){var A=document.createElement("div");Ht(A,{whiteSpace:"nowrap"});for(var r=0,n=t.clientWidth,i=e.clientWidth;r<n;)(r+=i)/i%2==0?A.appendChild(Mt(!1)):A.appendChild(Mt(!0));return A}var Rt=A(118);window.UndoManager=X.a;var Kt=new Rt.a(100),jt=function(){function t(){c()(this,t)}var e,A;return h()(t,[{key:"init",value:function(t,e){_.a.OBJ.info("init, canvasId: ".concat(t,", ver:").concat(this.version)),_.a.OBJ.info("[Doodle] init cost");var A=e.control,r=e.advance,n=e.basic;this.canvas=new g.fabric.Canvas(t,p()({selection:!1,enableRetinaScaling:!1,fireRightClick:!1},n));var i=r.editable,o=r.cacheable;this.store=new w;var s=this.canvas,a=s.width,c=s.height;this.store.setKV("ow",a),this.store.setKV("oh",c),window.canvas||(window.canvas=[]),window.canvas.push(this.canvas),_.a.OBJ.info("初始化舞台管理器"),this.stage=new ht(this.canvas),this._mouseEnable=i||!0,_.a.OBJ.info("初始化缓存数据"),this.cache=new v,this.cacheable=o||!1,_.a.OBJ.info("初始化高级设置"),_.a.OBJ.info("初始化控制栏"),this.tools=new bt,this.tools.app=this,this.tools.defaultControlOption=A,_.a.OBJ.info("初始化UNDO管理器"),_.a.OBJ.info("初始化消息服务"),this.canvas.renderAll(),this._cacheable=!1,this.sender=new Qt,this.receiver=new xt,this.receiver.app=this,this.items=new ut,this.items.init(this.canvas),this.items.app=this,this.items.addEvents(),this.items.cache=this.cache,this.graphicFactory=new ct(this),this.currentIdTimeoutInterval=0,_.a.OBJ.info("[Doodle] init cost end")}},{key:"currentGraphic",value:function(t){this._mouseEnable||(t=-1),this.tools.currentGraphic=+t}},{key:"getCurrentGraphicId",value:function(){return this._mouseEnable?this.tools.currentGraphicId:-1}},{key:"option",get:function(){return this.tools.option},set:function(t){this._mouseEnable&&(this.tools.option=t)}},{key:"version",get:function(){return"1.4.0"}},{key:"currentTool",value:function(t){(this._mouseEnable||3===t||4===t)&&(this.tools.currentTool=+t)}},{key:"trigger",value:function(t,e){this.receiver.emitter.emit(t,e),this.canvas.renderAll()}},{key:"on",value:function(t,e){this.sender.emitter.on(t,e),this.canvas.renderAll()}},{key:"off",value:function(t,e){this.sender.emitter.removeListener(t,e)}},{key:"offAll",value:function(){this.sender.emitter.removeAllListeners()}},{key:"getAllData",value:function(){return this.stage.renderNow(),this.canvas.toDatalessJSON()}},{key:"setAllData",value:function(t){this.canvas.loadFromDatalessJSON(t),Ut.a.watermarkOption.text&&this.setWatermark(),this.stage.renderNow()}},{key:"fitToOrigin",value:function(t,e){_.a.OBJ.warn("即将废弃的方法，请使用setCanvasSize 替代"),this.canvas.setDimensions({width:t,height:e}),this.stage.renderNow()}},{key:"setSize",value:function(t,e){var A=this;this.canvas.setDimensions({width:t,height:e});var r=t/(this.store.getKV("width")||this.store.getKV("ow"));this.canvas.zoomToPoint({x:0,y:0},r),setTimeout((function(){A.canvas.overlayImage&&(A.canvas.overlayImage.scale(1/r),A.canvas.overlayImage.viewportCenter())}),50),this.stage.renderNow()}},{key:"setSizeByDraw",value:function(t,e){_.a.OBJ.warn("即将废弃的方法，请使用setSize 替代");var A=this.canvas.width;this.canvas.setDimensions({width:t,height:e});var r=t/A;this.canvas.zoomToPoint({x:0,y:0},r),this.stage.renderNow()}},{key:"setCanvasSize",value:function(t,e){var A=this.store.getKV("width"),r=this.store.getKV("height");A&&r||(this.store.setKV("width",t),this.store.setKV("height",e)),this.canvas.setWidth(t),this.canvas.setHeight(e),this.canvas.calcOffset(),this.stage.renderNow()}},{key:"setBackgroundColor",value:function(t){this.canvas.backgroundColor=t,this.stage.renderNow()}},{key:"deselectAll",value:function(){this.stage.deselectAll()}},{key:"currentId",get:function(){return this._currentId},set:function(t){var e=this;if(_.a.OBJ.info("设置当前页码: ".concat(t)),_.a.OBJ.info("_currentId: ".concat(this._currentId)),this._currentId!==t&&setTimeout((function(){e.clearData(),e.saveData()}),1e3),this._currentId!==t){var A=this.getCurrentGraphicId();this._currentId&&(this.cache.setCache(this._currentId,this.canvas.toDatalessJSON()),this.currentGraphic(-1)),this._currentId=t,this.store.setKV("pageId",t);var r=this.cache.getCache(t);r&&(this.setAllData(r),F(this.canvas,this.tools.defaultControlOption,this),X.a.getInstance().save(r)),clearTimeout(this.currentIdTimeoutInterval),this.currentIdTimeoutInterval=setTimeout((function(){e.currentGraphic(A>=1?A:-1)}),300)}}},{key:"cacheable",set:function(t){this._cacheable=t,this.cache.cacheable=t}},{key:"clearCache",value:function(){this.cache.clear()}},{key:"clearCacheById",value:function(t){this.cache.removeCache(t)}},{key:"clear",value:function(){var t;(t=this.canvas).remove.apply(t,s()(this.canvas.getObjects())),this.canvas.renderAll()}},{key:"destroy",value:function(){var t=window.canvas;t&&t.indexOf(this.canvas>-1)&&t.splice(this.canvas,1),this.currentTool(-1),this.canvas&&(this.canvas.off(),this.canvas.removeListeners(),this.canvas.dispose(),this.canvas=null)}},{key:"mouseEnable",value:function(t){this._mouseEnable=t,this.store.setKV("mouseEnable",t),this.currentGraphic(-1),this.stage.deselectAll(),E(this.canvas,t),this.stage.renderNow()}},{key:"setControlOption",value:function(t){this.tools&&(this.tools.defaultControlOption=t,F(this.canvas,this.tools.defaultControlOption,this))}},{key:"restore",value:function(){this.canvas?(this.canvas.zoomToPoint({x:0,y:0},1),this.canvas.viewportTransform[4]=0,this.canvas.viewportTransform[5]=0,this.canvas.requestRenderAll()):_.a.OBJ.warn("未初始化，无法还原")}},{key:"setWatermark",value:(A=i()(f.a.mark((function t(){return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Kt.push("",this.setWatermarkQueue.bind(this));case 1:case"end":return t.stop()}}),t,this)}))),function(){return A.apply(this,arguments)})},{key:"setWatermarkQueue",value:(e=i()(f.a.mark((function t(){var e,A,r,n,i,o,s,a,c=this;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e=this.store.getKV("ow"),A=this.store.getKV("oh"),Ut.a.watermarkImg){t.next=8;break}return t.next=6,Lt(e,A);case 6:Ut.a.watermarkImg=t.sent,_.a.OBJ.info("获取水印图片");case 8:r=Ut.a.watermarkOption,n=r.angle,i=r.opacity,o=g.fabric.util.qrDecompose(this.canvas.viewportTransform),s=o.scaleX,a=o.scaleY,this.canvas.setOverlayImage(Ut.a.watermarkImg,(function(){c.canvas.overlayImage.viewportCenter()}),{angle:-"".concat(n),scaleX:1/s,scaleY:1/a,opacity:i,excludeFromExport:!0}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0);case 16:case"end":return t.stop()}}),t,this,[[0,13]])}))),function(){return e.apply(this,arguments)})},{key:"clearWatermark",value:function(){this.canvas.overlayImage=null,this.canvas.renderAll()}},{key:"saveData",value:function(){var t=this.canvas.toDatalessJSON();X.a.getInstance().save(t)}},{key:"clearData",value:function(){X.a.getInstance().clear()}}]),t}()},function(t,e,A){"use strict";A.r(e),A.d(e,"default",(function(){return GA}));var r,n=A(72),i=A.n(n),o=A(114),s=A.n(o),a=A(48),c=A.n(a),u=A(122),h=A.n(u),l=A(52),f=A.n(l),d=A(33),p=A.n(d),g=A(20),v=A.n(g),y=A(21),B=A.n(y),w=A(16),m=A.n(w),C=A(13),b=A.n(C),_=A(173),x=A.n(_),E=A(9),F=A.n(E),Q=A(41),U=A.n(Q),S=A(40),I=A.n(S),T=A(234),O=A.n(T),k=A(97),D=A.n(k),H=A(14),L=A.n(H),M=A(235),P=A.n(M),R=A(244),K=A(44),j=A.n(K),N="/init/start",V="/v2/document/get-info",G="/v2/document/get-watch-info",X="/v2/document/reset-watch-info",W="/v2/message/send",Y="",J="/v2/message/send-special",z="/room/lss-log",q="/v2/document/get-chapters",Z="/v2/document/chapter-message-send",$="app_id",tt="channel_id",et="room_id",At="docId",rt="third_party_user_id",nt="access_token",it="package_check",ot="client",st="vfid",at="bu",ct="role",ut="is_vod",ht="watch_on",lt="current_doc_cid",ft="document_server",dt="socket_instance",pt="play_mode",gt=-1,vt="permission",yt="isRelay",Bt="isVodRecord",wt="chapters",mt="force_doc_type",Ct={CANCEL:-1,PEN:1,NITE_WHITE_PEN:2,SQUARE:3,CIRCLE:4,TEXT:6,BITMAP:7,ISOSCELES_TRIANGLE:8,RIGHT_TRIANGLE:9,SINGLE_ARROW:11,DOUBLE_ARROW:12},bt="document",_t={HOST:1,GUEST:2,SPECTATOR:3,ASSISTANT:4},xt={ERROR:"VH_DOC_SDK_ERROR",PAGE_CHANGE:"VH_DOC_SDK_PAGE_CHANGE",SCALE_TRIGGER:"VH_DOC_SDK_SCALE_TRIGGER",CREATE_CONTAINER:"VH_DOC_SDK_CREATE",DELETE_CONTAINER:"VH_DOC_SDK_DELETE",SELECT_CONTAINER:"VH_DOC_SDK_SELECT",RESET_CONTAINER:"VH_DOC_SDK_RESET",SWITCH_CHANGE:"VH_DOC_SDK_SWITCH_CHANGE",DOCUMENT_LOAD_COMPLETE:"VH_DOC_SDK_DOC_LOAD_COMPLETE",ALL_COMPLETE:"ALL_COMPLETE",DOCUMENT_NOT_EXIT:"DOCUMENT_NOT_EXIT",VOD_TIME_UPDATE:"VH_DOC_SDK_VOD_TIME_UPDATE",VOD_CUEPOINT_LOAD_COMPLETE:"VH_VOD_CUEPOINT_LOAD_COMPLETE",VOD_CUEPOINT_USEABLE:"VH_VOD_CUEPOINT_USEABLE",PLAYBACKCOMPLETE:"PLAYBACKCOMPLETE",ANIMATIONINFO:"ANIMATIONINFO",SINGLE_CHAPTERS:"SINGLE_CHAPTERS",STREAM_VOD_COMPLETE:"STREAM_VOD_COMPLETE",UNDO_STEP_CHANGE:"UNDO_STEP_CHANGE"},Et={PC_WEB:"pc_browser",H5_WEB:"h5_browser",ANDROID:"android",IOS:"ios",DESKTOP:"desktop",WECHAT_BROWSER:"wechat_browser",WECHAT_APPLET:"wechat_applet"},Ft={INTERACT:"interact",FLV:"flv",HLS:"hls"},Qt=(r={},j()(r,"".concat(Et.PC_WEB,"_").concat(Ft.INTERACT),100),j()(r,"".concat(Et.PC_WEB,"_").concat(Ft.FLV),5e3),j()(r,"".concat(Et.PC_WEB,"_").concat(Ft.HLS),1e4),j()(r,"".concat(Et.H5_WEB,"_").concat(Ft.INTERACT),100),j()(r,"".concat(Et.H5_WEB,"_").concat(Ft.FLV),5e3),j()(r,"".concat(Et.H5_WEB,"_").concat(Ft.HLS),1e4),r),Ut="create",St="destroy",It="active",Tt="switchon",Ot="switchoff",kt=.25,Dt=15,Ht={DYNAMIC:1,STATIC:2},Lt=function(){function t(){v()(this,t),this.info={}}return B()(t,[{key:"setKV",value:function(t,e){this.info[t]=e}},{key:"getKV",value:function(t){return this.info[t]}},{key:"deleteKey",value:function(t){this.info.hasOwnProperty(t)&&delete this.info[t]}},{key:"reset",value:function(){this.info={}}},{key:"toString",value:function(){var t=this,e=I()(this.info),A="";return e.forEach((function(e){A+="".concat(e,":").concat(t.info[e]," ")})),A}}]),t}(),Mt=A(28),Pt=A(239),Rt=A.n(Pt),Kt=A(19),jt=A.n(Kt),Nt=A(119),Vt=A.n(Nt),Gt=A(120),Xt=A.n(Gt),Wt=A(121),Yt=A.n(Wt),Jt=A(240),zt=A.n(Jt),qt={API_SERVER:"//api.vhallyun.com/sdk",REPORT_SERVER:"//dc.e.vhall.com/login",BASE_MESSAGE_URL:"//static.vhallyun.com/jssdk/vhall-jssdk-base/vhall-msg-1.0.9.js?t=".concat(jt()())},Zt=("//t-static01-open.e.vhall.com/jssdk/vhall-jssdk-base/vhall-msg-1.0.9.js?t=".concat(jt()()),qt),$t=A(241),te=A.n($t),ee=A(172),Ae=A.n(ee),re=A(70),ne=A.n(re),ie=A(242),oe=A.n(ie),se=A(243),ae=A(59),ce=A.n(ae);function ue(){var t=(new Date).getTime();return"xxxxxxx".replace(/[xy]/g,(function(e){var A=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?A:3&A|8).toString(16)}))}function he(){return le.apply(this,arguments)}function le(){return(le=p()(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new F.a((function(t,e){if(document.getElementById("VhallBaseSDK"))t(!0);else{var A=document.createElement("script");A.setAttribute("type","text/javascript"),A.setAttribute("id","VhallBaseSDK"),A.setAttribute("src",Zt.BASE_MESSAGE_URL),document.head.appendChild(A),A.onload=function(){t(!0)},A.onerror=function(){return e(!1)}}})));case 1:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var fe=function t(e){var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(null===e||"object"!==i()(e))return e;var r=A.filter((function(t){return t.original===e}))[0];if(r)return r.copy;var n=ne()(e)?[]:{};return A.push({original:e,copy:n}),I()(e).forEach((function(r){n[r]=t(e[r],A)})),n},de=function(t,e){for(var A=arguments.length,r=new Array(A>2?A-2:0),n=2;n<A;n++)r[n-2]=arguments[n];var i,o=s()(e,r),a=oe()(e.prototype),u=c()(a);try{for(u.s();!(i=u.n()).done;){var h=i.value,l=o[h];"function"==typeof l&&"constructor"!==h&&(t[h]=l.bind(o))}}catch(t){u.e(t)}finally{u.f()}},pe=function(){function t(e){v()(this,t),this.store=e,this.e={error:this._onError.bind(this),timeout:this._onTimeout.bind(this),onload:this._onLoad.bind(this),onLoadend:this._onLoadend.bind(this)},this.xhr=new XMLHttpRequest,this.browserType=function(){var t=Ae()(null),e=(new se.UAParser).getResult();t.isTencent=(e.ua.match(/mqqbrowser|qzone|qqbrowser|qq|micromessenger/i)||[]).length>0,t.browser=e.browser.name.toLowerCase(),t.browserVersion=e.browser.version,t.os=e.os.name.toLowerCase(),t.osVersion=e.os.version,t.platform=(e.ua.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)||[]).length>0?"mobile":"pc";var A=function(t){return ce.a.coerce(t)};return t.supportMSE=function(){if(window.semver=ce.a,"ios"===t.os&&t.browser.indexOf("safari"))return!1;if("chrome"===t.browser&&ce.a.lt(A(t.browserVersion),A(23)))return!1;if("firefox"===t.browser&&ce.a.lt(A(t.browserVersion),A(42)))return!1;if("ie"===t.browser&&ce.a.lt(A(t.browserVersion),A(11)))return!1;if("android"===t.os&&ce.a.lt(A(t.osVersion),A(4.4)))return!1;if("opera"===t.browser&&ce.a.lt(A(t.browserVersion),A(15)))return!1;if("opera mobile"===t.browser&&ce.a.lt(A(t.browserVersion),A(46)))return!1;if("opera mini"===t.browser)return!1;if(t.browser.indexOf("samsung")>=0)return!1;if("undefined"!=typeof window){var e=window.MediaSource||window.WebKitMediaSource,r=window.SourceBuffer||window.WebKitSourceBuffer,n=r&&r.prototype&&"function"==typeof r.prototype.appendBuffer&&"function"==typeof r.prototype.remove||!1;return e&&n}return!0}(),t}().browser,"ie"!==this.browserType&&(this.xhr.responseType="json",this.xhr.timeout=5e3),this.xhr.onerror=this.e.error,this.xhr.ontimeout=this.e.timeout,this.xhr.onload=this.e.onload,this.xhr.onloadend=this.e.onLoadend,this.onError=null,this.onLoad=null,this.onLoadend=null,this.onTimeout=null}return B()(t,[{key:"_onError",value:function(t){this.onError&&this.onError(t.target.response),this.onError=null}},{key:"_onLoad",value:function(t){if(t.target)if(t.target.response){var e=t.target.response;if("ie"===this.browserType&&e&&"string"==typeof e)try{e=JSON.parse(e)}catch(A){e=t.target.response}var A=e,r=A.code,n=A.data;200==+r?(this.onLoad&&this.onLoad(n),this.onLoad=null):this._onError(t)}else this._onError(t);else this._onError(t)}},{key:"_onLoadend",value:function(t){this.onLoadend&&this.onLoadend(t.target),this.onLoadend=null}},{key:"_onTimeout",value:function(t){this.onTimeout&&this.onTimeout(t.target),this.onTimeout=null}},{key:"fire",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"api",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"POST";if(this.xhr){var n="api"==A?Zt.API_SERVER:"report"==A?Zt.REPORT_SERVER:"",i=n+t,o=new FormData;if(n){o.set(ot,this.store.getKV(ot)),o.set($,this.store.getKV($)),o.set(rt,this.store.getKV(rt)),o.set(nt,this.store.getKV(nt)),o.set(it,this.store.getKV(it)),o.set(tt,this.store.getKV(tt));var s=this.store.getKV(et);""!==s&&o.set(et,s)}if(I()(e).forEach((function(t){o.set(t,e[t])})),"POST"===r)this.xhr.open(r,i),this.xhr.send(o);else if("GET"===r){var a={};o.forEach((function(t,e){a[e]=t})),i+="?".concat(te.a.stringify(a)),this.xhr.open(r,i),this.xhr.send()}}}},{key:"destroy",value:function(){this.xhr&&(this.xhr.onerror=null,this.xhr.onload=null,this.xhr.onloadend=null,this.xhr.ontimeout=null,this.xhr=null,this.onLoad=null,this.onLoadend=null,this.onTimeout=null,this.onError=null)}}]),t}(),ge=A(69),ve=A.n(ge),ye=function(t){Xt()(A,t);var e=Yt()(A);function A(t){var r;return v()(this,A),(r=e.call(this,t))._type="IllegalStateException",r}return B()(A)}(function(){function t(e){v()(this,t),this._msg=e,this._type="RuntimeException"}return B()(t,[{key:"type",get:function(){return this._type}},{key:"toString",value:function(){return"[".concat(this.type,"] ").concat(this._msg)}}]),t}()),Be=ve()("privateLog"),we=ve()("privateInstance"),me=function(){function t(){if(v()(this,t),this[we])throw new ye("Log should be a singleton Class");this[we]=this,this.logLevels={all:"debug|info|log|warn|error",off:"",debug:"debug|info|log|warn|error",info:"info|warn|error",warn:"warn|error",error:"error"},this.level="all"}return B()(t,[{key:"level",get:function(){return this._level},set:function(t){if("string"!=typeof t)return this.level;if(!this.logLevels.hasOwnProperty(t))throw new ye("".concat(t," is not a valid log level, should be in [all, off, debug, info, warn, error]"));this._level=this.logLevels[t]}},{key:"info",value:function(){for(var t=arguments.length,e=new Array(t),A=0;A<t;A++)e[A]=arguments[A];this[Be]("info",e)}},{key:"debug",value:function(){for(var t=arguments.length,e=new Array(t),A=0;A<t;A++)e[A]=arguments[A];this[Be]("debug",e)}},{key:"warn",value:function(){for(var t=arguments.length,e=new Array(t),A=0;A<t;A++)e[A]=arguments[A];this[Be]("warn",e)}},{key:"error",value:function(){for(var t=arguments.length,e=new Array(t),A=0;A<t;A++)e[A]=arguments[A];this[Be]("error",e)}},{key:Be,value:function(t,e){if(window.console){var A=window.console[t];A||"debug"!==t||(A=window.console.info||window.console.log),!A||this.level.split("|").indexOf(t)<0||A[ne()(e)?"apply":"call"](window.console,e)}}}],[{key:"OBJ",get:function(){return this[we]||(this[we]=new t),this[we]}}]),t}();function Ce(t){var e="[object Date]"===Object.prototype.toString.apply(t)?t:void 0===t?new Date:new Date(t);if(zt()(e.valueOf()))return"0000-00-00 00:00:00";var A="".concat(e.getFullYear().toString(),"-").concat((e.getMonth()+1).toString().padStart(2,"0"),"-").concat(e.getDate().toString().padStart(2,"0")),r="".concat(e.getHours().toString().padStart(2,"0"),":").concat(e.getMinutes().toString().padStart(2,"0"),":").concat(e.getSeconds().toString().padStart(2,"0"));return"".concat(A," ").concat(r)}var be=function(t){Xt()(A,t);var e=Yt()(A);function A(t){var r;return v()(this,A),(r=e.call(this))._app=t,r.store=r._app.store,r._delayHandler=r._delayHandler.bind(Vt()(r)),r.message=r.store.getKV(dt),r.isV4=!(!r.message||!r.message.sdkName),r._forceV4=r._app._forceV4,r._forceApiSend=r._app._forceApiSend,r.message&&(r.isV4&&r._forceV4?r.message.on("document",(function(t){r._onMessageV4Handler&&r._onMessageV4Handler(t)})):(r.message.addEventListener("service_document",(function(t){r._onMessageHandler&&r._onMessageHandler(t)})),VhallMsg.__ee__&&(VhallMsg.__ee__.broadcast=[]))),VhallMsg.onBroadcast(r._onBroadcastHandler.bind(Vt()(r))),r}return B()(A,[{key:"destroy",value:function(){this._onMessageHandler=null,this._onMessageV4Handler=null}},{key:"init",value:function(){var t=this;return new F.a((function(e,A){var r=new pe(t.store);r.fire(N,{}),r.onLoad=function(t){e(t)},r.onError=function(t){A(t)}}))}},{key:"getDocInfo",value:function(t){var e=this,A=this.store.getKV(tt);return new F.a((function(r,n){var i=new pe(e.store);i.fire(V,{document_id:t,channel_id:A}),i.onError=function(t){return n(t)},i.onLoad=function(t){return r(t)}}))}},{key:"getWatchInfo",value:function(t){var e=this,A=this.store.getKV(tt);return t&&t.channelId&&(A=t.channelId),new F.a((function(t,r){var n=new pe(e.store);n.fire(G,{channel_id:A}),n.onError=function(t){return r(t)},n.onLoad=function(A){0!==A.switch_status?e.store.setKV(ht,!0):e.store.setKV(ht,!1),t(A)}}))}},{key:"emitMessage",value:function(t){var e=this;return this.store.getKV(yt)?F.a.resolve():this.isV4&&!this._forceApiSend?this.emitV4Message(t):new F.a((function(A,r){var n=e.store.getKV(tt),i=e.store.getKV(et)||"";if("string"==typeof t&&(t=JSON.parse(t)),!t.docId)try{var o=e._app.docMap.get(t.cid);t.docId=o.docId||o.store.getKV("passThrough").docId}catch(e){t.docId=""}t.version||(t.version="3.4.0"),t.switch=e.store.getKV(ht);var s={type:"service_document"};s.channel_id=n,s.room_id=i,s.body=U()(t);var a=new pe(e.store);a.fire(W,s),a.onError=function(t){return r(t)},a.onLoad=function(t){return A(t)}}))}},{key:"emitV4Message",value:function(t){if(!this.message)return F.a.reject({msg:"没有Msg实例"});this.store.getKV(tt),this.store.getKV(et);if("string"==typeof t&&(t=JSON.parse(t)),!t.docId)try{var e=this._app.docMap.get(t.cid);t.docId=e.docId||e.store.getKV("passThrough").docId}catch(e){t.docId=""}return t.version||(t.version="3.4.0"),t.switch=this.store.getKV(ht),this.message.send("document",t)}},{key:"resetContainer",value:function(){var t=this;return new F.a((function(e,A){var r=t.store.getKV(tt),n=new pe(t.store);n.fire(X,{channel_id:r}),n.onError=function(t){return A(t)},n.onLoad=function(t){return e(t)}}))}},{key:"republish",value:function(){var t=this;return new F.a((function(e,A){var r=new pe(t.store),n={};n.channel_id=t.store.getKV(tt),r.fire(J,n),r.onError=function(t){return A(t)},r.onLoad=function(t){return e(t)}}))}},{key:"start",value:function(t){var e=this;return new F.a((function(A,r){var n=new pe(e.store);n.fire(z,t),n.onError=function(t){return r(t)},n.onLoad=function(t){return A(t)}}))}},{key:"report",value:function(t){var e=this;return new F.a((function(){new pe(e.store).fire(Y,t,"report","GET")}))}},{key:"getVodData",value:function(t){var e=this;return new F.a((function(A,r){var n=new pe(e.store);n.fire(t,{},"","GET"),n.onError=function(t){var r={data:t.cuepoint};A(),e._app.setVodData(r)},n.onLoad=function(t){A()}}))}},{key:"getChapters",value:function(t){var e=this;return new F.a((function(A,r){var n=new pe(e.store);n.fire(q,{document_id:t}),n.onError=function(t){return r(t)},n.onLoad=function(t){return A(t)}}))}},{key:"reportChapters",value:function(t){var e=this;return new F.a((function(A,r){var n=new pe(e.store);n.fire(Z,{body:U()(t)}),n.onError=function(t){return r(t)},n.onLoad=function(t){return A(t)}}))}},{key:"_onMessageV4Handler",value:function(t){var e={msg_id:t.msgId,app_id:t.appId,channel:t.channelId,service_type:"service_document",msg_source:"prefix01",date_time:Ce(t.time)||"2038-01-19 03:14:07",sender_id:t.sourceId||"",context:U()(t.context),data:U()(t.data),client:"pc_browser",bu:"1",pv:1,uv:1};this._onMessageHandler(e)}},{key:"_onMessageHandler",value:function(t){var e=this.store.getKV(ot),A=this.store.getKV(pt),r=this.store.getKV(gt),n=Qt["".concat(e,"_").concat(A)]||Qt["".concat(Et.PC_WEB,"_").concat(Ft.FLV)];-1!==r&&(n=1e3*r),"string"==typeof t&&(t=JSON.parse(t)),(t=f()({},t)).data=JSON.parse(t.data);var i=t.data.command;if(i&&0!==i.length){var o=i[0];if(o.hasOwnProperty("event")){var s=this.store.getKV(mt);if(s===Ht.DYNAMIC||s===Ht.STATIC){if("onStepChange"===o.event)return;t.data.doc_type&&(t.data.doc_type=s),o.doc_type&&(o.doc_type=s)}t._delay=n,this.store.getKV(ct)!==_t.HOST?this._push({data:t,executeTime:jt()()+t._delay,fn:this._delayHandler}):this._delayHandler(t)}else me.OBJ.error("数据不包含event字段")}else me.OBJ.error("数据非法",t)}},{key:"_delayHandler",value:function(t){var e=this._app,A=!1;t.sender_id&&(t.sender_id!=this.store.getKV(rt)||this.store.getKV(yt)||(A=!0));var r=t.data.command[0];switch(r.event){case"doodle":case"onStepChange":case"onSlideChange":if(!A){var n=U()(t.data);e.setData(n)}var i=t.data.cid,o=e.docMap.get(i);-1!=i.indexOf("document")&&o&&!o.docId&&(o.docId=t.data.docId);var s=t.data.pageData||[];o&&s.length&&o.setAllData(U()(s));break;case"operate":if(A)break;switch(r.type){case"create":e.emit(xt.CREATE_CONTAINER,r.data);break;case"destroy":e.emit(xt.DELETE_CONTAINER,r.data);break;case"active":e.emit(xt.SELECT_CONTAINER,f()(f()({},r.data),{},{cw:t.data.cw,ch:t.data.ch,backgroundColor:t.data.backgroundColor||null}));break;case"switchon":e.emit(xt.SWITCH_CHANGE,"on"),this.store.setKV(ht,!0);break;case"switchoff":e.emit(xt.SWITCH_CHANGE,"off"),this.store.setKV(ht,!1);break;case"reset":e.emit(xt.RESET_CONTAINER,r.data);break;default:me.OBJ.warn("不存在对应的operate类型处理",r.type)}break;case"ready":break;default:me.OBJ.warn("不存在对应的event类型处理",r.event)}}},{key:"_onBroadcastHandler",value:function(t){if(!this.store.getKV(Bt))switch(t.type){case"cue_point":var e=JSON.parse(t.data),A=e.cuepoint,r=this.store.getKV(mt);if(r===Ht.DYNAMIC||r===Ht.STATIC){var n,i=[],o=c()(A);try{for(o.s();!(n=o.n()).done;){var s=n.value,a=JSON.parse(s.content2),u=a.command[0];"onStepChange"!==u.event&&(a.doc_type&&(a.doc_type=r),u.doc_type&&(u.doc_type=r),s.content2=U()(a),i.push(s))}}catch(t){o.e(t)}finally{o.f()}A=i}var h={data:A}||{data:[]},l=e.titles||[];this._app.setVodData(h,l);break;case"time_update":var f=t.data.target.currentTime;this._app.setVodTime(f);break;case"delay":var d=t.data.delay;this.store.setKV(gt,d);break;default:me.OBJ.warn("未识别的消息类型:".concat(t.type))}}}]),A}(function(){function t(){v()(this,t),this.queue=[],this.running=!1}var e;return B()(t,[{key:"_delay",value:function(t){return new F.a((function(e){var A=setTimeout((function(){clearTimeout(A),e()}),t)}))}},{key:"_push",value:function(t){this.queue.push(t),this._checkNext()}},{key:"_checkNext",value:function(){if(this.queue.length>0){if(this.running)return;this.running=!0,this._startExecuteQueue()}else this.running=!1}},{key:"_startExecuteQueue",value:(e=p()(b.a.mark((function t(){var e,A,r,n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((e=this.queue[0].executeTime)<=jt()())){t.next=6;break}A=this.queue.shift(),r=A.fn,n=A.data,r(n),t.next=8;break;case 6:return t.next=8,this._delay(Math.ceil(Math.abs(e-jt()())));case 8:this.running=!1,this._checkNext();case 10:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})}]),t}()),_e=function(){function t(e){v()(this,t),this._app=e,this._tr=e._tr,this.api=new be(this._app),this.store=this._app.store,this._msgTemplate={role:this.store.getKV(ct),userId:this.store.getKV(rt),permission:this.store.getKV(vt),hash:"",uniqueID:jt()(),currentPage:0,page:0,currentStep:0,step:0,cw:300,ch:150,width:300,height:150,cid:"",ext:"",version:"3.4.0",doc_type:2,command:[],flipOver:0,docId:"",pf:"js"},this._commandTemplate={type:"",data:{},stamp:jt()(),event:"operate"},this.isVod=this.store.getKV(ut)}var e,A;return B()(t,[{key:"init",value:function(){return this.api.init()}},{key:"createDocument",value:function(t){var e=this;return new F.a(function(){var A=p()(b.a.mark((function A(r,n){var i,o,s,a,c,u,h,l;return b.a.wrap((function(A){for(;;)switch(A.prev=A.next){case 0:if(i=t.noDispatch,o=e.store.getKV(ct),o===_t.HOST&&!i&&!e.isVod){A.next=6;break}return r(),A.abrupt("return");case 6:return e._tr.event(138,{doc_cid:t&&t.id||"",docId:t&&t.docId||"",roleType:o,params:t}),s=t.id,a=t.width,c=t.height,u=t.docId,me.OBJ.info("发送创建文档请求"),h=fe(e._commandTemplate),l=fe(e._msgTemplate),h.type=Ut,h.op=Ut,h.is_board=1,h.stamp=jt()(),h.data={id:s,width:a,height:c,docId:u,type:"document"},h.userId=e.store.getKV(rt),l.command=[h],l.uniqueID=jt()(),l.cid=s,l.cw=a,l.ch=c,l.docId=u,A.next=25,e.api.emitMessage(l);case 25:r();case 26:case"end":return A.stop()}}),A)})));return function(t,e){return A.apply(this,arguments)}}())}},{key:"createBoard",value:(A=p()(b.a.mark((function t(e){var A,r,n,i,o,s,a,c,u;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(A=this.store.getKV(ct),r=A===_t.HOST,n=e.noDispatch,r&&!n&&!this.isVod){t.next=5;break}return t.abrupt("return");case 5:return this._tr.event(137,{doc_cid:e&&e.id||"",roleType:A,params:e}),i=e.id,o=e.width,s=e.height,a=e.backgroundColor,me.OBJ.info("发送创建白板请求"),c=fe(this._commandTemplate),u=fe(this._msgTemplate),c.type=Ut,c.op=Ut,c.is_board=2,c.stamp=jt()(),c.data={id:i,width:o,height:s,backgroundColor:a,type:"board"},c.userId=this.store.getKV(rt),u.command=[c],u.uniqueID=jt()(),u.cid=i,u.cw=o,u.ch=s,t.next=23,this.api.emitMessage(u);case 23:return t.abrupt("return",F.a.resolve());case 24:case"end":return t.stop()}}),t,this)}))),function(t){return A.apply(this,arguments)})},{key:"destroy",value:function(t){var e=t.id,A=t.docId,r=this.store.getKV(ct),n=r===_t.HOST;if(this._tr.event(139,{doc_cid:e||"",roleType:r,docId:A}),n&&!this.isVod){me.OBJ.info("销毁sdk实例，id:".concat(e));var i=fe(this._commandTemplate),o=fe(this._msgTemplate);i.type=St,i.op=St,i.stamp=jt()(),i.data={id:e},i.userId=this.store.getKV(rt),o.command=[i],o.uniqueID=jt()(),o.cid=e,o.docId=A,this.api.emitMessage(o)}}},{key:"select",value:function(t,e){var A=this.store.getKV(ct),r=A===_t.HOST;if(this._tr.event(147,{doc_cid:t||"",roleType:A,docId:e&&e.docId||"",params:e}),!r||this.isVod)return F.a.resolve();me.OBJ.info("选中实例,id:".concat(t));var n=fe(this._commandTemplate),i=fe(this._msgTemplate);return n.type=It,n.op=It,n.stamp=jt()(),n.data={id:t},e.docId&&(n.data.docId=e.docId),n.is_board=t.indexOf("document")>-1?1:2,n.userId=this.store.getKV(rt),i.command=[n],i.uniqueID=jt()(),i.cid=t,e&&(i.cw=e.cw,i.ch=e.ch,i.width=e.width,i.height=e.height,i.backgroundColor=e.backgroundColor),this.api.emitMessage(i)}},{key:"switchOn",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this.store.getKV(ct);this._tr.event(148,{doc_cid:t,roleType:e});var A=e===_t.HOST;if(A&&!this.isVod){me.OBJ.info("开启观看端演示.id:".concat(t));var r=fe(this._commandTemplate),n=fe(this._msgTemplate);r.type=Tt,r.op=Tt,r.stamp=jt()(),r.data={id:t},r.userId=this.store.getKV(rt),n.command=[r],n.uniqueID=jt()(),this.api.emitMessage(n)}}},{key:"switchOff",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=this.store.getKV(ct);this._tr.event(149,{doc_cid:t,roleType:e});var A=e===_t.HOST;if(A&&!this.isVod){me.OBJ.info("关闭观看端演示.id:".concat(t));var r=fe(this._commandTemplate),n=fe(this._msgTemplate);r.type=Ot,r.op=Ot,r.stamp=jt()(),r.data={id:t},r.userId=this.store.getKV(rt),n.command=[r],n.uniqueID=jt()(),this.api.emitMessage(n)}}},{key:"getContainerInfo",value:function(t){return me.OBJ.info("获取当前appid 对应的 channelId 下的文档容器信息列表"),this._tr.event(157),this.api.getWatchInfo(t)}},{key:"resetContainerInfo",value:function(){var t=this.store.getKV(ct);this._tr.event(156,{roleType:t}),t===_t.HOST&&!this.isVod&&(me.OBJ.info("重置当前appid 对应的channelId 下的容器信息"),this.api.resetContainer())}},{key:"sendMsg",value:function(t){var e=this.store.getKV(ct);e!==_t.HOST&&e!==_t.ASSISTANT&&e!==_t.GUEST||(this.isVod||this.store.getKV(lt)==(this.currentDoc&&this.currentDoc.id||"")&&this._lastMsgStr!=t&&(this._lastMsgStr=t,this.kit.api.emitMessage(t)))}},{key:"reportChapters",value:function(t){var e=this.store.getKV(ct);if(!(e!==_t.HOST&&e!==_t.ASSISTANT&&e!==_t.GUEST||this.store.getKV(yt)||this.isVod||this.store.getKV(yt))){var A,r=t.cid,n=t.doc_type,i=t.event,o=t.params,s=o.hash,a=o.docId,c=o.slideIndex,u=o.stepIndex;try{A="onSlideChange"==i?this.currentDoc.store.getKV("chapters")[c].title:this.currentDoc.store.getKV("chapters")[c].subsection[u-1?u-1:0].title}catch(t){return}var h={hash:s,docId:a,cid:r,op:"onSlideChange"==i?"filpover":"stepupdate",doc_type:n,page:c,step:u,version:"3.4.0",title:A,remark:""};this.kit.api.reportChapters(h)}}},{key:"reportPageChange",value:function(t){var e=this.store.getKV(lt),A=this.currentDoc&&this.currentDoc.id||"";if(e===A){me.OBJ.info("OperateKit reportPageChange");var r={id:t.cid,info:t.doc};t.cid==A&&this.emit(xt.PAGE_CHANGE,r);var n=t.doc.docId,i={uid:this.store.getKV(rt)||"",doc_id:n||"",app_id:this.store.getKV($)||"",vfid:this.store.getKV(st)||"",service_names:Number(this.store.getKV(ut))+1,share_times:1,view_type:1===this.store.getKV(ct)?1:2,bu:this.store.getKV(at)||1,page_number:t.doc.slideIndex},o=window.btoa(U()(i)),s=this.store.getKV(at)||1,a=262001,c={s:this.store.getKV(rt)+jt()().toString(),bu:s,id:this.store.getKV(rt),token:o,k:a};this._tr.event(a,i),this.kit.api.report(c)}}},{key:"getDocInfo",value:function(t){var e=t.docId;return this._tr.event(155,{docId:e}),me.OBJ.info("获取文档信息: ",e),this.api.getDocInfo(e)}},{key:"getVodData",value:function(t){return this.api.getVodData(t)}},{key:"getChapters",value:(e=p()(b.a.mark((function t(e){var A,r,n,i;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return this._tr.event(154,{docId:e}),t.next=3,this.api.getChapters(e);case 3:return A=t.sent,r=Rt()(A,1),n=r[0],i=void 0===n?[]:n,t.abrupt("return",F.a.resolve(i));case 8:case"end":return t.stop()}}),t,this)}))),function(t){return e.apply(this,arguments)})},{key:"republish",value:function(){return this.api.republish()}},{key:"start",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,A={lss_type:t,lss_flag:e,lss_id:this.store.getKV(et)};return this.api.start(A)}},{key:"destroyKit",value:function(){this.api.destroy(),this.api=null}}]),t}();function xe(t){return function(e,A,r){var n=r.value;r.value=function(){if(!this.currentDoc.container){var e="无法执行".concat(A,"方法，容器实例为空");return me.OBJ.error(e),void(this._tr&&this._tr.exception(12,new Error(e)))}var r=this.currentDoc.container.type;if(r===t){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return n.apply(this,o)}me.OBJ.warn("无法在 ".concat(r," 实例上执行 ").concat(A," 方法，该方法存在于 ").concat(t," 实例上"))}}}function Ee(){return function(t,e,A){var r=A.value;A.value=function(){if(!this.currentDoc||!this.currentDoc.container){var t="当前容器为空，无法执行".concat(e,"方法");return me.OBJ.error(t),void(this._tr&&this._tr.exception(12,new Error(t)))}for(var A=arguments.length,n=new Array(A),i=0;i<A;i++)n[i]=arguments[i];return r.apply(this,n)}}}function Fe(){return function(t,e,A){var r=A.value;A.value=function(){for(var t=arguments.length,e=new Array(t),A=0;A<t;A++)e[A]=arguments[A];if(0!==e.length){var n=e[0].id;n&&(this._currentDoc=this.docMap.get(n))}return r.apply(this,e)}}}var Qe,Ue,Se,Ie,Te,Oe,ke,De,He,Le,Me,Pe,Re,Ke,je,Ne,Ve,Ge,Xe,We,Ye,Je,ze,qe,Ze,$e,tA,eA,AA,rA,nA,iA,oA,sA,aA,cA,uA,hA,lA,fA,dA,pA,gA,vA,yA,BA,wA,mA,CA,bA,_A,xA,EA,FA,QA,UA,SA,IA,TA,OA,kA,DA,HA,LA,MA,PA,RA,KA=function(){function t(e){v()(this,t),this._app=e,this.cids={},this.traverse=[],this.currentIndex=0,this.traverseControl={partSpacing:Dt,partDuration:0,lastDuration:0},this.interval=null,this.initComplete(),window.streamVod=this}return B()(t,[{key:"initDocCid",value:function(){var t,e=c()(this._app.getVodAllCids());try{for(e.s();!(t=e.n()).done;){var A=t.value;A.cid.includes("document")&&(this.cids[A.cid]="")}}catch(t){e.e(t)}finally{e.f()}var r,n=this._app.vodData,i=c()(n);try{for(i.s();!(r=i.n()).done;){var o=r.value,s=JSON.parse(o.content2);"onStepChange"!=s.command[0].event&&"onSlideChange"!=s.command[0].event||this.cids[s.cid]||(this.cids[s.cid]=o.content2)}}catch(t){i.e(t)}finally{i.f()}}},{key:"initStreamVodData",value:function(){for(var t=this._app.vodData,e=0;e<t.length;e++){var A=t[e],r=JSON.parse(A.content2),n=t[e-1>=0?e-1:0],i=this.traverse.length?this.traverse[this.traverse.length-1].lastIndex+1:0,o=this.traverseControl,s=o.partSpacing,a=o.lastDuration;if("onStepChange"==r.command[0].event||"onSlideChange"==r.command[0].event){var c=Number(r.command[0].params.duration)||this.getDuration(r.cid,r.command[0].params.slideIndex,r.command[0].params.stepIndex);A.created_at-n.created_at>=s?(this.traverse.push({startIndex:i,lastIndex:e-1<=0?0:e-1,partDuration:Math.ceil(n.created_at-t[i].created_at+a)||1,startTime:t[i].created_at}),e==t.length-1&&this.traverse.push({startIndex:e,lastIndex:e,partDuration:Math.ceil(c),startTime:t[e].created_at})):(this.traverseControl.lastDuration=c>s?s:c,this.traverseControl.partDuration=n.created_at-t[i].created_at,e==t.length-1&&this.traverse.push({startIndex:i,lastIndex:e,partDuration:Math.ceil(A.created_at-t[i].created_at+this.traverseControl.lastDuration),startTime:t[i].created_at}))}else A.created_at-n.created_at>=s?(this.traverse.push({startIndex:i,lastIndex:e-1<=0?0:e-1,partDuration:Math.ceil(n.created_at-t[i].created_at+a)||1,startTime:t[i].created_at}),e==t.length-1&&this.traverse.push({startIndex:i,lastIndex:e,partDuration:1,startTime:t[e].created_at})):(this.traverseControl.partDuration=A.created_at-t[i].created_at,this.traverseControl.lastDuration=0,e==t.length-1&&this.traverse.push({startIndex:i,lastIndex:e,partDuration:Math.ceil(this.traverseControl.partDuration),startTime:t[i].created_at}))}this.traverse=this.traverse.filter((function(t){return t.partDuration}))}},{key:"loadIframe",value:function(){for(var t=0,e=I()(this.cids);t<e.length;t++){var A=e[t];this._app.docMap.get(A)._ee.dispatch("vod_event",[this.cids[A]])}}},{key:"getVodData",value:function(t){return this._app.kit.getVodData(t)}},{key:"getPlayInfo",value:function(){return this.currentIndex>=this.traverse.length?{code:201,msg:"无片段数据或已完结"}:this.interval?{code:202,msg:"尚未播放完毕，请稍后再调用"}:f()({code:200},this.traverse[this.currentIndex])}},{key:"playDoc",value:function(){var t=this;if(!(this.currentIndex>=this.traverse.length||this.interval)){var e=this.traverse[this.currentIndex].startTime,A=this.traverse[this.currentIndex].partDuration,r=0;this.interval=setInterval((function(){t._app.setVodTime(e+r),(r+=kt)>A&&(t._app.setVodTime(e+r),clearInterval(t.interval),t.interval=null,t.currentIndex++)}),1e3*kt)}}},{key:"initComplete",value:function(){var t=this;this._app.on(xt.ALL_COMPLETE,(function(){t.initStreamVodData(),t._app.emit(xt.STREAM_VOD_COMPLETE,{})}))}},{key:"getDuration",value:function(t,e,A){try{return this._app.docMap.get(t).store.getKV("animationInfo").get(e).duration[A]||0}catch(t){return 0}}}]),t}(),jA=function(){function t(){v()(this,t),this._role=-1,this.editable=!1,this.pageable=!1,this.cacheable=!1,this.zoomable=!1}return B()(t,[{key:"role",get:function(){return this._role},set:function(t){this._role=t}},{key:"permission",get:function(){return NA[this.role]||NA[_t.SPECTATOR]}}]),t}(),NA=(Qe={},j()(Qe,_t.HOST,{editable:!0,pageable:!0,cacheable:!1,zoomable:!0}),j()(Qe,_t.SPECTATOR,{editable:!1,pageable:!1,cacheable:!1,zoomable:!0}),j()(Qe,_t.GUEST,{editable:!1,pageable:!1,cacheable:!1,zoomable:!0}),j()(Qe,_t.ASSISTANT,{editable:!1,pageable:!0,cacheable:!1,zoomable:!0}),Qe),VA=A(11);window.DocModuler=Mt.a;var GA=(Ue=Fe(),Se=Ee(),Ie=xe(bt),Te=Fe(),Oe=Ee(),ke=xe(bt),De=Fe(),He=Ee(),Le=xe(bt),Me=Fe(),Pe=Ee(),Re=xe(bt),Ke=Fe(),je=Ee(),Ne=xe(bt),Ve=Fe(),Ge=Ee(),Xe=xe(bt),We=Fe(),Ye=Ee(),Je=xe(bt),ze=Fe(),qe=Ee(),Ze=xe(bt),$e=Fe(),tA=Ee(),eA=Fe(),AA=Ee(),rA=Fe(),nA=Ee(),iA=Fe(),oA=Ee(),sA=Fe(),aA=Ee(),cA=Fe(),uA=Ee(),hA=Fe(),lA=Ee(),fA=Fe(),dA=Ee(),pA=Fe(),gA=Ee(),vA=Fe(),yA=Ee(),BA=Fe(),wA=Ee(),mA=Fe(),CA=Ee(),bA=Fe(),_A=Ee(),xA=Fe(),EA=Ee(),FA=Fe(),QA=Fe(),UA=Fe(),SA=Fe(),IA=Ee(),TA=Fe(),OA=Ee(),kA=Fe(),DA=Ee(),HA=Fe(),LA=Ee(),MA=Fe(),PA=Ee(),RA=function(){function t(e){var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(v()(this,t),e){me.OBJ.level="warn";var n=e.channelId,i=e.appId,o=e.role,s=e.isVod,a=e.client,c=e.roomId,u=void 0===c?"":c,h=e.accountId,l=e.token,f=e.hide,d=e.mode,p=e.delay,g=e.isVodRecord,y=void 0!==g&&g,B=e.forceDocType,w=void 0===B?null:B,m=e.watermarkOption,C=e.context,b=void 0===C?{}:C;if(this.isVod=s,s||n)if(s&&!n&&(n=""),i&&"string"==typeof i)if(!o||"number"!=typeof o||o<1||o>4){var _={msg:"role参数非法, role:".concat(o)};r&&r(_)}else if(h&&"string"==typeof i)if(a)if(l)if(void 0!==p&&(p<0||p>30)){var E={msg:"delay参数非法，delay: ".concat(p)};r&&r(E)}else{m&&(this.watermarkOption=m);var F=Ft.FLV;d&&(F=d);var Q=-1;p&&(Q=p),this.context=b,P()(this),this.store=new Lt,this.store.setKV(tt,n),this.store.setKV($,i),this.store.setKV(ct,~~o),this.store.setKV(ut,!!s),this.store.setKV(ot,a),this.store.setKV(et,u),this.store.setKV(rt,h),this.store.setKV(st,h),this.store.setKV(nt,l),this.store.setKV(pt,F),this.store.setKV(gt,Q),this.store.setKV(Bt,!!y),this.store.setKV(ht,!0),this.store.setKV(mt,w),this.permission=new jA,this.permission.role=~~o,this.store.setKV(vt,this.permission.permission),this.store.setKV(it,"sol"),this.docMap=new x.a,this.option={stroke:"#000000",strokeWidth:4},this._currentDoc=null,this._forceV4=!!e.useV4,this._forceApiSend=!!e.useApiSend,this.isAllComplete=!1,this.success=A,this.failed=r,this.hide=!!f,this.timer=null;var U={channelId:n,appId:i,uid:h,roomId:u,aid:u||n,ver:"3.4.0",lib:"vhall-jssdk-doc"};this._tr=Object(R.createTracker)(26,null,U,{snakeCase:!0,presetPickKeys:["doc_id","doc_cid"]});var S={channelId:n,appId:i,roleType:o,isVod:s,client:a,accountId:h,hide:f,mode:d,delay:p,isVodRecord:y,forceDocType:w};this._tr.event(10,S),this.listenUndoStepEvent()}else{var I={msg:"token为空"};r&&r(I)}else{var T={msg:"需要传入client类型，类型值参考VHDocSDK.Client枚举"};r&&r(T)}else{var O={msg:"第三方用户Id不正确, accountId:".concat(h)};r&&r(O)}else{var k={msg:"appId参数非法, appId:".concat(i)};r&&r(k)}else{D={msg:"channelId 参数非法,channelId:".concat(n,".")};r&&r(D)}}else{var D={msg:"opt 参数不是一个对象."};r&&r(D)}}var e,A,r,n,o,a,u;return B()(t,[{key:"_init",value:(u=p()(b.a.mark((function t(){var e,A,r,n=this;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("undefined"!=typeof VhallMsg){t.next=10;break}return t.next=4,he();case 4:if(t.sent){t.next=10;break}return e={msg:"加载消息库失败"},this._tr.exception(11,e),this.failed&&this.failed(e),t.abrupt("return");case 10:A={sdk:null,appId:this.store.getKV($),third_party_user_id:this.store.getKV(rt),token:this.store.getKV(nt),channelId:this.store.getKV(tt),context:this.context,hide:this.hide},this._forceV4&&(A.sdk={name:"vhall-jssdk-doc",version:"3.4.0"}),r=null,VhallMsg.createInstance(A,function(){var t=p()(b.a.mark((function t(e){var i,o,s,a,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(me.OBJ.debug("VhallMsg.createInstance"),r=e,n._tr.event(122),n._tr.setAppid(A.appId),n.isVod){t.next=22;break}if(me.OBJ.debug("vhallmsg.connect"),!r.sdkName){t.next=20;break}return t.prev=7,t.next=10,r.join();case 10:t.next=18;break;case 12:return t.prev=12,t.t0=t.catch(7),n._tr.exception(11,t.t0),n.failed&&n.failed(t.t0),r&&r.destroy&&r.destroy(),t.abrupt("return");case 18:t.next=21;break;case 20:r.connect();case 21:n.store.setKV(dt,r);case 22:if(i=e.info){t.next=33;break}return t.prev=24,t.next=27,e.api.init({channelId:A.channelId,from:"jssdk-doc"});case 27:o=t.sent,i=o.data,t.next=33;break;case 31:t.prev=31,t.t1=t.catch(24);case 33:s=i&&i.document_server||"https://cnstatic01.e.vhall.com/document",n.store.setKV(ft,s+"/"),n.kit||(me.OBJ.debug("new OperateKit"),n.kit=new _e(n)),n.store.getKV(ut)&&(me.OBJ.debug("createBoard"),a=document.createElement("div"),c="myVodNode",a.setAttribute("id",c),document.body.appendChild(a),n.createBoard({elId:c,width:1,height:1,id:c,isVod:!0}),me.OBJ.debug("createBoard end"),n.store.getKV(Bt)&&de(n,KA,n)),me.OBJ.debug("VhallMsg.createInstance success"),n._tr.event(123),n.success&&n.success();case 40:case"end":return t.stop()}}),t,null,[[7,12],[24,31]])})));return function(e){return t.apply(this,arguments)}}(),(function(t){n._tr.exception(11,t),n.failed&&n.failed(t)}));case 14:case"end":return t.stop()}}),t,this)}))),function(){return u.apply(this,arguments)})},{key:"createDocument",value:(a=p()(b.a.mark((function t(e){var A,r,n,i,o,s,a,c,u,h,l,d,p,g,v,y,B=this;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(A=e.elId,r=e.width,n=e.height,i=e.id,o=e.noDispatch,s=e.docId,a=e.option,c=void 0===a?{}:a,A&&r&&n){t.next=3;break}return t.abrupt("return",F.a.reject({msg:"必要参数为空，创建文档失败,elId:".concat(A,", width:").concat(r,", height:").concat(n)}));case 3:if(this.checkOption(c)){t.next=5;break}return t.abrupt("return",F.a.reject({msg:"option参数校验失败"}));case 5:return this.isAllComplete=!1,i||(i=A),this._tr.event(125,{doc_cid:i||"",elId:A,width:r,height:n,noDispatch:o,docId:s||"",roleType:this.permission.role}),u=new Mt.a,h={userId:this.store.getKV(rt),docId:s},u.passThrough(h),l=this.permission.permission,d=l.editable,p=l.pageable,g=this.store.getKV(ut),u.registMessager(this.kit.sendMsg.bind(this)),u.on("slideChange",this.kit.reportChapters.bind(this)),u.on("stepChange",this.kit.reportChapters.bind(this)),u.on("scaleTrigger",(function(t){B.emit(xt.SCALE_TRIGGER,t)})),u.on("docNotExit",(function(t){B.emit(xt.DOCUMENT_NOT_EXIT,t);var e=new Error("docNotExit");e.$preset={doc_cid:t&&(t.cid||t.id),docId:t&&t.docId},B._tr.exception(160,e)})),u.on("playbackComplete",(function(t){B.emit(xt.PLAYBACKCOMPLETE,t),B._tr.event(161,{doc_cid:t&&(t.cid||t.id)||"",docId:t&&t.docId})})),u.on("animationInfo",(function(t){t.cid;var e=t.params,A=e.animationInfo;e.docId,u.store.setKV("animationInfo",new x.a(A))})),u.on("documentOnload",(function(t){B._tr.event(162,{doc_cid:t&&(t.cid||t.id)}),u.loadComplete=!0;var e=!0;B.docMap.forEach((function(t){!t.loadComplete&&(e=!1)})),e&&(B.isAllComplete=!0,B.emit(xt.ALL_COMPLETE,{}),B.permission.role!=_t.HOST&&B.permission.role!=_t.ASSISTANT||B.resetUndoManagerData(),B._tr.event(163)),!B.store.getKV(ut)&&!u.store.getKV(wt)&&B.getChapters({elId:A,docId:u.docId});var r=f()(f()({graphicType:-1},B.option),c),n=r.stroke,i=r.strokeWidth,o=r.graphicType;u.setGraphic(o),u.option={stroke:n,strokeWidth:i}})),u.on("report_page_change",this.kit.reportPageChange.bind(this)),u.on("documentReady",(function(t){var e=B.currentDoc&&B.currentDoc.id||"",A={docId:s,info:t,elId:e};B.emit(xt.DOCUMENT_LOAD_COMPLETE,A),B._tr.event(164,{doc_cid:e,docId:s})})),v=this.store.getKV(ft),y={basic:{width:r,height:n,urlBase:v},container:{editable:d,pageable:p,cacheable:!1}},u.createDocument(A,i,y),u.isVod=g,g&&u.vodIsUseCompat()&&u.vodSetData(this.vodData||[]),this.docMap.set(i,u),u.setWatermark(),t.next=32,this.kit.createDocument({id:i,width:r,height:n,noDispatch:o,docId:s});case 32:return this._tr.event(126,{doc_cid:i||"",elId:A,width:r,height:n,noDispatch:o,docId:s||"",roleType:this.permission.role}),t.abrupt("return",F.a.resolve());case 34:case"end":return t.stop()}}),t,this)}))),function(t){return a.apply(this,arguments)})},{key:"createBoard",value:(o=p()(b.a.mark((function t(e){var A,r,n,i,o,s,a,c,u,h,l,d,p,g,v,y,B,w,m,C=this;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(me.OBJ.debug("进入createBoard函数"),A=e.elId,r=e.width,n=e.height,i=e.backgroundColor,o=e.id,s=e.noDispatch,a=e.option,c=void 0===a?{}:a,A&&r&&n){t.next=4;break}return t.abrupt("return",F.a.reject({msg:"必要参数为空，创建白板失败,elId:".concat(A,", width:").concat(r,", height:").concat(n,", backgroundColor:").concat(i)}));case 4:if(this.checkOption(c)){t.next=6;break}return t.abrupt("return",F.a.reject({msg:"option参数校验失败"}));case 6:return this.isAllComplete=!1,o||(o=A),this._tr.event(127,{doc_cid:o||"",width:r,height:n,backgroundColor:i,noDispatch:s,params:c,roleType:this.permission.role}),me.OBJ.debug("new DocModuler"),u=new Mt.a,me.OBJ.debug("new DocModuler end"),h={userId:this.store.getKV(rt),docId:""},me.OBJ.debug("board.passThrough"),u.passThrough(h),l=this.permission.permission.editable,d=this.store.getKV(ut),me.OBJ.debug("board.registMessager"),u.registMessager(this.kit.sendMsg.bind(this)),me.OBJ.debug("board.registMessager end"),u.on("scaleTrigger",(function(t){C.emit(xt.SCALE_TRIGGER,t)})),p=this.store.getKV(ft),g={basic:{width:r,height:n,backgroundColor:i,urlBase:p},container:{editable:l,cacheable:!1}},me.OBJ.debug("board.createBoard"),u.createBoard(A,o,g),me.OBJ.debug("board.createBoard end"),u.isVod=d,d&&u.vodIsUseCompat()&&u.vodSetData(this.vodData||[]),this.docMap.set(o,u),1!=e.width&&1!=e.height&&u.setWatermark(),t.next=32,this.kit.createBoard({id:o,width:r,height:n,backgroundColor:i,noDispatch:s});case 32:return v=f()(f()({graphicType:-1},this.option),c),y=v.stroke,B=v.strokeWidth,w=v.graphicType,u.setGraphic(w),u.option={stroke:y,strokeWidth:B},u.store.setKV("backgroundColor",i),t.next=38,this._delay(1500);case 38:return u.loadComplete=!0,m=!0,this.docMap.forEach((function(t){!t.loadComplete&&(m=!1)})),m&&(this.isAllComplete=!0,this.emit(xt.ALL_COMPLETE,{}),this.permission.role!=_t.HOST&&this.permission.role!=_t.ASSISTANT||this.resetUndoManagerData()),me.OBJ.debug("Main createBoard end"),this._tr.event(128,{doc_cid:o||"",width:r,height:n,backgroundColor:i,noDispatch:s,params:c,roleType:this.permission.role}),t.abrupt("return",F.a.resolve());case 45:case"end":return t.stop()}}),t,this)}))),function(t){return o.apply(this,arguments)})},{key:"destroyContainer",value:(n=p()(b.a.mark((function t(){var e,A,r,n,i,o=arguments;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=o.length>0&&void 0!==o[0]?o[0]:{},A=e.id){t.next=5;break}return me.OBJ.warn("容器id为空，无法销毁"),t.abrupt("return",F.a.reject({msg:"容器id为空，无法销毁"}));case 5:if(this._tr.event(129,{doc_cid:A||""}),r=this.docMap.get(A)){t.next=9;break}return t.abrupt("return",F.a.resolve());case 9:n=r.docId||"",r.destroy(),this.docMap.delete(A);try{this._currentDoc.store.getKV("cid")==A&&(this._currentDoc=null,this.store.setKV(lt,-1))}catch(t){}return i=!0,this.docMap.forEach((function(t){!t.loadComplete&&(i=!1)})),i&&h()(this.docMap.keys()).length&&(this.isAllComplete=!0),this.kit.destroy({id:A,docId:n}),t.abrupt("return",F.a.resolve());case 18:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"loadDoc",value:function(t){var e=this,A=t.docId,r=t.docType,n=t.id,i=this.store.getKV(mt);if((i===Ht.DYNAMIC||i===Ht.STATIC)&&r!==i){return F.a.reject({code:10002,msg:"强制演示类型与预演式类型不相符"})}return this._tr.event(134,{docId:A,docType:r,doc_cid:n||""}),this.store.setKV(At,A),new F.a((function(t,n){e.kit.getDocInfo({docId:A}).then(function(){var i=p()(b.a.mark((function i(o){var s,a,c,u;return b.a.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(s=o.hash,a=o.doc_type,c=o.status,u=o.status_jpeg,!(1==a&&200!=c||2==a&&200!=u)){i.next=4;break}return n({code:10002,msg:"文档转换尚未完成"}),i.abrupt("return");case 4:i.t0=r,i.next=1===i.t0?7:2===i.t0?13:19;break;case 7:if(200==c){i.next=10;break}return n({code:10002,msg:"文档转换尚未完成或指定转码类型与欲演示类型不相符"}),i.abrupt("return");case 10:return o.slidesTotal=o.converted_page,o.doc_type=r,i.abrupt("break",21);case 13:if(200==u){i.next=16;break}return n({code:10002,msg:"文档转换尚未完成或指定转码类型与欲演示类型不相符"}),i.abrupt("return");case 16:return o.slidesTotal=o.converted_page_jpeg,o.doc_type=r,i.abrupt("break",21);case 19:return o.slidesTotal=1==a?o.converted_page:o.converted_page_jpeg,i.abrupt("break",21);case 21:o.slideIndex=0,o.stepIndex=0,e.currentDoc.docId=A,e.currentDoc.setDoc(s,U()(o)),t(o);case 26:case"end":return i.stop()}}),i)})));return function(t){return i.apply(this,arguments)}}()).catch((function(t){me.OBJ.error(t),n(t);var r={};e.docMap.forEach((function(t){t.store.getKV("passThrough").docId==A&&(r.docId=A,r.cid=t.store.getKV("cid"))})),e.emit(xt.DOCUMENT_NOT_EXIT,r);var i=new Error("docNotExit");i.$preset={doc_cid:r.cid,docId:A},e._tr.exception(160,i)}))}))}},{key:"getChapters",value:(r=p()(b.a.mark((function t(e){var A,r,n,i,o,s,a,u,h,l,f,d,p,g,v,y;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return A=e.elId,r=e.docId,t.prev=1,n=this.docMap.get(A),t.next=5,this.kit.getChapters(r);case 5:i=t.sent,n.store.setKV(wt,i),o=[],s=c()(i);try{for(s.s();!(a=s.n()).done;)u=a.value,h=u.page,l=u.title,f=u.step,d=u.subsection,p=u.created_at,g=u.cid,v=u.document_id,y=d.map((function(t){var e=t.page,A=t.title;return{slideIndex:e,stepIndex:t.step,title:A,createTime:t.created_at}})),o.push({slideIndex:h,stepIndex:f,title:l,sub:y,cid:g||A,createTime:p,docId:v})}catch(t){s.e(t)}finally{s.f()}return t.abrupt("return",F.a.resolve({chapters:o,elId:A,docId:r}));case 13:return t.prev=13,t.t0=t.catch(1),t.abrupt("return",F.a.reject(t.t0));case 16:case"end":return t.stop()}}),t,this,[[1,13]])}))),function(t){return r.apply(this,arguments)})},{key:"setDoc",value:function(t,e,A){this._tr.event(130,{hash:e,opts:t,docOpts:A}),this.currentDoc.setDoc(e,A)}},{key:"prevPage",value:function(t){this._tr.event(140,{roleType:this.permission.role}),this.currentDoc.prevPage()}},{key:"nextPage",value:function(t){this._tr.event(141,{roleType:this.permission.role}),this.currentDoc.nextPage()}},{key:"gotoPage",value:function(t){var e=t.page;this._tr.event(144,{page:e,roleType:this.permission.role}),this.currentDoc.gotoPage(e)}},{key:"prevStep",value:function(t){this._tr.event(142,{roleType:this.permission.role}),this.currentDoc.prevStep()}},{key:"nextStep",value:function(){this._tr.event(143,{roleType:this.permission.role}),this.currentDoc.nextStep()}},{key:"gotoStep",value:function(t){var e=t.pageId,A=t.stepId;this._tr.event(145,{pageId:e,stepId:A,roleType:this.permission.role}),this.currentDoc.gotoStep(e,A)}},{key:"setPen",value:function(){this._tr.event(101),this.currentDoc.setGraphic(Ct.PEN)}},{key:"setHighlighters",value:function(){this._tr.event(102),this.currentDoc.setGraphic(Ct.NITE_WHITE_PEN)}},{key:"setSquare",value:function(){this._tr.event(103),this.currentDoc.setGraphic(Ct.SQUARE)}},{key:"setCircle",value:function(){this._tr.event(104),this.currentDoc.setGraphic(Ct.CIRCLE)}},{key:"setBitmap",value:function(){this._tr.event(100),this.currentDoc.setGraphic(Ct.BITMAP)}},{key:"setIsoscelesTriangle",value:function(){this._tr.event(105),this.currentDoc.setGraphic(Ct.ISOSCELES_TRIANGLE)}},{key:"setRightTriangle",value:function(){this._tr.event(106),this.currentDoc.setGraphic(Ct.RIGHT_TRIANGLE)}},{key:"setSingleArrow",value:function(){this._tr.event(107),this.currentDoc.setGraphic(Ct.SINGLE_ARROW)}},{key:"setDoubleArrow",value:function(){this._tr.event(108),this.currentDoc.setGraphic(Ct.DOUBLE_ARROW)}},{key:"setText",value:function(){this._tr.event(109),this.currentDoc.setGraphic(Ct.TEXT)}},{key:"cancelDrawable",value:function(){this._tr.event(110),this.currentDoc.setGraphic(Ct.CANCEL)}},{key:"clear",value:function(){this._tr.event(119),this.currentDoc.setTool(5),this.resetUndoManagerData()}},{key:"setStroke",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.color;this._tr.event(111,{color:e}),this.currentDoc.option={stroke:e}}},{key:"getStroke",value:function(){return this.option.stroke}},{key:"setStrokeWidth",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.width;this._tr.event(112,{width:e}),this.currentDoc.option={strokeWidth:e}}},{key:"getStrokeWidth",value:function(){return this.option.strokeWidth}},{key:"setControlStyle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.style;if(e)if(this._tr.event(131,{style:e}),t&&t.id){var A=t.id,r=this.docMap.get(A);r&&r.setControlStyle(e)}else this.docMap.forEach((function(t){t.setControlStyle(e)}));else me.OBJ.warn("设置样式需要填写样式，传参数 {style: { 样式代码 }}")}},{key:"getThumbnailList",value:function(t){var e=[];if(t&&t.id){var A=t.id,r=this.docMap.get(A);if(r){var n={};n.id=r.id,n.list=r.getThumbnailList(),e.push(n)}return e}return this.docMap.forEach((function(t){if("document"===t.container.type){var A={};A.id=t.id,A.list=t.getThumbnailList(),e.push(A)}})),e}},{key:"getDocInfos",value:function(t){var e=[];if(t&&t.id){var A=t.id,r=this.docMap.get(A);if(r.container&&"document"===r.container.type){var n={};n.id=r.id,n.list=r.getDocInfo(),e.push(n)}return e}return this.docMap.forEach((function(t){if("document"===t.container.type){var A={};A.id=t.id,A.list=t.getDocInfo(),e.push(A)}})),e}},{key:"setSize",value:function(t,e,A){if(this._tr.event(132,{w:t,h:e,opts:A}),t>0&&e>0)if(A&&A.id){var r=this.docMap.get(A.id);if(!r)return void me.OBJ.error("doesn't exist doc, id:".concat(A.id));r.setSize(t,e)}else this.docMap.forEach((function(A){A.setSize(t,e)}));else me.OBJ.warn("setSize宽或高必须大于0")}},{key:"setEraser",value:function(){this._tr.event(113),this.currentDoc.setTool(2)}},{key:"undo",value:function(){this.currentDoc.setTool(3)}},{key:"redo",value:function(){this.currentDoc.setTool(4)}},{key:"zoomIn",value:function(){this._tr.event(114),this.currentDoc.zoomIn()}},{key:"zoomOut",value:function(){this._tr.event(115),this.currentDoc.zoomOut()}},{key:"zoomReset",value:function(){this._tr.event(116),this.currentDoc.zoomReset()}},{key:"move",value:function(){this._tr.event(117),this.currentDoc.zoomMove()}},{key:"cancelZoom",value:function(){this._tr.event(118);var t=this.permission.permission;this.currentDoc.zoomEnd(t)}},{key:"destroy",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._tr.event(124),this.docMap&&(this.docMap.forEach((function(t){t.destroy()})),this.docMap.clear());var e=this.store.getKV(dt);e&&(this.store.deleteKey(dt),t&&(e.destroy(),e=null)),this.__ee__=[],this.kit&&(this.kit.destroyKit(),this.kit=null),VhallMsg&&VhallMsg.__ee__&&(VhallMsg.__ee__.broadcast=[])}},{key:"setVodData",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];me.OBJ.debug("Main setVodData");var A=t.data;this.vodData=A;var r=this.docMap.get("myVodNode");r.vodSetData(A);var n=e&&e.length,i=A&&A.length,o=this.getVodAllCids().map((function(t){return t&&t.cid}));this._tr.event(165,{chapterLength:n,cuepointLength:i,cids:o});var s,a=[],u=c()(e);try{for(u.s();!(s=u.n()).done;){var h=s.value,l=h.page,f=h.title,d=h.step,p=h.subsection,g=h.created_at,v=h.cid,y=h.document_id,B=p.map((function(t){var e=t.page,A=t.title;return{slideIndex:e,stepIndex:t.step,title:A,createTime:t.created_at}}));a.push({slideIndex:l,stepIndex:d,title:f,sub:B,cid:v,createTime:g,docId:y})}}catch(t){u.e(t)}finally{u.f()}this.emit(xt.VOD_CUEPOINT_LOAD_COMPLETE,{chapters:a})}},{key:"loadVodIframe",value:function(){var t,e={},A=c()(this.getVodAllCids());try{for(A.s();!(t=A.n()).done;){var r=t.value;-1!==r.cid.indexOf("document")&&(e[r.cid]="")}}catch(t){A.e(t)}finally{A.f()}if(this._tr.event(166,{cids:I()(e)}),I()(e).length){var n,i=c()(this.vodData);try{for(i.s();!(n=i.n()).done;){var o=n.value,s=JSON.parse(o.content2);if(("onStepChange"==s.command[0].event||"onSlideChange"==s.command[0].event)&&""===e[s.cid]){e[s.cid]=o.content2,this.docMap.get(s.cid)._ee.dispatch("vod_event",[o.content2]);for(var a=!0,u=0,h=I()(e);u<h.length;u++){!e[h[u]]&&(a=!1)}if(a)break}}}catch(t){i.e(t)}finally{i.f()}}}},{key:"setVodTime",value:function(t){me.OBJ.debug("Main setVodTime");var e={container:[]},A=this.getVodAllCids(),r=[];A.forEach((function(e){t>e.create&&t<e.destroy&&(me.OBJ.debug("push: ".concat(e.cid,", time: ").concat(t,", create: ").concat(e.create,", destroy: ").concat(e.destroy)),r.push(e.cid))})),e.container=r;var n=this.getVodAllWatchStatus(),i=!1;n.forEach((function(e){t>e.createTime&&(i=e.open)})),e.watchOpen=i;var o=this.getAllActivatedCids(),s="";o.forEach((function(e){t>e.activatedTime&&(s=e.cid)})),e.activeId=s,me.OBJ.debug("activeId: ".concat(e.activeId)),this.emit(xt.VOD_TIME_UPDATE,e);var a=this.docMap.get(s);a&&a.vodTime(t)}},{key:"getVodAllCids",value:function(){var t=this.docMap.get("myVodNode");return t?t.vodAllCids():[]}},{key:"getLiveAllCids",value:function(){return s()(Array,h()(this.docMap.keys()))}},{key:"getAllActivatedCids",value:function(){me.OBJ.debug("call getAllActivatedCids");var t=this.docMap.get("myVodNode");return t?t.vodAllActivatedCids():[]}},{key:"getVodAllWatchStatus",value:function(){me.OBJ.debug("call getVodAllWatchStatus");var t=this.docMap.get("myVodNode");return t?t.vodAllWatchStatus():[]}},{key:"setRole",value:function(t){var e=this;return this._tr.event(133,{roleType:t}),new F.a((function(A,r){if(e.permission.permission.pageable&&!e.isAllComplete&&h()(e.docMap.keys()).length)r({code:10001,msg:"实例未全部加载完毕，切换失败"});else{e.store.setKV(ct,t),e.permission.role=t;var n=e.permission.permission;e.docMap.forEach((function(t){var e=t.container;e&&("document"===e.type&&(e.pageable=n.pageable),e.editable=n.editable,e.cacheable=n.cacheable)})),A()}}))}},{key:"getRole",value:function(){return this.store.getKV(ct)}},{key:"setData",value:function(t){this.docMap.forEach((function(e){e.setData(t)}))}},{key:"setRemoteData",value:function(t){var e=t.cid,A=t.docId,r=t.active,n=t.pageData,i=t.hash,o=t.is_board,s=t.doc_type,a=this.store.getKV(mt);a!==Ht.DYNAMIC&&a!==Ht.STATIC||(s=a,t.doc_type=a);var c=this.docMap.get(e);c&&(1===r&&(this._currentDoc=c,this.currentDoc.setSelected(!0),this.store.setKV(lt,e)),1===o?(t.slidesTotal=1==s?t.converted_page:t.converted_page_jpeg,t.slideIndex=t.show_page,t.stepIndex=t.show_step,c.docId=A,c.setDoc(i,U()(t),!0)):n.forEach((function(t){c.setData(U()(t))})))}},{key:"setRemoteData2",value:function(t){var e=this;t.forEach((function(t){e.setRemoteData(t)}))}},{key:"selectContainer",value:(A=p()(b.a.mark((function t(e){var A,r,n,i,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(A=e.id,r=e.noDispatch,n=void 0!==r&&r,(i=this.store.getKV(lt))!==A){t.next=4;break}return t.abrupt("return",F.a.resolve());case 4:if(this._currentDoc&&(this._currentDoc.setSelected(!1),this._currentDoc=null),o=this.docMap.get(A),this._tr.event(146,{docCid:i||"",noDispatch:n}),o){t.next=10;break}return me.OBJ.error("不存在id为".concat(A,"的容器")),t.abrupt("return",F.a.reject({msg:"不存在id为".concat(A,"的容器")}));case 10:if(this._currentDoc=o,this._currentDoc.setSelected(!0),this.store.setKV(lt,A),n){t.next=18;break}return t.next=16,this._delay(150);case 16:return t.next=18,this.kit.select(A,{cw:o.store.getKV("cw"),ch:o.store.getKV("ch"),width:o.store.getKV("imageWidth"),height:o.store.getKV("imageHeight"),backgroundColor:o.store.getKV("backgroundColor")||null,docId:o.docId});case 18:return t.abrupt("return",F.a.resolve());case 19:case"end":return t.stop()}}),t,this)}))),function(t){return A.apply(this,arguments)})},{key:"switchOnContainer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e="";t&&(e=t.id),this.store.setKV(ht,!0),this.kit.switchOn(e)}},{key:"switchOffContainer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e="";t&&(e=t.id),this.store.setKV(ht,!1),this.kit.switchOff(e)}},{key:"getContainerInfo",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.kit.getContainerInfo(t)}},{key:"resetContainer",value:function(){this.docMap.forEach((function(t){t.destroy()})),this.docMap.clear(),this.kit.resetContainerInfo()}},{key:"setPlayMode",value:function(t){this._tr.event(150,{playMode:t}),-1!=O()(Ft).indexOf(t)?this.store.setKV(pt,t):me.OBJ.warn("不支持模式:".concat(t))}},{key:"setAccountId",value:function(t){this.setRelay(t)}},{key:"setRelay",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._tr.event(151,{isRelay:t}),this.store.setKV(yt,t)}},{key:"start",value:function(t,e){return this._tr.event(152,{state:t,type:e,roleType:this.permission.role}),this.authentication("start")?this.kit.start(t,e):F.a.resolve()}},{key:"republish",value:function(){var t=this;return this._tr.event(153,{roleType:this.permission.role}),this.authentication("republish")&&!this.timer?(this.timer=setTimeout((function(){t.timer=null}),1e3),this.kit.republish()):F.a.resolve()}},{key:"authentication",value:function(t){var e=this.permission.permission,A=e.pageable,r=e.editable;return A||r?!this.isVod||(me.OBJ.warn("回放不应调用 ".concat(t," 方法")),!1):(me.OBJ.warn("该用户无编辑/翻页权限，不应调用 ".concat(t," 方法")),!1)}},{key:"checkOption",value:function(t){var e=t.stroke,A=t.strokeWidth,r=t.graphicType;if(e&&"string"!=typeof e){var n={msg:"option 下的 stroke 参数应为 string，现传入 stroke 类型为 ".concat(i()(e))};return me.OBJ.error(n),!1}if(A&&"number"!=typeof A){var o={msg:"option 下的 strokeWidth 参数应为 number，现传入 strokeWidth 类型为: ".concat(i()(A))};return me.OBJ.error(o),!1}if(r&&"number"!=typeof r){var s={msg:"option 下的 graphicType 参数应为 number，现传入 graphicType 类型为: ".concat(i()(r))};return me.OBJ.error(s),!1}return!0}},{key:"_delay",value:function(t){return new F.a((function(e){setTimeout((function(){e()}),t)}))}},{key:"setToken",value:function(t){this.store.setKV(nt,t)}},{key:"currentDoc",get:function(){return this._currentDoc}},{key:"allContainerId",get:function(){return D()(this.docMap.keys())}},{key:"allContainer",get:function(){return D()(this.docMap.values())}},{key:"zoomFactors",get:function(){return Mt.a.zoomFactors},set:function(t){Mt.a.zoomFactors=t}},{key:"watermarkOption",get:function(){return Mt.a.watermarkOption},set:function(t){Mt.a.watermarkOption=t}},{key:"setWatermark",value:function(t){Mt.a.watermarkImg=null,this.docMap.forEach((function(e){"myVodNode"!=e.id&&(e.clearWatermark(),e.setWatermark(t))}))}},{key:"createUUID",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"document";return"".concat(t,"-").concat(ue())}},{key:"listenUndoStepEvent",value:function(){var t=this;VA.a.getInstance().on("undo_step_change",(function(e){t.emit(xt.UNDO_STEP_CHANGE,e)}))}},{key:"checkCurrentDoc",value:function(){var t=this;return new F.a((function(e,A){var r=0,n=setInterval((function(){t.currentDoc?(e(),clearInterval(n)):++r>20&&(clearInterval(n),A())}),100)}))}},{key:"resetUndoManagerData",value:(e=p()(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.checkCurrentDoc();case 2:this.currentDoc.resetUndoManagerData();case 3:case"end":return t.stop()}}),t,this)}))),function(){return e.apply(this,arguments)})},{key:"rotate",value:function(t){Mt.a.rotateDeg=t,this.zoomReset()}}],[{key:"createInstance",value:function(e){var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=new t(e,A,r);return setTimeout((function(){n._init()}),0),n}},{key:"Event",get:function(){return xt}},{key:"Client",get:function(){return Et}},{key:"RoleType",get:function(){return _t}},{key:"PlayMode",get:function(){return Ft}},{key:"GRAPHIC",get:function(){return Ct}},{key:"forceDocType",get:function(){return Ht}},{key:"VERSION",get:function(){return"3.4.0"}}]),t}(),m()(RA.prototype,"loadDoc",[Ue,Se,Ie],L()(RA.prototype,"loadDoc"),RA.prototype),m()(RA.prototype,"setDoc",[Te,Oe,ke],L()(RA.prototype,"setDoc"),RA.prototype),m()(RA.prototype,"prevPage",[De,He,Le],L()(RA.prototype,"prevPage"),RA.prototype),m()(RA.prototype,"nextPage",[Me,Pe,Re],L()(RA.prototype,"nextPage"),RA.prototype),m()(RA.prototype,"gotoPage",[Ke,je,Ne],L()(RA.prototype,"gotoPage"),RA.prototype),m()(RA.prototype,"prevStep",[Ve,Ge,Xe],L()(RA.prototype,"prevStep"),RA.prototype),m()(RA.prototype,"nextStep",[We,Ye,Je],L()(RA.prototype,"nextStep"),RA.prototype),m()(RA.prototype,"gotoStep",[ze,qe,Ze],L()(RA.prototype,"gotoStep"),RA.prototype),m()(RA.prototype,"setPen",[$e,tA],L()(RA.prototype,"setPen"),RA.prototype),m()(RA.prototype,"setHighlighters",[eA,AA],L()(RA.prototype,"setHighlighters"),RA.prototype),m()(RA.prototype,"setSquare",[rA,nA],L()(RA.prototype,"setSquare"),RA.prototype),m()(RA.prototype,"setCircle",[iA,oA],L()(RA.prototype,"setCircle"),RA.prototype),m()(RA.prototype,"setBitmap",[sA,aA],L()(RA.prototype,"setBitmap"),RA.prototype),m()(RA.prototype,"setIsoscelesTriangle",[cA,uA],L()(RA.prototype,"setIsoscelesTriangle"),RA.prototype),m()(RA.prototype,"setRightTriangle",[hA,lA],L()(RA.prototype,"setRightTriangle"),RA.prototype),m()(RA.prototype,"setSingleArrow",[fA,dA],L()(RA.prototype,"setSingleArrow"),RA.prototype),m()(RA.prototype,"setDoubleArrow",[pA,gA],L()(RA.prototype,"setDoubleArrow"),RA.prototype),m()(RA.prototype,"setText",[vA,yA],L()(RA.prototype,"setText"),RA.prototype),m()(RA.prototype,"cancelDrawable",[BA,wA],L()(RA.prototype,"cancelDrawable"),RA.prototype),m()(RA.prototype,"clear",[mA,CA],L()(RA.prototype,"clear"),RA.prototype),m()(RA.prototype,"setStroke",[bA,_A],L()(RA.prototype,"setStroke"),RA.prototype),m()(RA.prototype,"setStrokeWidth",[xA,EA],L()(RA.prototype,"setStrokeWidth"),RA.prototype),m()(RA.prototype,"setEraser",[FA],L()(RA.prototype,"setEraser"),RA.prototype),m()(RA.prototype,"undo",[QA],L()(RA.prototype,"undo"),RA.prototype),m()(RA.prototype,"redo",[UA],L()(RA.prototype,"redo"),RA.prototype),m()(RA.prototype,"zoomIn",[SA,IA],L()(RA.prototype,"zoomIn"),RA.prototype),m()(RA.prototype,"zoomOut",[TA,OA],L()(RA.prototype,"zoomOut"),RA.prototype),m()(RA.prototype,"zoomReset",[kA,DA],L()(RA.prototype,"zoomReset"),RA.prototype),m()(RA.prototype,"move",[HA,LA],L()(RA.prototype,"move"),RA.prototype),m()(RA.prototype,"cancelZoom",[MA,PA],L()(RA.prototype,"cancelZoom"),RA.prototype),RA)}]).default}));